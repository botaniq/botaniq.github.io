function onScroll(){var e=$(document).scrollTop();$(menu_selector+" a").each(function(){var t=$(this).attr("href"),n=$(t);n.position().top<=e&&n.position().top+n.outerHeight()>e?($(menu_selector+" a.active-link").removeClass("active-link"),$(this).addClass("active-link")):$(this).removeClass("active-link")})}var navMain=document.querySelector(".menu"),navToggle=document.querySelector(".menu__toggle");navMain.classList.remove("menu_nojs"),navToggle.addEventListener("click",function(){navMain.classList.contains("menu_closed")?(navMain.classList.remove("menu_closed"),navMain.classList.add("menu_opened")):(navMain.classList.add("menu_closed"),navMain.classList.remove("menu_opened"))}),$(window).scroll(function(){var e=$(document).scrollTop();e>100?($(".fix-menu").addClass("fix-menu_fixed"),$(".chief").addClass("chief_indent"),$("#first").removeClass("active-link_home")):($(".fix-menu").removeClass("fix-menu_fixed"),$(".chief").removeClass("chief_indent"),$("#first").removeClass("active-link"),$("#first").addClass("active-link_home"))});var menu_selector=".menu";$(document).ready(function(){$(document).on("scroll",onScroll),$("a[href^=\\#]").click(function(e){e.preventDefault(),$(document).off("scroll"),$(menu_selector+" a.active-link").removeClass("active-link"),$(this).addClass("active-link");var t=$(this).attr("href"),n=$(t);$("html, body").animate({scrollTop:n.offset().top},500,function(){window.location.hash=t,$(document).on("scroll",onScroll)})})}),$(document).ready(function(){function e(e){e.validate({rules:{"Телефон":{required:!0,regex:"^([+]+)*[0-9 ()-]{5,20}$"},"Имя":{required:!0},"Сообщение":{required:!0}},messages:{"Телефон":{required:"Поле обязательно для заполнения",regex:"Телефон может содержать символы + - ()"},"Имя":{required:"Поле обязательно для заполнения"},"Сообщение":{required:"Поле обязательно для заполнения"}},submitHandler:function(e){var t=$(e),n=$(e).attr("id");switch(n){case"goToNewPage":$.ajax({type:"POST",url:t.attr("action"),data:t.serialize()}).always(function(e){ga("send","event","masterklass7","register"),yaCounter27714603.reachGoal("lm17lead")});break;case"popupResult":$.ajax({type:"POST",url:t.attr("action"),data:t.serialize()}).always(function(e){setTimeout(function(){$("#overlay").fadeIn(),$("#popup").fadeIn(),t.trigger("reset")},1100),$("#overlay, #close").on("click",function(e){$("#overlay").fadeOut(),$("#popup").fadeOut()})})}return!1}})}$("[data-submit]").on("click",function(e){e.preventDefault(),$(this).parent("form").submit()}),$.validator.addMethod("regex",function(e,t,n){var a=new RegExp(n);return this.optional(t)||a.test(e)},"Пожалуйста, проверьте свои данные"),$(".invite").each(function(){e($(this))}),$("[data-scroll]").on("click",function(){$("html, body").animate({scrollTop:$($.attr(this,"data-scroll")).offset().top},2e3),event.preventDefault()})}),$(document).ready(function(){$(document).click(function(e){setTimeout(function(){$("label").fadeOut(),e.stopPropagation()},4100)})}),$(function(){$("#tel").mask("+38(099)-999-99-99")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsib25TY3JvbGwiLCJzY3JvbGxfdG9wIiwiJCIsImRvY3VtZW50Iiwic2Nyb2xsVG9wIiwibWVudV9zZWxlY3RvciIsImVhY2giLCJoYXNoIiwidGhpcyIsImF0dHIiLCJ0YXJnZXQiLCJwb3NpdGlvbiIsInRvcCIsIm91dGVySGVpZ2h0IiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsIm5hdk1haW4iLCJxdWVyeVNlbGVjdG9yIiwibmF2VG9nZ2xlIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnRhaW5zIiwiYWRkIiwid2luZG93Iiwic2Nyb2xsIiwidGhlX3RvcCIsInJlYWR5Iiwib24iLCJjbGljayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIm9mZiIsImFuaW1hdGUiLCJvZmZzZXQiLCJsb2NhdGlvbiIsInZhbEVsIiwiZWwiLCJ2YWxpZGF0ZSIsInJ1bGVzIiwi0KLQtdC70LXRhNC+0L0iLCJyZXF1aXJlZCIsInJlZ2V4Iiwi0JjQvNGPIiwi0KHQvtC+0LHRidC10L3QuNC1IiwibWVzc2FnZXMiLCJzdWJtaXRIYW5kbGVyIiwiZm9ybSIsIiRmb3JtIiwiJGZvcm1JZCIsImFqYXgiLCJ0eXBlIiwidXJsIiwiZGF0YSIsInNlcmlhbGl6ZSIsImFsd2F5cyIsInJlc3BvbnNlIiwiZ2EiLCJ5YUNvdW50ZXIyNzcxNDYwMyIsInJlYWNoR29hbCIsInNldFRpbWVvdXQiLCJmYWRlSW4iLCJ0cmlnZ2VyIiwiZmFkZU91dCIsInBhcmVudCIsInN1Ym1pdCIsInZhbGlkYXRvciIsImFkZE1ldGhvZCIsInZhbHVlIiwiZWxlbWVudCIsInJlZ2V4cCIsInJlIiwiUmVnRXhwIiwib3B0aW9uYWwiLCJ0ZXN0IiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJtYXNrIl0sIm1hcHBpbmdzIjoiQUFnQ0EsUUFBU0EsWUFDTCxHQUFJQyxHQUFhQyxFQUFFQyxVQUFVQyxXQUM3QkYsR0FBRUcsY0FBZ0Is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TXdELE9BQU8sUUFBUUMsV0FFM0IvRCxFQUFFZ0UsVUFBVUMsVUFDUixRQUNBLFNBQVNDLEVBQU9DLEVBQVNDLEdBQ3JCLEdBQUlDLEdBQUssR0FBSUMsUUFBT0YsRUFDcEIsT0FBTzlELE1BQUtpRSxTQUFTSixJQUFZRSxFQUFHRyxLQUFLTixJQUU3QyxxQ0F1RUpsRSxFQUFFLFdBQVdJLEtBQUssV0FDZDhCLEVBQU1sQyxFQUFFTSxTQUVaTixFQUFFLGlCQUFpQjBCLEdBQUcsUUFBUyxXQUMzQjFCLEVBQUUsY0FBYytCLFNBQ1o3QixVQUFXRixFQUFHQSxFQUFFTyxLQUFLRCxLQUFNLGdCQUFpQjBCLFNBQVN0QixLQUN0RCxLQUNIK0QsTUFBTTVDLHFCQUlkN0IsRUFBRUMsVUFBVXdCLE1BQU0sV0FDZHpCLEVBQUVDLFVBQVUwQixNQUFPLFNBQVM4QyxHQUN4QmYsV0FBVyxXQUNQMUQsRUFBRSxTQUFTNkQsVUFDWFksRUFBTUMsbUJBQ1IsVUFJVjFFLEVBQUUsV0FDRUEsRUFBRSxRQUFRMkUsS0FBSyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG5hdk1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudScpO1xyXG52YXIgbmF2VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnVfX3RvZ2dsZScpO1xyXG5cclxubmF2TWFpbi5jbGFzc0xpc3QucmVtb3ZlKCdtZW51X25vanMnKTtcclxuXHJcbm5hdlRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKG5hdk1haW4uY2xhc3NMaXN0LmNvbnRhaW5zKCdtZW51X2Nsb3NlZCcpKSB7XHJcbiAgICAgICAgbmF2TWFpbi5jbGFzc0xpc3QucmVtb3ZlKCdtZW51X2Nsb3NlZCcpO1xyXG4gICAgICAgIG5hdk1haW4uY2xhc3NMaXN0LmFkZCgnbWVudV9vcGVuZWQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbmF2TWFpbi5jbGFzc0xpc3QuYWRkKCdtZW51X2Nsb3NlZCcpO1xyXG4gICAgICAgIG5hdk1haW4uY2xhc3NMaXN0LnJlbW92ZSgnbWVudV9vcGVuZWQnKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4kKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkgeyBcclxuICAgIHZhciB0aGVfdG9wID0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCk7XHJcbiAgICBpZiAodGhlX3RvcCA+IDEwMCkge1xyXG4gICAgICAgICQoJy5maXgtbWVudScpLmFkZENsYXNzKCdmaXgtbWVudV9maXhlZCcpO1xyXG4gICAgICAgICQoJy5jaGllZicpLmFkZENsYXNzKCdjaGllZl9pbmRlbnQnKTtcclxuICAgICAgICAkKCcjZmlyc3QnKS5yZW1vdmVDbGFzcygnYWN0aXZlLWxpbmtfaG9tZScpO1xyXG5cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgICQoJy5maXgtbWVudScpLnJlbW92ZUNsYXNzKCdmaXgtbWVudV9maXhlZCcpO1xyXG4gICAgICAgICQoJy5jaGllZicpLnJlbW92ZUNsYXNzKCdjaGllZl9pbmRlbnQnKTtcclxuICAgICAgICAkKCcjZmlyc3QnKS5yZW1vdmVDbGFzcygnYWN0aXZlLWxpbmsnKTtcclxuICAgICAgICAkKCcjZmlyc3QnKS5hZGRDbGFzcygnYWN0aXZlLWxpbmtfaG9tZScpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbnZhciBtZW51X3NlbGVjdG9yID0gXCIubWVudVwiOyBcclxuZnVuY3Rpb24gb25TY3JvbGwoKXtcclxuICAgIHZhciBzY3JvbGxfdG9wID0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCk7XHJcbiAgICAkKG1lbnVfc2VsZWN0b3IgKyBcIiBhXCIpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgaGFzaCA9ICQodGhpcykuYXR0cihcImhyZWZcIik7XHJcbiAgICAgICAgdmFyIHRhcmdldCA9ICQoaGFzaCk7XHJcbiAgICAgICAgaWYgKHRhcmdldC5wb3NpdGlvbigpLnRvcCA8PSBzY3JvbGxfdG9wICYmIHRhcmdldC5wb3NpdGlvbigpLnRvcCArIHRhcmdldC5vdXRlckhlaWdodCgpID4gc2Nyb2xsX3RvcCkge1xyXG4gICAgICAgICAgICAkKG1lbnVfc2VsZWN0b3IgKyBcIiBhLmFjdGl2ZS1saW5rXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlLWxpbmtcIik7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmUtbGlua1wiKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImFjdGl2ZS1saW5rXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgICQoZG9jdW1lbnQpLm9uKFwic2Nyb2xsXCIsIG9uU2Nyb2xsKTtcclxuICAgICQoXCJhW2hyZWZePVxcXFwjXVwiKS5jbGljayhmdW5jdGlvbihlKXtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgJChkb2N1bWVudCkub2ZmKFwic2Nyb2xsXCIpO1xyXG4gICAgICAgICQobWVudV9zZWxlY3RvciArIFwiIGEuYWN0aXZlLWxpbmtcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmUtbGlua1wiKTtcclxuICAgICAgICBcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlLWxpbmtcIik7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHZhciBoYXNoID0gJCh0aGlzKS5hdHRyKFwiaHJlZlwiKTtcclxuICAgICAgICB2YXIgdGFyZ2V0ID0gJChoYXNoKTtcclxuXHJcblxyXG4gICAgICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICBzY3JvbGxUb3A6IHRhcmdldC5vZmZzZXQoKS50b3BcclxuICAgICAgICB9LCA1MDAsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaGFzaDtcclxuICAgICAgICAgICAgJChkb2N1bWVudCkub24oXCJzY3JvbGxcIiwgb25TY3JvbGwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkgeyBcclxuICAgICQoJ1tkYXRhLXN1Ym1pdF0nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoJ2Zvcm0nKS5zdWJtaXQoKTtcclxuICAgIH0pXHJcbiAgICAkLnZhbGlkYXRvci5hZGRNZXRob2QoXHJcbiAgICAgICAgXCJyZWdleFwiLFxyXG4gICAgICAgIGZ1bmN0aW9uKHZhbHVlLCBlbGVtZW50LCByZWdleHApIHtcclxuICAgICAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cChyZWdleHApO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25hbChlbGVtZW50KSB8fCByZS50ZXN0KHZhbHVlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwi0J/QvtC20LDQu9GD0LnRgdGC0LAsINC/0YDQvtCy0LXRgNGM0YLQtSDRgdCy0L7QuCDQtNCw0L3QvdGL0LVcIlxyXG4gICAgKTtcclxuICAgIGZ1bmN0aW9uIHZhbEVsKGVsKXtcclxuXHJcbiAgICAgICAgZWwudmFsaWRhdGUoe1xyXG4gICAgICAgICAgICBydWxlczp7XHJcbiAgICAgICAgICAgICAgICDQotC10LvQtdGE0L7QvTp7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICByZWdleDogJ14oW1xcK10rKSpbMC05XFx4MjBcXHgyOFxceDI5XFwtXXs1LDIwfSQnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAg0JjQvNGPOntcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDp0cnVlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAg0KHQvtC+0LHRidC10L3QuNC1OntcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDp0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1lc3NhZ2VzOntcclxuICAgICAgICAgICAgICAgINCi0LXQu9C10YTQvtC9OntcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDon0J/QvtC70LUg0L7QsdGP0LfQsNGC0LXQu9GM0L3QviDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y8nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4OifQotC10LvQtdGE0L7QvSDQvNC+0LbQtdGCINGB0L7QtNC10YDQttCw0YLRjCDRgdC40LzQstC+0LvRiyArIC0gKCknXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAg0JjQvNGPOntcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDon0J/QvtC70LUg0L7QsdGP0LfQsNGC0LXQu9GM0L3QviDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y8nXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAg0KHQvtC+0LHRidC10L3QuNC1OntcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDon0J/QvtC70LUg0L7QsdGP0LfQsNGC0LXQu9GM0L3QviDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y8nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Ym1pdEhhbmRsZXI6IGZ1bmN0aW9uIChmb3JtKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGZvcm0gPSAkKGZvcm0pO1xyXG4gICAgICAgICAgICAgICAgdmFyICRmb3JtSWQgPSAkKGZvcm0pLmF0dHIoJ2lkJyk7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2goJGZvcm1JZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSdnb1RvTmV3UGFnZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICRmb3JtLmF0dHIoJ2FjdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogJGZvcm0uc2VyaWFsaXplKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWx3YXlzKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v0YHRgdGL0LvQutCwINC90LAg0YHRgtGA0LDQvdC40YbRgyBcItGB0L/QsNGB0LjQsdC+XCIgLSDRgNC10LTQuNGA0LXQutGCXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9jYXRpb24uaHJlZj0nJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL9C+0YLQv9GA0LDQstC60LAg0YbQtdC70LXQuSDQsiDQry7QnNC10YLRgNC40LrRgyDQuCBHb29nbGUgQW5hbHl0aWNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2EoJ3NlbmQnLCAnZXZlbnQnLCAnbWFzdGVya2xhc3M3JywgJ3JlZ2lzdGVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFDb3VudGVyMjc3MTQ2MDMucmVhY2hHb2FsKCdsbTE3bGVhZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UncG9wdXBSZXN1bHQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkZm9ybS5hdHRyKCdhY3Rpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6ICRmb3JtLnNlcmlhbGl6ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFsd2F5cyhmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjb3ZlcmxheScpLmZhZGVJbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjcG9wdXAnKS5mYWRlSW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGZvcm0udHJpZ2dlcigncmVzZXQnKTsgLy/QvtGH0LjRgdGC0LrQsCDQtNCw0L3QvdGL0YUg0YTQvtGA0LzRi1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sMTEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI292ZXJsYXksICNjbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI292ZXJsYXknKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNwb3B1cCcpLmZhZGVPdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG5cclxuICAgICQoJy5pbnZpdGUnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhbEVsKCQodGhpcykpO1xyXG4gICAgfSk7XHJcbiAgICAkKCdbZGF0YS1zY3JvbGxdJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvcDogJCggJC5hdHRyKHRoaXMsICdkYXRhLXNjcm9sbCcpICkub2Zmc2V0KCkudG9wXHJcbiAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG59KTsgXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG4gICAgJChkb2N1bWVudCkuY2xpY2soIGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICAkKFwibGFiZWxcIikuZmFkZU91dCgpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9LDQxMDApO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuJChmdW5jdGlvbigpe1xyXG4gICAgJChcIiN0ZWxcIikubWFzayhcIiszOCgwOTkpLTk5OS05OS05OVwiKTtcclxufSk7Il19
