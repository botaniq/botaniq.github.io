!function(t,e,n,o){"use strict";function i(t,e){var o,i,a=[],s=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=t&&t.data?t.data.options:e||{},o=e.$target||n(t.currentTarget),i=o.attr("data-fancybox")||"",i?(a=e.selector?n(e.selector):t.data?t.data.items:[],a=a.length?a.filter('[data-fancybox="'+i+'"]'):n('[data-fancybox="'+i+'"]'),s=a.index(o),s<0&&(s=0)):a=[o],n.fancybox.open(a,e,s))}if(t.console=t.console||{info:function(t){}},n){if(n.fn.fancybox)return void console.info("fancyBox already initialized");var a={loop:!1,gutter:50,keyboard:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M13,16 L20,23 L27,16 M20,7 L20,23 M10,24 L10,28 L30,28 L30,24" /></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg viewBox="0 0 40 40"><path d="M18,17 m-8,0 a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 M24,22 L31,29" /></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg viewBox="0 0 40 40"><path d="M10,10 L30,30 M30,10 L10,30" /></svg></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"><svg viewBox="0 0 32 32"><path d="M10,10 L22,22 M22,10 L10,22"></path></svg></button>',arrowLeft:'<a data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M18,12 L10,20 L18,28 M10,20 L30,20"></path></svg></a>',arrowRight:'<a data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M10,20 L30,20 M22,12 L30,20 L22,28"></path></svg></a>'},parentEl:"body",autoFocus:!1,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{idleTime:!1,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurück",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Maßstab"}}},s=n(t),r=n(e),c=0,l=function(t){return t&&t.hasOwnProperty&&t instanceof n},d=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),u=function(){var t,n=e.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(n.style[t]!==o)return i[t];return"transitionend"}(),f=function(t){return t&&t.length&&t[0].offsetHeight},p=function(t,e){var o=n.extend(!0,{},t,e);return n.each(e,function(t,e){n.isArray(e)&&(o[t]=e)}),o},h=function(t,o,i){var a=this;a.opts=p({index:i},n.fancybox.defaults),n.isPlainObject(o)&&(a.opts=p(a.opts,o)),n.fancybox.isMobile&&(a.opts=p(a.opts,a.opts.mobile)),a.id=a.opts.id||++c,a.currIndex=parseInt(a.opts.index,10)||0,a.prevIndex=null,a.prevPos=null,a.currPos=0,a.firstRun=!0,a.group=[],a.slides={},a.addContent(t),a.group.length&&(a.$lastFocus=n(e.activeElement).trigger("blur"),a.init())};n.extend(h.prototype,{init:function(){var i,a,s,r=this,c=r.group[r.currIndex],l=c.opts,d=n.fancybox.scrollbarWidth;n.fancybox.getInstance()||l.hideScrollbar===!1||(n("body").addClass("fancybox-active"),!n.fancybox.isMobile&&e.body.scrollHeight>t.innerHeight&&(d===o&&(i=n('<div style="width:100px;height:100px;overflow:scroll;" />').appendTo("body"),d=n.fancybox.scrollbarWidth=i[0].offsetWidth-i[0].clientWidth,i.remove()),n("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar { margin-right: '+d+"px; }</style>"),n("body").addClass("compensate-for-scrollbar"))),s="",n.each(l.buttons,function(t,e){s+=l.btnTpl[e]||""}),a=n(r.translate(r,l.baseTpl.replace("{{buttons}}",s).replace("{{arrows}}",l.btnTpl.arrowLeft+l.btnTpl.arrowRight))).attr("id","fancybox-container-"+r.id).addClass("fancybox-is-hidden").addClass(l.baseClass).data("FancyBox",r).appendTo(l.parentEl),r.$refs={container:a},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){r.$refs[t]=a.find(".fancybox-"+t)}),r.trigger("onInit"),r.activate(),r.jumpTo(r.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang];return e.replace(/\{\{(\w+)\}\}/g,function(t,e){var i=n[e];return i===o?t:i})},addContent:function(t){var e,i=this,a=n.makeArray(t);n.each(a,function(t,e){var a,s,r,c,l,d={},u={};n.isPlainObject(e)?(d=e,u=e.opts||e):"object"===n.type(e)&&n(e).length?(a=n(e),u=a.data()||{},u=n.extend(!0,{},u,u.options),u.$orig=a,d.src=i.opts.src||u.src||a.attr("href"),d.type||d.src||(d.type="inline",d.src=e)):d={type:"html",src:e+""},d.opts=n.extend(!0,{},i.opts,u),n.isArray(u.buttons)&&(d.opts.buttons=u.buttons),s=d.type||d.opts.type,c=d.src||"",!s&&c&&((r=c.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i))?(s="video",d.opts.videoFormat||(d.opts.videoFormat="video/"+("ogv"===r[1]?"ogg":r[1]))):c.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?s="image":c.match(/\.(pdf)((\?|#).*)?$/i)?s="iframe":"#"===c.charAt(0)&&(s="inline")),s?d.type=s:i.trigger("objectNeedsType",d),d.contentType||(d.contentType=n.inArray(d.type,["html","inline","ajax"])>-1?"html":d.type),d.index=i.group.length,"auto"==d.opts.smallBtn&&(d.opts.smallBtn=n.inArray(d.type,["html","inline","ajax"])>-1),"auto"===d.opts.toolbar&&(d.opts.toolbar=!d.opts.smallBtn),d.opts.$trigger&&d.index===i.opts.index&&(d.opts.$thumb=d.opts.$trigger.find("img:first")),d.opts.$thumb&&d.opts.$thumb.length||!d.opts.$orig||(d.opts.$thumb=d.opts.$orig.find("img:first")),"function"===n.type(d.opts.caption)&&(d.opts.caption=d.opts.caption.apply(e,[i,d])),"function"===n.type(i.opts.caption)&&(d.opts.caption=i.opts.caption.apply(e,[i,d])),d.opts.caption instanceof n||(d.opts.caption=d.opts.caption===o?"":d.opts.caption+""),"ajax"===d.type&&(l=c.split(/\s+/,2),l.length>1&&(d.src=l.shift(),d.opts.filter=l.shift())),d.opts.modal&&(d.opts=n.extend(!0,d.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),i.group.push(d)}),Object.keys(i.slides).length&&(i.updateControls(),e=i.Thumbs,e&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var o=this;o.removeEvents(),o.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),o.close(t)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),o.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),o.next()}).on("click.fb","[data-fancybox-zoom]",function(t){o[o.isScaledDown()?"scaleToActual":"scaleToFit"]()}),s.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?d(function(){o.update()}):(o.$refs.stage.hide(),setTimeout(function(){o.$refs.stage.show(),o.update()},n.fancybox.isMobile?600:250))}),r.on("focusin.fb",function(t){var o=n.fancybox?n.fancybox.getInstance():null;o.isClosing||!o.current||!o.current.opts.trapFocus||n(t.target).hasClass("fancybox-container")||n(t.target).is(e)||o&&"fixed"!==n(t.target).css("position")&&!o.$refs.container.has(t.target).length&&(t.stopPropagation(),o.focus())}),r.on("keydown.fb",function(t){var e=o.current,i=t.keyCode||t.which;if(e&&e.opts.keyboard&&!(t.ctrlKey||t.altKey||t.shiftKey||n(t.target).is("input")||n(t.target).is("textarea")))return 8===i||27===i?(t.preventDefault(),void o.close(t)):37===i||38===i?(t.preventDefault(),void o.previous()):39===i||40===i?(t.preventDefault(),void o.next()):void o.trigger("afterKeydown",t,i)}),o.group[o.currIndex].opts.idleTime&&(o.idleSecondsCounter=0,r.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){o.idleSecondsCounter=0,o.isIdle&&o.showControls(),o.isIdle=!1}),o.idleInterval=t.setInterval(function(){o.idleSecondsCounter++,o.idleSecondsCounter>=o.group[o.currIndex].opts.idleTime&&!o.isDragging&&(o.isIdle=!0,o.idleSecondsCounter=0,o.hideControls())},1e3))},removeEvents:function(){var e=this;s.off("orientationchange.fb resize.fb"),r.off("focusin.fb keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e){var i,a,s,r,c,l,d,u=this,p=u.group.length;if(!(u.isDragging||u.isClosing||u.isAnimating&&u.firstRun)){if(t=parseInt(t,10),a=u.current?u.current.opts.loop:u.opts.loop,!a&&(t<0||t>=p))return!1;if(i=u.firstRun=!Object.keys(u.slides).length,!(p<2&&!i&&u.isDragging)){if(r=u.current,u.prevIndex=u.currIndex,u.prevPos=u.currPos,s=u.createSlide(t),p>1&&((a||s.index>0)&&u.createSlide(t-1),(a||s.index<p-1)&&u.createSlide(t+1)),u.current=s,u.currIndex=s.index,u.currPos=s.pos,u.trigger("beforeShow",i),u.updateControls(),l=n.fancybox.getTranslate(s.$slide),s.isMoved=(0!==l.left||0!==l.top)&&!s.$slide.hasClass("fancybox-animated"),s.forcedDuration=o,n.isNumeric(e)?s.forcedDuration=e:e=s.opts[i?"animationDuration":"transitionDuration"],e=parseInt(e,10),i)return s.opts.animationEffect&&e&&u.$refs.container.css("transition-duration",e+"ms"),u.$refs.container.removeClass("fancybox-is-hidden"),f(u.$refs.container),u.$refs.container.addClass("fancybox-is-open"),f(u.$refs.container),s.$slide.addClass("fancybox-slide--previous"),u.loadSlide(s),s.$slide.removeClass("fancybox-slide--previous").addClass("fancybox-slide--current"),void u.preload("image");n.each(u.slides,function(t,e){n.fancybox.stop(e.$slide)}),s.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current"),s.isMoved?(c=Math.round(s.$slide.width()),n.each(u.slides,function(t,o){var i=o.pos-s.pos;n.fancybox.animate(o.$slide,{top:0,left:i*c+i*o.opts.gutter},e,function(){o.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous"),o.pos===u.currPos&&(s.isMoved=!1,u.complete())})})):u.$refs.stage.children().removeAttr("style"),s.isLoaded?u.revealContent(s):u.loadSlide(s),u.preload("image"),r.pos!==s.pos&&(d="fancybox-slide--"+(r.pos>s.pos?"next":"previous"),r.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),r.isComplete=!1,e&&(s.isMoved||s.opts.transitionEffect)&&(s.isMoved?r.$slide.addClass(d):(d="fancybox-animated "+d+" fancybox-fx-"+s.opts.transitionEffect,n.fancybox.animate(r.$slide,d,e,function(){r.$slide.removeClass(d).removeAttr("style")}))))}}},createSlide:function(t){var e,o,i=this;return o=t%i.group.length,o=o<0?i.group.length+o:o,!i.slides[t]&&i.group[o]&&(e=n('<div class="fancybox-slide"></div>').appendTo(i.$refs.stage),i.slides[t]=n.extend(!0,{},i.group[o],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,i){var a,s,r,c,l,d=this,u=d.current,f=u.$content,p=n.fancybox.getTranslate(u.$slide).width,h=n.fancybox.getTranslate(u.$slide).height,g=u.width,b=u.height;!d.isAnimating&&f&&"image"==u.type&&u.isLoaded&&!u.hasError&&(n.fancybox.stop(f),d.isAnimating=!0,t=t===o?.5*p:t,e=e===o?.5*h:e,a=n.fancybox.getTranslate(f),a.top-=n.fancybox.getTranslate(u.$slide).top,a.left-=n.fancybox.getTranslate(u.$slide).left,c=g/a.width,l=b/a.height,s=.5*p-.5*g,r=.5*h-.5*b,g>p&&(s=a.left*c-(t*c-t),s>0&&(s=0),s<p-g&&(s=p-g)),b>h&&(r=a.top*l-(e*l-e),r>0&&(r=0),r<h-b&&(r=h-b)),d.updateCursor(g,b),n.fancybox.animate(f,{top:r,left:s,scaleX:c,scaleY:l},i||330,function(){d.isAnimating=!1}),d.SlideShow&&d.SlideShow.isActive&&d.SlideShow.stop())},scaleToFit:function(t){var e,o=this,i=o.current,a=i.$content;!o.isAnimating&&a&&"image"==i.type&&i.isLoaded&&!i.hasError&&(n.fancybox.stop(a),o.isAnimating=!0,e=o.getFitPos(i),o.updateCursor(e.width,e.height),n.fancybox.animate(a,{top:e.top,left:e.left,scaleX:e.width/a.width(),scaleY:e.height/a.height()},t||330,function(){o.isAnimating=!1}))},getFitPos:function(t){var e,n,o,i,a,s=this,r=t.$content,c=t.width||t.opts.width,l=t.height||t.opts.height,d={};return!!(t.isLoaded&&r&&r.length)&&(i={top:parseInt(t.$slide.css("paddingTop"),10),right:parseInt(t.$slide.css("paddingRight"),10),bottom:parseInt(t.$slide.css("paddingBottom"),10),left:parseInt(t.$slide.css("paddingLeft"),10)},e=parseInt(s.$refs.stage.width(),10)-(i.left+i.right),n=parseInt(s.$refs.stage.height(),10)-(i.top+i.bottom),c&&l||(c=e,l=n),o=Math.min(1,e/c,n/l),c=Math.floor(o*c),l=Math.floor(o*l),"image"===t.type?(d.top=Math.floor(.5*(n-l))+i.top,d.left=Math.floor(.5*(e-c))+i.left):"video"===t.contentType&&(a=t.opts.width&&t.opts.height?c/l:t.opts.ratio||16/9,l>c/a?l=c/a:c>l*a&&(c=l*a)),d.width=c,d.height=l,d)},update:function(){var t=this;n.each(t.slides,function(e,n){t.updateSlide(n)})},updateSlide:function(t,e){var o=this,i=t&&t.$content,a=t.width||t.opts.width,s=t.height||t.opts.height;i&&(a||s||"video"===t.contentType)&&!t.hasError&&(n.fancybox.stop(i),n.fancybox.setTranslate(i,o.getFitPos(t)),t.pos===o.currPos&&(o.isAnimating=!1,o.updateCursor())),t.$slide.trigger("refresh"),o.$refs.toolbar.toggleClass("compensate-for-scrollbar",t.$slide.get(0).scrollHeight>t.$slide.get(0).clientHeight),o.trigger("onUpdate",t)},centerSlide:function(t,e){var i,a,s=this;s.current&&(i=Math.round(t.$slide.width()),a=t.pos-s.current.pos,n.fancybox.animate(t.$slide,{top:0,left:a*i+a*t.opts.gutter,opacity:1},e===o?0:e,null,!1))},updateCursor:function(t,e){var o,i=this,a=i.current,s=i.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");a&&!i.isClosing&&(o=i.isZoomable(),s.toggleClass("fancybox-is-zoomable",o),n("[data-fancybox-zoom]").prop("disabled",!o),o&&("zoom"===a.opts.clickContent||n.isFunction(a.opts.clickContent)&&"zoom"===a.opts.clickContent(a))?i.isScaledDown(t,e)?s.addClass("fancybox-can-zoomIn"):a.opts.touch?s.addClass("fancybox-can-drag"):s.addClass("fancybox-can-zoomOut"):a.opts.touch&&"video"!==a.contentType&&s.addClass("fancybox-can-drag"))},isZoomable:function(){var t,e=this,n=e.current;if(n&&!e.isClosing&&"image"===n.type&&!n.hasError){if(!n.isLoaded)return!0;if(t=e.getFitPos(n),n.width>t.width||n.height>t.height)return!0}return!1},isScaledDown:function(t,e){var i=this,a=!1,s=i.current,r=s.$content;return t!==o&&e!==o?a=t<s.width&&e<s.height:r&&(a=n.fancybox.getTranslate(r),a=a.width<s.width&&a.height<s.height),a},canPan:function(){var t,e=this,n=!1,o=e.current;return"image"===o.type&&(t=o.$content)&&!o.hasError&&(n=e.getFitPos(o),n=Math.abs(t.width()-n.width)>1||Math.abs(t.height()-n.height)>1),n},loadSlide:function(t){var e,o,i,a=this;if(!t.isLoading&&!t.isLoaded){switch(t.isLoading=!0,a.trigger("beforeLoad",t),e=t.type,o=t.$slide,o.off("refresh").trigger("onReset").addClass(t.opts.slideClass),e){case"image":a.setImage(t);break;case"iframe":a.setIframe(t);break;case"html":a.setContent(t,t.src||t.content);break;case"video":a.setContent(t,'<video class="fancybox-video" controls controlsList="nodownload"><source src="'+t.src+'" type="'+t.opts.videoFormat+"\">Your browser doesn't support HTML5 video</video");break;case"inline":n(t.src).length?a.setContent(t,n(t.src)):a.setError(t);break;case"ajax":a.showLoading(t),i=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){"success"===n&&a.setContent(t,e)},error:function(e,n){e&&"abort"!==n&&a.setError(t)}})),o.one("onReset",function(){i.abort()});break;default:a.setError(t)}return!0}},setImage:function(e){var o,i,a,s,r,c=this,l=e.opts.srcset||e.opts.image.srcset;if(e.timouts=setTimeout(function(){var t=e.$image;!e.isLoading||t&&t[0].complete||e.hasError||c.showLoading(e)},350),l){s=t.devicePixelRatio||1,r=t.innerWidth*s,a=l.split(",").map(function(t){var e={};return t.trim().split(/\s+/).forEach(function(t,n){var o=parseInt(t.substring(0,t.length-1),10);return 0===n?e.url=t:void(o&&(e.value=o,e.postfix=t[t.length-1]))}),e}),a.sort(function(t,e){return t.value-e.value});for(var d=0;d<a.length;d++){var u=a[d];if("w"===u.postfix&&u.value>=r||"x"===u.postfix&&u.value>=s){i=u;break}}!i&&a.length&&(i=a[a.length-1]),i&&(e.src=i.url,e.width&&e.height&&"w"==i.postfix&&(e.height=e.width/e.height*i.value,e.width=i.value),e.opts.srcset=l)}e.$content=n('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(e.$slide.addClass("fancybox-slide--image")),o=e.opts.thumb||!(!e.opts.$thumb||!e.opts.$thumb.length)&&e.opts.$thumb.attr("src"),e.opts.preload!==!1&&e.opts.width&&e.opts.height&&o&&(e.width=e.opts.width,e.height=e.opts.height,e.$ghost=n("<img />").one("error",function(){n(this).remove(),e.$ghost=null}).one("load",function(){c.afterLoad(e)}).addClass("fancybox-image").appendTo(e.$content).attr("src",o)),c.setBigImage(e)},setBigImage:function(t){var e=this,o=n("<img />");t.$image=o.one("error",function(){e.setError(t)}).one("load",function(){var n;t.$ghost||(e.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),e.afterLoad(t)),t.timouts&&(clearTimeout(t.timouts),t.timouts=null),e.isClosing||(t.opts.srcset&&(n=t.opts.sizes,n&&"auto"!==n||(n=(t.width/t.height>1&&s.width()/s.height()>1?"100":Math.round(t.width/t.height*100))+"vw"),o.attr("sizes",n).attr("srcset",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!e.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),e.hideLoading(t))}).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),(o[0].complete||"complete"==o[0].readyState)&&o[0].naturalWidth&&o[0].naturalHeight?o.trigger("load"):o[0].error&&o.trigger("error")},resolveImageSlideSize:function(t,e,n){var o=parseInt(t.opts.width,10),i=parseInt(t.opts.height,10);t.width=e,t.height=n,o>0&&(t.width=o,t.height=Math.floor(o*n/e)),i>0&&(t.width=Math.floor(i*e/n),t.height=i)},setIframe:function(t){var e,i=this,a=t.opts.iframe,s=t.$slide;t.$content=n('<div class="fancybox-content'+(a.preload?" fancybox-is-hidden":"")+'"></div>').css(a.css).appendTo(s),s.addClass("fancybox-slide--"+t.contentType),t.$iframe=e=n(a.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(a.attr).appendTo(t.$content),a.preload?(i.showLoading(t),e.on("load.fb error.fb",function(e){this.isReady=1,t.$slide.trigger("refresh"),i.afterLoad(t)}),s.on("refresh.fb",function(){var n,i,s=t.$content,r=a.css.width,c=a.css.height;if(1===e[0].isReady){try{n=e.contents(),i=n.find("body")}catch(l){}i&&i.length&&i.children().length&&(s.css({width:"",height:""}),r===o&&(r=Math.ceil(Math.max(i[0].clientWidth,i.outerWidth(!0)))),r&&s.width(r),c===o&&(c=Math.ceil(Math.max(i[0].clientHeight,i.outerHeight(!0)))),c&&s.height(c)),s.removeClass("fancybox-is-hidden")}})):this.afterLoad(t),e.attr("src",t.src),s.one("onReset",function(){try{n(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(e){}n(this).off("refresh.fb").empty(),t.isLoaded=!1})},setContent:function(t,e){var o=this;o.isClosing||(o.hideLoading(t),t.$content&&n.fancybox.stop(t.$content),t.$slide.empty(),l(e)&&e.parent().length?(e.parent().parent(".fancybox-slide--inline").trigger("onReset"),t.$placeholder=n("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===n.type(e)&&(e=n("<div>").append(n.trim(e)).contents(),3===e[0].nodeType&&(e=n("<div>").html(e))),t.opts.filter&&(e=n("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){n(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1)}),n(e).appendTo(t.$slide),n(e).is("video,audio")&&(n(e).addClass("fancybox-video"),n(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||n(e).attr("width"),t.opts.height=t.opts.height||n(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio").first().addClass("fancybox-content"),t.$slide.addClass("fancybox-slide--"+t.contentType),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("fancybox-slide--"+t.contentType).addClass("fancybox-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){var e=this;t=t||e.current,t&&!t.$spinner&&(t.$spinner=n(e.translate(e,e.opts.spinnerTpl)).appendTo(t.$slide))},hideLoading:function(t){var e=this;t=t||e.current,t&&t.$spinner&&(t.$spinner.remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),t.pos===e.currPos&&e.updateCursor(),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=n(e.translate(t,t.opts.btnTpl.smallBtn)).prependTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&n('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.revealContent(t))},revealContent:function(t){var e,i,a,s,r=this,c=t.$slide,l=!1,d=!1;return e=t.opts[r.firstRun?"animationEffect":"transitionEffect"],a=t.opts[r.firstRun?"animationDuration":"transitionDuration"],a=parseInt(t.forcedDuration===o?a:t.forcedDuration,10),t.pos===r.currPos&&(t.isComplete?e=!1:r.isAnimating=!0),!t.isMoved&&t.pos===r.currPos&&a||(e=!1),"zoom"===e&&(t.pos===r.currPos&&a&&"image"===t.type&&!t.hasError&&(d=r.getThumbPos(t))?l=r.getFitPos(t):e="fade"),"zoom"===e?(l.scaleX=l.width/d.width,l.scaleY=l.height/d.height,s=t.opts.zoomOpacity,"auto"==s&&(s=Math.abs(t.width/t.height-d.width/d.height)>.1),s&&(d.opacity=.1,l.opacity=1),n.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),d),f(t.$content),void n.fancybox.animate(t.$content,l,a,function(){r.isAnimating=!1,r.complete()})):(r.updateSlide(t),e?(n.fancybox.stop(c),i="fancybox-animated fancybox-slide--"+(t.pos>=r.prevPos?"next":"previous")+" fancybox-fx-"+e,c.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(i),t.$content.removeClass("fancybox-is-hidden"),f(c),void n.fancybox.animate(c,"fancybox-slide--current",a,function(e){c.removeClass(i).removeAttr("style"),t.pos===r.currPos&&r.complete()},!0)):(f(c),t.$content.removeClass("fancybox-is-hidden"),void(t.pos===r.currPos&&r.complete())))},getThumbPos:function(o){var i,a=this,s=!1,r=o.opts.$thumb,c=r&&r.length&&r[0].ownerDocument===e?r.offset():0,l=function(e){for(var o,i=e[0],a=i.getBoundingClientRect(),s=[];null!==i.parentElement;)"hidden"!==n(i.parentElement).css("overflow")&&"auto"!==n(i.parentElement).css("overflow")||s.push(i.parentElement.getBoundingClientRect()),i=i.parentElement;return o=s.every(function(t){var e=Math.min(a.right,t.right)-Math.max(a.left,t.left),n=Math.min(a.bottom,t.bottom)-Math.max(a.top,t.top);return e>0&&n>0}),o&&a.bottom>0&&a.right>0&&a.left<n(t).width()&&a.top<n(t).height()};return c&&l(r)&&(i=a.$refs.stage.offset(),s={top:c.top-i.top+parseFloat(r.css("border-top-width")||0),left:c.left-i.left+parseFloat(r.css("border-left-width")||0),width:r.width(),height:r.height(),scaleX:1,scaleY:1}),s},complete:function(){var t=this,o=t.current,i={};!o.isMoved&&o.isLoaded&&(o.isComplete||(o.isComplete=!0,o.$slide.siblings().trigger("onReset"),t.preload("inline"),f(o.$slide),o.$slide.addClass("fancybox-slide--complete"),n.each(t.slides,function(e,o){o.pos>=t.currPos-1&&o.pos<=t.currPos+1?i[o.pos]=o:o&&(n.fancybox.stop(o.$slide),o.$slide.off().remove())}),t.slides=i),t.isAnimating=!1,t.updateCursor(),t.trigger("afterShow"),o.$slide.find("video,audio").filter(":visible:first").trigger("play"),(n(e.activeElement).is("[disabled]")||o.opts.autoFocus&&"image"!=o.type&&"iframe"!==o.type)&&t.focus())},preload:function(t){var e=this,n=e.slides[e.currPos+1],o=e.slides[e.currPos-1];n&&n.type===t&&e.loadSlide(n),o&&o.type===t&&e.loadSlide(o)},focus:function(){var t,e=this.current;this.isClosing||e&&e.isComplete&&e.$content&&(t=e.$content.find("input[autofocus]:enabled:visible:first"),t.length||(t=e.$content.find("button,:input,[tabindex],a").filter(":enabled:visible:first")),t=t&&t.length?t:e.$content,t.trigger("focus"))},activate:function(){var t=this;n(".fancybox-container").each(function(){var e=n(this).data("FancyBox");e&&e.id!==t.id&&!e.isClosing&&(e.trigger("onDeactivate"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t,e){var o,i,a,s,r,c,l,p=this,h=p.current,g=function(){p.cleanUp(t)};return!p.isClosing&&(p.isClosing=!0,p.trigger("beforeClose",t)===!1?(p.isClosing=!1,d(function(){p.update()}),!1):(p.removeEvents(),h.timouts&&clearTimeout(h.timouts),a=h.$content,o=h.opts.animationEffect,i=n.isNumeric(e)?e:o?h.opts.animationDuration:0,h.$slide.off(u).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),h.$slide.siblings().trigger("onReset").remove(),i&&p.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),p.hideLoading(h),p.hideControls(),p.updateCursor(),"zoom"!==o||t!==!0&&a&&i&&"image"===h.type&&!h.hasError&&(l=p.getThumbPos(h))||(o="fade"),"zoom"===o?(n.fancybox.stop(a),s=n.fancybox.getTranslate(a),c={top:s.top,left:s.left,scaleX:s.width/l.width,scaleY:s.height/l.height,width:l.width,height:l.height},r=h.opts.zoomOpacity,"auto"==r&&(r=Math.abs(h.width/h.height-l.width/l.height)>.1),r&&(l.opacity=0),n.fancybox.setTranslate(a,c),f(a),n.fancybox.animate(a,l,i,g),!0):(o&&i?t===!0?setTimeout(g,i):n.fancybox.animate(h.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+o,i,g):g(),!0)))},cleanUp:function(t){var e,o=this,i=n("body");o.current.$slide.trigger("onReset"),o.$refs.container.empty().remove(),o.trigger("afterClose",t),o.$lastFocus&&o.current.opts.backFocus&&o.$lastFocus.trigger("focus"),o.current=null,e=n.fancybox.getInstance(),e?e.activate():(i.removeClass("fancybox-active compensate-for-scrollbar"),n("#fancybox-style-noscroll").remove())},trigger:function(t,e){var o,i=Array.prototype.slice.call(arguments,1),a=this,s=e&&e.opts?e:a.current;return s?i.unshift(s):s=a,i.unshift(a),n.isFunction(s.opts[t])&&(o=s.opts[t].apply(s,i)),o===!1?o:void("afterClose"!==t&&a.$refs?a.$refs.container.trigger(t+".fb",i):r.trigger(t+".fb",i))},updateControls:function(t){var e=this,n=e.current,o=n.index,i=n.opts.caption,a=e.$refs.container,s=e.$refs.caption;n.$slide.trigger("refresh"),e.$caption=i&&i.length?s.html(i):null,e.isHiddenControls||e.isIdle||e.showControls(),a.find("[data-fancybox-count]").html(e.group.length),a.find("[data-fancybox-index]").html(o+1),a.find("[data-fancybox-prev]").toggleClass("disabled",!n.opts.loop&&o<=0),a.find("[data-fancybox-next]").toggleClass("disabled",!n.opts.loop&&o>=e.group.length-1),"image"===n.type?a.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",n.opts.image.src||n.src).show():n.opts.toolbar&&a.find("[data-fancybox-download],[data-fancybox-zoom]").hide()},hideControls:function(){this.isHiddenControls=!0},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,n=t.$refs.container;t.isHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("fancybox-show-nav",!!(e.arrows&&t.group.length>1)).toggleClass("fancybox-is-modal",!!e.modal),t.$caption?n.addClass("fancybox-show-caption "):n.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:"3.3.5",defaults:a,getInstance:function(t){var e=n('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),o=Array.prototype.slice.call(arguments,1);return e instanceof h&&("string"===n.type(t)?e[t].apply(e,o):"function"===n.type(t)&&t.apply(e,o),e)},open:function(t,e,n){return new h(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),t===!0&&this.close())},destroy:function(){this.close(!0),r.add("body").off("click.fb-start","**")},isMobile:e.createTouch!==o&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var n=e.createElement("div");return t.getComputedStyle&&t.getComputedStyle(n)&&t.getComputedStyle(n).getPropertyValue("transform")&&!(e.documentMode&&e.documentMode<11)}(),getTranslate:function(t){var e;return!(!t||!t.length)&&(e=t[0].getBoundingClientRect(),{top:e.top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))})},setTranslate:function(t,e){var n="",i={};if(t&&e)return e.left===o&&e.top===o||(n=(e.left===o?t.position().left:e.left)+"px, "+(e.top===o?t.position().top:e.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),e.scaleX!==o&&e.scaleY!==o&&(n=(n.length?n+" ":"")+"scale("+e.scaleX+", "+e.scaleY+")"),n.length&&(i.transform=n),e.opacity!==o&&(i.opacity=e.opacity),e.width!==o&&(i.width=e.width),e.height!==o&&(i.height=e.height),t.css(i)},animate:function(t,e,i,a,s){var r=!1;n.isFunction(i)&&(a=i,i=null),n.isPlainObject(e)||t.removeAttr("style"),n.fancybox.stop(t),t.on(u,function(o){(!o||!o.originalEvent||t.is(o.originalEvent.target)&&"z-index"!=o.originalEvent.propertyName)&&(n.fancybox.stop(t),r&&n.fancybox.setTranslate(t,r),n.isPlainObject(e)?s===!1&&t.removeAttr("style"):s!==!0&&t.removeClass(e),n.isFunction(a)&&a(o))}),n.isNumeric(i)&&t.css("transition-duration",i+"ms"),
n.isPlainObject(e)?(e.scaleX!==o&&e.scaleY!==o&&(r=n.extend({},e,{width:t.width()*e.scaleX,height:t.height()*e.scaleY,scaleX:1,scaleY:1}),delete e.width,delete e.height,t.parent().hasClass("fancybox-slide--image")&&t.parent().addClass("fancybox-is-scaling")),n.fancybox.setTranslate(t,e)):t.addClass(e),t.data("timer",setTimeout(function(){t.trigger("transitionend")},i+16))},stop:function(t){t&&t.length&&(clearTimeout(t.data("timer")),t.off("transitionend").css("transition-duration",""),t.parent().removeClass("fancybox-is-scaling"))}},n.fn.fancybox=function(t){var e;return t=t||{},e=t.selector||!1,e?n("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},i):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},i),this},r.on("click.fb-start","[data-fancybox]",i),r.on("click.fb-start","[data-trigger]",function(t){i(t,{$target:n('[data-fancybox="'+n(t.currentTarget).attr("data-trigger")+'"]').eq(n(t.currentTarget).attr("data-index")||0),$trigger:n(this)})})}}(window,document,window.jQuery||jQuery),function(t){"use strict";var e=function(e,n,o){if(e)return o=o||"","object"===t.type(o)&&(o=t.param(o,!0)),t.each(n,function(t,n){e=e.replace("$"+t,n||"")}),o.length&&(e+=(e.indexOf("?")>0?"&":"?")+o),e},n={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};t(document).on("objectNeedsType.fb",function(o,i,a){var s,r,c,l,d,u,f,p=a.src||"",h=!1;s=t.extend(!0,{},n,a.opts.media),t.each(s,function(n,o){if(c=p.match(o.matcher)){if(h=o.type,f=n,u={},o.paramPlace&&c[o.paramPlace]){d=c[o.paramPlace],"?"==d[0]&&(d=d.substring(1)),d=d.split("&");for(var i=0;i<d.length;++i){var s=d[i].split("=",2);2==s.length&&(u[s[0]]=decodeURIComponent(s[1].replace(/\+/g," ")))}}return l=t.extend(!0,{},o.params,a.opts[n],u),p="function"===t.type(o.url)?o.url.call(this,c,l,a):e(o.url,c,l),r="function"===t.type(o.thumb)?o.thumb.call(this,c,l,a):e(o.thumb,c),"youtube"===n?p=p.replace(/&t=((\d+)m)?(\d+)s/,function(t,e,n,o){return"&start="+((n?60*parseInt(n,10):0)+parseInt(o,10))}):"vimeo"===n&&(p=p.replace("&%23","#")),!1}}),h?(a.opts.thumb||a.opts.$thumb&&a.opts.$thumb.length||(a.opts.thumb=r),"iframe"===h&&(a.opts=t.extend(!0,a.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),t.extend(a,{type:h,src:p,origSrc:a.src,contentSource:f,contentType:"image"===h?"image":"gmap_place"==f||"gmap_search"==f?"map":"video"})):p&&(a.type=a.opts.defaultType)})}(window.jQuery||jQuery),function(t,e,n){"use strict";var o=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),i=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),a=function(e){var n=[];e=e.originalEvent||e||t.e,e=e.touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var o in e)e[o].pageX?n.push({x:e[o].pageX,y:e[o].pageY}):e[o].clientX&&n.push({x:e[o].clientX,y:e[o].clientY});return n},s=function(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},r=function(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio')||n.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,o=t[0].attributes,i=o.length;e<i;e++)if("data-fancybox-"===o[e].nodeName.substr(0,14))return!0;return!1},c=function(e){var n=t.getComputedStyle(e)["overflow-y"],o=t.getComputedStyle(e)["overflow-x"],i=("scroll"===n||"auto"===n)&&e.scrollHeight>e.clientHeight,a=("scroll"===o||"auto"===o)&&e.scrollWidth>e.clientWidth;return i||a},l=function(t){for(var e=!1;;){if(e=c(t.get(0)))break;if(t=t.parent(),!t.length||t.hasClass("fancybox-stage")||t.is("body"))break}return e},d=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",n.proxy(e,"ontouchstart"))};d.prototype.destroy=function(){this.$container.off(".fb.touch")},d.prototype.ontouchstart=function(o){var i=this,c=n(o.target),d=i.instance,u=d.current,f=u.$content,p="touchstart"==o.type;if(p&&i.$container.off("mousedown.fb.touch"),(!o.originalEvent||2!=o.originalEvent.button)&&c.length&&!r(c)&&!r(c.parent())&&(c.is("img")||!(o.originalEvent.clientX>c[0].clientWidth+c.offset().left))){if(!u||d.isAnimating||d.isClosing)return o.stopPropagation(),void o.preventDefault();if(i.realPoints=i.startPoints=a(o),i.startPoints.length){if(o.stopPropagation(),i.startEvent=o,i.canTap=!0,i.$target=c,i.$content=f,i.opts=u.opts.touch,i.isPanning=!1,i.isSwiping=!1,i.isZooming=!1,i.isScrolling=!1,i.startTime=(new Date).getTime(),i.distanceX=i.distanceY=i.distance=0,i.canvasWidth=Math.round(u.$slide[0].clientWidth),i.canvasHeight=Math.round(u.$slide[0].clientHeight),i.contentLastPos=null,i.contentStartPos=n.fancybox.getTranslate(i.$content)||{top:0,left:0},i.sliderStartPos=i.sliderLastPos||n.fancybox.getTranslate(u.$slide),i.stagePos=n.fancybox.getTranslate(d.$refs.stage),i.sliderStartPos.top-=i.stagePos.top,i.sliderStartPos.left-=i.stagePos.left,i.contentStartPos.top-=i.stagePos.top,i.contentStartPos.left-=i.stagePos.left,n(e).off(".fb.touch").on(p?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",n.proxy(i,"ontouchend")).on(p?"touchmove.fb.touch":"mousemove.fb.touch",n.proxy(i,"ontouchmove")),n.fancybox.isMobile&&e.addEventListener("scroll",i.onscroll,!0),!i.opts&&!d.canPan()||!c.is(i.$stage)&&!i.$stage.find(c).length)return void(c.is(".fancybox-image")&&o.preventDefault());n.fancybox.isMobile&&(l(c)||l(c.parent()))||o.preventDefault(),(1===i.startPoints.length||u.hasError)&&(i.instance.canPan()?(n.fancybox.stop(i.$content),i.$content.css("transition-duration",""),i.isPanning=!0):i.isSwiping=!0,i.$container.addClass("fancybox-controls--isGrabbing")),2===i.startPoints.length&&"image"===u.type&&(u.isLoaded||u.$ghost)&&(i.canTap=!1,i.isSwiping=!1,i.isPanning=!1,i.isZooming=!0,n.fancybox.stop(i.$content),i.$content.css("transition-duration",""),i.centerPointStartX=.5*(i.startPoints[0].x+i.startPoints[1].x)-n(t).scrollLeft(),i.centerPointStartY=.5*(i.startPoints[0].y+i.startPoints[1].y)-n(t).scrollTop(),i.percentageOfImageAtPinchPointX=(i.centerPointStartX-i.contentStartPos.left)/i.contentStartPos.width,i.percentageOfImageAtPinchPointY=(i.centerPointStartY-i.contentStartPos.top)/i.contentStartPos.height,i.startDistanceBetweenFingers=s(i.startPoints[0],i.startPoints[1]))}}},d.prototype.onscroll=function(t){var n=this;n.isScrolling=!0,e.removeEventListener("scroll",n.onscroll,!0)},d.prototype.ontouchmove=function(t){var e=this,o=n(t.target);return void 0!==t.originalEvent.buttons&&0===t.originalEvent.buttons?void e.ontouchend(t):e.isScrolling||!o.is(e.$stage)&&!e.$stage.find(o).length?void(e.canTap=!1):(e.newPoints=a(t),void((e.opts||e.instance.canPan())&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&e.isSwiping===!0||t.preventDefault(),e.distanceX=s(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=s(e.newPoints[0],e.startPoints[0],"y"),e.distance=s(e.newPoints[0],e.startPoints[0]),e.distance>0&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))))},d.prototype.onSwipe=function(e){var a,s=this,r=s.isSwiping,c=s.sliderStartPos.left||0;if(r!==!0)"x"==r&&(s.distanceX>0&&(s.instance.group.length<2||0===s.instance.current.index&&!s.instance.current.opts.loop)?c+=Math.pow(s.distanceX,.8):s.distanceX<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?c-=Math.pow(-s.distanceX,.8):c+=s.distanceX),s.sliderLastPos={top:"x"==r?0:s.sliderStartPos.top+s.distanceY,left:c},s.requestId&&(i(s.requestId),s.requestId=null),s.requestId=o(function(){s.sliderLastPos&&(n.each(s.instance.slides,function(t,e){var o=e.pos-s.instance.currPos;n.fancybox.setTranslate(e.$slide,{top:s.sliderLastPos.top,left:s.sliderLastPos.left+o*s.canvasWidth+o*e.opts.gutter})}),s.$container.addClass("fancybox-is-sliding"))});else if(Math.abs(s.distance)>10){if(s.canTap=!1,s.instance.group.length<2&&s.opts.vertical?s.isSwiping="y":s.instance.isDragging||s.opts.vertical===!1||"auto"===s.opts.vertical&&n(t).width()>800?s.isSwiping="x":(a=Math.abs(180*Math.atan2(s.distanceY,s.distanceX)/Math.PI),s.isSwiping=a>45&&a<135?"y":"x"),s.canTap=!1,"y"===s.isSwiping&&n.fancybox.isMobile&&(l(s.$target)||l(s.$target.parent())))return void(s.isScrolling=!0);s.instance.isDragging=s.isSwiping,s.startPoints=s.newPoints,n.each(s.instance.slides,function(t,e){n.fancybox.stop(e.$slide),e.$slide.css("transition-duration",""),e.inTransition=!1,e.pos===s.instance.current.pos&&(s.sliderStartPos.left=n.fancybox.getTranslate(e.$slide).left-n.fancybox.getTranslate(s.instance.$refs.stage).left)}),s.instance.SlideShow&&s.instance.SlideShow.isActive&&s.instance.SlideShow.stop()}},d.prototype.onPan=function(){var t=this;return s(t.newPoints[0],t.realPoints[0])<(n.fancybox.isMobile?10:5)?void(t.startPoints=t.newPoints):(t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&(i(t.requestId),t.requestId=null),void(t.requestId=o(function(){n.fancybox.setTranslate(t.$content,t.contentLastPos)})))},d.prototype.limitMovement=function(){var t,e,n,o,i,a,s=this,r=s.canvasWidth,c=s.canvasHeight,l=s.distanceX,d=s.distanceY,u=s.contentStartPos,f=u.left,p=u.top,h=u.width,g=u.height;return i=h>r?f+l:f,a=p+d,t=Math.max(0,.5*r-.5*h),e=Math.max(0,.5*c-.5*g),n=Math.min(r-h,.5*r-.5*h),o=Math.min(c-g,.5*c-.5*g),l>0&&i>t&&(i=t-1+Math.pow(-t+f+l,.8)||0),l<0&&i<n&&(i=n+1-Math.pow(n-f-l,.8)||0),d>0&&a>e&&(a=e-1+Math.pow(-e+p+d,.8)||0),d<0&&a<o&&(a=o+1-Math.pow(o-p-d,.8)||0),{top:a,left:i}},d.prototype.limitPosition=function(t,e,n,o){var i=this,a=i.canvasWidth,s=i.canvasHeight;return n>a?(t=t>0?0:t,t=t<a-n?a-n:t):t=Math.max(0,a/2-n/2),o>s?(e=e>0?0:e,e=e<s-o?s-o:e):e=Math.max(0,s/2-o/2),{top:e,left:t}},d.prototype.onZoom=function(){var e=this,a=e.contentStartPos,r=a.width,c=a.height,l=a.left,d=a.top,u=s(e.newPoints[0],e.newPoints[1]),f=u/e.startDistanceBetweenFingers,p=Math.floor(r*f),h=Math.floor(c*f),g=(r-p)*e.percentageOfImageAtPinchPointX,b=(c-h)*e.percentageOfImageAtPinchPointY,m=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),y=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),v=m-e.centerPointStartX,x=y-e.centerPointStartY,w=l+(g+v),$=d+(b+x),S={top:$,left:w,scaleX:f,scaleY:f};e.canTap=!1,e.newWidth=p,e.newHeight=h,e.contentLastPos=S,e.requestId&&(i(e.requestId),e.requestId=null),e.requestId=o(function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)})},d.prototype.ontouchend=function(t){var o=this,s=Math.max((new Date).getTime()-o.startTime,1),r=o.isSwiping,c=o.isPanning,l=o.isZooming,d=o.isScrolling;return o.endPoints=a(t),o.$container.removeClass("fancybox-controls--isGrabbing"),n(e).off(".fb.touch"),e.removeEventListener("scroll",o.onscroll,!0),o.requestId&&(i(o.requestId),o.requestId=null),o.isSwiping=!1,o.isPanning=!1,o.isZooming=!1,o.isScrolling=!1,o.instance.isDragging=!1,o.canTap?o.onTap(t):(o.speed=366,o.velocityX=o.distanceX/s*.5,o.velocityY=o.distanceY/s*.5,o.speedX=Math.max(.5*o.speed,Math.min(1.5*o.speed,1/Math.abs(o.velocityX)*o.speed)),void(c?o.endPanning():l?o.endZooming():o.endSwiping(r,d)))},d.prototype.endSwiping=function(t,e){var o=this,i=!1,a=o.instance.group.length;o.sliderLastPos=null,"y"==t&&!e&&Math.abs(o.distanceY)>50?(n.fancybox.animate(o.instance.current.$slide,{top:o.sliderStartPos.top+o.distanceY+150*o.velocityY,opacity:0},200),i=o.instance.close(!0,200)):"x"==t&&o.distanceX>50&&a>1?i=o.instance.previous(o.speedX):"x"==t&&o.distanceX<-50&&a>1&&(i=o.instance.next(o.speedX)),i!==!1||"x"!=t&&"y"!=t||(e||a<2?o.instance.centerSlide(o.instance.current,150):o.instance.jumpTo(o.instance.current.index)),o.$container.removeClass("fancybox-is-sliding")},d.prototype.endPanning=function(){var t,e,o,i=this;i.contentLastPos&&(i.opts.momentum===!1?(t=i.contentLastPos.left,e=i.contentLastPos.top):(t=i.contentLastPos.left+i.velocityX*i.speed,e=i.contentLastPos.top+i.velocityY*i.speed),o=i.limitPosition(t,e,i.contentStartPos.width,i.contentStartPos.height),o.width=i.contentStartPos.width,o.height=i.contentStartPos.height,n.fancybox.animate(i.$content,o,330))},d.prototype.endZooming=function(){var t,e,o,i,a=this,s=a.instance.current,r=a.newWidth,c=a.newHeight;a.contentLastPos&&(t=a.contentLastPos.left,e=a.contentLastPos.top,i={top:e,left:t,width:r,height:c,scaleX:1,scaleY:1},n.fancybox.setTranslate(a.$content,i),r<a.canvasWidth&&c<a.canvasHeight?a.instance.scaleToFit(150):r>s.width||c>s.height?a.instance.scaleToActual(a.centerPointStartX,a.centerPointStartY,150):(o=a.limitPosition(t,e,r,c),n.fancybox.setTranslate(a.$content,n.fancybox.getTranslate(a.$content)),n.fancybox.animate(a.$content,o,150)))},d.prototype.onTap=function(e){var o,i=this,s=n(e.target),r=i.instance,c=r.current,l=e&&a(e)||i.startPoints,d=l[0]?l[0].x-n(t).scrollLeft()-i.stagePos.left:0,u=l[0]?l[0].y-n(t).scrollTop()-i.stagePos.top:0,f=function(t){var o=c.opts[t];if(n.isFunction(o)&&(o=o.apply(r,[c,e])),o)switch(o){case"close":r.close(i.startEvent);break;case"toggleControls":r.toggleControls(!0);break;case"next":r.next();break;case"nextOrClose":r.group.length>1?r.next():r.close(i.startEvent);break;case"zoom":"image"==c.type&&(c.isLoaded||c.$ghost)&&(r.canPan()?r.scaleToFit():r.isScaledDown()?r.scaleToActual(d,u):r.group.length<2&&r.close(i.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&(s.is("img")||!(d>s[0].clientWidth+s.offset().left))){if(s.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))o="Outside";else if(s.is(".fancybox-slide"))o="Slide";else{if(!r.current.$content||!r.current.$content.find(s).addBack().filter(s).length)return;o="Content"}if(i.tapped){if(clearTimeout(i.tapped),i.tapped=null,Math.abs(d-i.tapX)>50||Math.abs(u-i.tapY)>50)return this;f("dblclick"+o)}else i.tapX=d,i.tapY=u,c.opts["dblclick"+o]&&c.opts["dblclick"+o]!==c.opts["click"+o]?i.tapped=setTimeout(function(){i.tapped=null,f("click"+o)},500):f("click"+o);return this}},n(e).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new d(e))})}(window,document,window.jQuery||jQuery),function(t,e){"use strict";e.extend(!0,e.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg viewBox="0 0 40 40"><path d="M13,12 L27,20 L13,27 Z" /><path d="M15,10 v19 M23,10 v19" /></svg></button>'},slideShow:{autoStart:!1,speed:3e3}});var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this;t.$button=t.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),(t.instance.group.length<2||!t.instance.group[t.instance.currIndex].opts.slideShow)&&t.$button.hide()},set:function(t){var e=this;e.instance&&e.instance.current&&(t===!0||e.instance.current.opts.loop||e.instance.currIndex<e.instance.group.length-1)?e.timer=setTimeout(function(){e.isActive&&e.instance.jumpTo((e.instance.currIndex+1)%e.instance.group.length)},e.instance.current.opts.slideShow.speed):(e.stop(),e.instance.idleSecondsCounter=0,e.instance.showControls())},clear:function(){var t=this;clearTimeout(t.timer),t.timer=null},start:function(){var t=this,e=t.instance.current;e&&(t.isActive=!0,t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),t.set(!0))},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),t.isActive=!1},toggle:function(){var t=this;t.isActive?t.stop():t.start()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new n(e))},"beforeShow.fb":function(t,e,n,o){var i=e&&e.SlideShow;o?i&&n.opts.slideShow.autoStart&&i.start():i&&i.isActive&&i.clear()},"afterShow.fb":function(t,e,n){var o=e&&e.SlideShow;o&&o.isActive&&o.set()},"afterKeydown.fb":function(n,o,i,a,s){var r=o&&o.SlideShow;!r||!i.opts.slideShow||80!==s&&32!==s||e(t.activeElement).is("button,a,input")||(a.preventDefault(),r.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var n=e&&e.SlideShow;n&&n.stop()}}),e(t).on("visibilitychange",function(){var n=e.fancybox.getInstance(),o=n&&n.SlideShow;o&&o.isActive&&(t.hidden?o.clear():o.set())})}(document,window.jQuery||jQuery),function(t,e){"use strict";var n=function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n={},o=0;o<e.length;o++){var i=e[o];if(i&&i[1]in t){for(var a=0;a<i.length;a++)n[e[0][a]]=i[a];return n}}return!1}();if(!n)return void(e&&e.fancybox&&(e.fancybox.defaults.btnTpl.fullScreen=!1));var o={request:function(e){e=e||t.documentElement,e[n.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[n.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[n.fullscreenElement])},enabled:function(){return Boolean(t[n.fullscreenEnabled])}};e.extend(!0,e.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"><svg viewBox="0 0 40 40"><path d="M9,12 v16 h22 v-16 h-22 v8" /></svg></button>'},fullScreen:{autoStart:!1}}),e(t).on({"onInit.fb":function(t,e){var n;e&&e.group[e.currIndex].opts.fullScreen?(n=e.$refs.container,n.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),o.toggle()}),e.opts.fullScreen&&e.opts.fullScreen.autoStart===!0&&o.request(),e.FullScreen=o):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()},"afterKeydown.fb":function(t,e,n,o,i){e&&e.FullScreen&&70===i&&(o.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("fancybox-is-fullscreen")&&o.exit()}}),e(t).on(n.fullscreenchange,function(){var t=o.isFullscreen(),n=e.fancybox.getInstance();n&&(n.current&&"image"===n.current.type&&n.isAnimating&&(n.current.$content.css("transition","none"),n.isAnimating=!1,n.update(!0,!0,0)),n.trigger("onFullscreenChange",t),n.$refs.container.toggleClass("fancybox-is-fullscreen",t))})}(document,window.jQuery||jQuery),function(t,e){"use strict";var n="fancybox-thumbs",o=n+"-active",i=n+"-loading";e.fancybox.defaults=e.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg viewBox="0 0 120 120"><path d="M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" /></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},e.fancybox.defaults);var a=function(t){this.init(t)};e.extend(a.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e,n,o=this;o.instance=t,t.Thumbs=o,o.opts=t.group[t.currIndex].opts.thumbs,e=t.group[0],e=e.opts.thumb||!(!e.opts.$thumb||!e.opts.$thumb.length)&&e.opts.$thumb.attr("src"),t.group.length>1&&(n=t.group[1],n=n.opts.thumb||!(!n.opts.$thumb||!n.opts.$thumb.length)&&n.opts.$thumb.attr("src")),o.$button=t.$refs.toolbar.find("[data-fancybox-thumbs]"),o.opts&&e&&n&&e&&n?(o.$button.show().on("click",function(){o.toggle()}),o.isActive=!0):o.$button.hide()},create:function(){var t,o=this,a=o.instance,s=o.opts.parentEl,r=[];o.$grid||(o.$grid=e('<div class="'+n+" "+n+"-"+o.opts.axis+'"></div>').appendTo(a.$refs.container.find(s).addBack().filter(s)),o.$grid.on("click","li",function(){a.jumpTo(e(this).attr("data-index"))})),o.$list||(o.$list=e("<ul>").appendTo(o.$grid)),e.each(a.group,function(e,n){t=n.opts.thumb||(n.opts.$thumb?n.opts.$thumb.attr("src"):null),t||"image"!==n.type||(t=n.src),r.push('<li data-index="'+e+'" tabindex="0" class="'+i+'"'+(t&&t.length?' style="background-image:url('+t+')" />':"")+"></li>")}),o.$list[0].innerHTML=r.join(""),"x"===o.opts.axis&&o.$list.width(parseInt(o.$grid.css("padding-right"),10)+a.group.length*o.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,n,i=this,a=i.$list,s=i.$grid;i.instance.current&&(e=a.children().removeClass(o).filter('[data-index="'+i.instance.current.index+'"]').addClass(o),n=e.position(),"y"===i.opts.axis&&(n.top<0||n.top>a.height()-e.outerHeight())?a.stop().animate({scrollTop:a.scrollTop()+n.top},t):"x"===i.opts.axis&&(n.left<s.scrollLeft()||n.left>s.scrollLeft()+(s.width()-e.outerWidth()))&&a.parent().stop().animate({scrollLeft:n.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger("onThumbsShow"),t.focus(0)):t.$grid&&t.instance.trigger("onThumbsHide"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({"onInit.fb":function(t,e){var n;e&&!e.Thumbs&&(n=new a(e),n.isActive&&n.opts.autoStart===!0&&n.show())},"beforeShow.fb":function(t,e,n,o){var i=e&&e.Thumbs;i&&i.isVisible&&i.focus(o?0:250)},"afterKeydown.fb":function(t,e,n,o,i){var a=e&&e.Thumbs;a&&a.isActive&&71===i&&(o.preventDefault(),a.toggle())},"beforeClose.fb":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&n.opts.hideOnClose!==!1&&n.$grid.hide()}})}(document,window.jQuery||jQuery),function(t,e){"use strict";function n(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,function(t){return e[t]})}e.extend(!0,e.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg viewBox="0 0 40 40"><path d="M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z"></svg></button>'},share:{url:function(t,e){return!t.currentHash&&"inline"!==e.type&&"html"!==e.type&&(e.origSrc||e.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" /></p></div>'}}),e(t).on("click","[data-fancybox-share]",function(){var t,o,i=e.fancybox.getInstance(),a=i.current||null;a&&("function"===e.type(a.opts.share.url)&&(t=a.opts.share.url.apply(a,[i,a])),o=a.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===a.type?encodeURIComponent(a.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,n(t)).replace(/\{\{descr\}\}/g,i.$caption?encodeURIComponent(i.$caption.text()):""),e.fancybox.open({src:i.translate(i,o),type:"html",opts:{animationEffect:!1,afterLoad:function(t,e){i.$refs.container.one("beforeClose.fb",function(){t.close(null,0)}),e.$content.find(".fancybox-share__links a").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})}}}))})}(document,window.jQuery||jQuery),function(t,e,n){"use strict";function o(){var t=e.location.hash.substr(1),n=t.split("-"),o=n.length>1&&/^\+?\d+$/.test(n[n.length-1])?parseInt(n.pop(-1),10)||1:1,i=n.join("-");return{hash:t,index:o<1?1:o,gallery:i}}function i(t){var e;""!==t.gallery&&(e=n("[data-fancybox='"+n.escapeSelector(t.gallery)+"']").eq(t.index-1).trigger("click.fb-start"))}function a(t){var e,n;return!!t&&(e=t.current?t.current.opts:t.opts,n=e.hash||(e.$orig?e.$orig.data("fancybox"):""),""!==n&&n)}n.escapeSelector||(n.escapeSelector=function(t){var e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,n=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t};return(t+"").replace(e,n)}),n(function(){n.fancybox.defaults.hash!==!1&&(n(t).on({"onInit.fb":function(t,e){var n,i;e.group[e.currIndex].opts.hash!==!1&&(n=o(),i=a(e),i&&n.gallery&&i==n.gallery&&(e.currIndex=n.index-1))},"beforeShow.fb":function(n,o,i,s){var r;i&&i.opts.hash!==!1&&(r=a(o),r&&(o.currentHash=r+(o.group.length>1?"-"+(i.index+1):""),e.location.hash!=="#"+o.currentHash&&(o.origHash||(o.origHash=e.location.hash),o.hashTimer&&clearTimeout(o.hashTimer),o.hashTimer=setTimeout(function(){"replaceState"in e.history?(e.history[s?"pushState":"replaceState"]({},t.title,e.location.pathname+e.location.search+"#"+o.currentHash),s&&(o.hasCreatedHistory=!0)):e.location.hash=o.currentHash,o.hashTimer=null},300))))},"beforeClose.fb":function(n,o,i){var s;i.opts.hash!==!1&&(s=a(o),o.currentHash&&o.hasCreatedHistory?e.history.back():o.currentHash&&("replaceState"in e.history?e.history.replaceState({},t.title,e.location.pathname+e.location.search+(o.origHash||"")):e.location.hash=o.origHash),o.currentHash=null,clearTimeout(o.hashTimer))}}),n(e).on("hashchange.fb",function(){var t,e=o();n.each(n(".fancybox-container").get().reverse(),function(e,o){var i=n(o).data("FancyBox");if(i.currentHash)return t=i,!1}),t?!t.currentHash||t.currentHash===e.gallery+"-"+e.index||1===e.index&&t.currentHash==e.gallery||(t.currentHash=null,t.close()):""!==e.gallery&&i(e)}),setTimeout(function(){n.fancybox.getInstance()||i(o())},50))})}(document,window,window.jQuery||jQuery),function(t,e){"use strict";var n=(new Date).getTime();e(t).on({"onInit.fb":function(t,e,o){e.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var o=e.current,i=(new Date).getTime();e.group.length<2||o.opts.wheel===!1||"auto"===o.opts.wheel&&"image"!==o.type||(t.preventDefault(),t.stopPropagation(),o.$slide.hasClass("fancybox-animated")||(t=t.originalEvent||t,i-n<250||(n=i,e[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))})}})}(document,window.jQuery||jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5mYW5jeWJveC5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJkb2N1bWVudCIsIiQiLCJ1bmRlZmluZWQiLCJfcnVuIiwiZSIsIm9wdHMiLCIkdGFyZ2V0IiwidmFsdWUiLCJpdGVtcyIsImluZGV4IiwiaXNEZWZhdWx0UHJldmVudGVkIiwicHJldmVudERlZmF1bHQiLCJkYXRhIiwib3B0aW9ucyIsImN1cnJlbnRUYXJnZXQiLCJhdHRyIiwic2VsZWN0b3IiLCJsZW5ndGgiLCJmaWx0ZXIiLCJmYW5jeWJveCIsIm9wZW4iLCJjb25zb2xlIiwiaW5mbyIsInN0dWZmIiwiZm4iLCJkZWZhdWx0cyIsImxvb3AiLCJndXR0ZXIiLCJrZXlib2FyZCIsImFycm93cyIsImluZm9iYXIiLCJzbWFsbEJ0biIsInRvb2xiYXIiLCJidXR0b25zIiwiaWRsZVRpbWUiLCJwcm90ZWN0IiwibW9kYWwiLCJpbWFnZSIsInByZWxvYWQiLCJhamF4Iiwic2V0dGluZ3MiLCJpZnJhbWUiLCJ0cGwiLCJjc3MiLCJzY3JvbGxpbmciLCJkZWZhdWx0VHlwZSIsImFuaW1hdGlvbkVmZmVjdCIsImFuaW1hdGlvbkR1cmF0aW9uIiwiem9vbU9wYWNpdHkiLCJ0cmFuc2l0aW9uRWZmZWN0IiwidHJhbnNpdGlvbkR1cmF0aW9uIiwic2xpZGVDbGFzcyIsImJhc2VDbGFzcyIsImJhc2VUcGwiLCJzcGlubmVyVHBsIiwiZXJyb3JUcGwiLCJidG5UcGwiLCJkb3dubG9hZCIsInpvb20iLCJjbG9zZSIsImFycm93TGVmdCIsImFycm93UmlnaHQiLCJwYXJlbnRFbCIsImF1dG9Gb2N1cyIsImJhY2tGb2N1cyIsInRyYXBGb2N1cyIsImZ1bGxTY3JlZW4iLCJhdXRvU3RhcnQiLCJ0b3VjaCIsInZlcnRpY2FsIiwibW9tZW50dW0iLCJoYXNoIiwibWVkaWEiLCJzbGlkZVNob3ciLCJzcGVlZCIsInRodW1icyIsImhpZGVPbkNsb3NlIiwiYXhpcyIsIndoZWVsIiwib25Jbml0Iiwibm9vcCIsImJlZm9yZUxvYWQiLCJhZnRlckxvYWQiLCJiZWZvcmVTaG93IiwiYWZ0ZXJTaG93IiwiYmVmb3JlQ2xvc2UiLCJhZnRlckNsb3NlIiwib25BY3RpdmF0ZSIsIm9uRGVhY3RpdmF0ZSIsImNsaWNrQ29udGVudCIsImN1cnJlbnQiLCJldmVudCIsInR5cGUiLCJjbGlja1NsaWRlIiwiY2xpY2tPdXRzaWRlIiwiZGJsY2xpY2tDb250ZW50IiwiZGJsY2xpY2tTbGlkZSIsImRibGNsaWNrT3V0c2lkZSIsIm1vYmlsZSIsImxhbmciLCJpMThuIiwiZW4iLCJDTE9TRSIsIk5FWFQiLCJQUkVWIiwiRVJST1IiLCJQTEFZX1NUQVJUIiwiUExBWV9TVE9QIiwiRlVMTF9TQ1JFRU4iLCJUSFVNQlMiLCJET1dOTE9BRCIsIlNIQVJFIiwiWk9PTSIsImRlIiwiJFciLCIkRCIsImNhbGxlZCIsImlzUXVlcnkiLCJvYmoiLCJoYXNPd25Qcm9wZXJ0eSIsInJlcXVlc3RBRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FsbGJhY2siLCJzZXRUaW1lb3V0IiwidHJhbnNpdGlvbkVuZCIsInQiLCJlbCIsImNyZWF0ZUVsZW1lbnQiLCJ0cmFuc2l0aW9ucyIsInRyYW5zaXRpb24iLCJPVHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJXZWJraXRUcmFuc2l0aW9uIiwic3R5bGUiLCJmb3JjZVJlZHJhdyIsIiRlbCIsIm9mZnNldEhlaWdodCIsIm1lcmdlT3B0cyIsIm9wdHMxIiwib3B0czIiLCJyZXoiLCJleHRlbmQiLCJlYWNoIiwia2V5IiwiaXNBcnJheSIsIkZhbmN5Qm94IiwiY29udGVudCIsInNlbGYiLCJ0aGlzIiwiaXNQbGFpbk9iamVjdCIsImlzTW9iaWxlIiwiaWQiLCJjdXJySW5kZXgiLCJwYXJzZUludCIsInByZXZJbmRleCIsInByZXZQb3MiLCJjdXJyUG9zIiwiZmlyc3RSdW4iLCJncm91cCIsInNsaWRlcyIsImFkZENvbnRlbnQiLCIkbGFzdEZvY3VzIiwiYWN0aXZlRWxlbWVudCIsInRyaWdnZXIiLCJpbml0IiwicHJvdG90eXBlIiwiJHNjcm9sbERpdiIsIiRjb250YWluZXIiLCJidXR0b25TdHIiLCJmaXJzdEl0ZW0iLCJmaXJzdEl0ZW1PcHRzIiwic2Nyb2xsYmFyV2lkdGgiLCJnZXRJbnN0YW5jZSIsImhpZGVTY3JvbGxiYXIiLCJhZGRDbGFzcyIsImJvZHkiLCJzY3JvbGxIZWlnaHQiLCJpbm5lckhlaWdodCIsImFwcGVuZFRvIiwib2Zmc2V0V2lkdGgiLCJjbGllbnRXaWR0aCIsInJlbW92ZSIsImFwcGVuZCIsInRyYW5zbGF0ZSIsInJlcGxhY2UiLCIkcmVmcyIsImNvbnRhaW5lciIsImZvckVhY2giLCJpdGVtIiwiZmluZCIsImFjdGl2YXRlIiwianVtcFRvIiwic3RyIiwiYXJyIiwibWF0Y2giLCJuIiwibWFrZUFycmF5IiwiaSIsIiRpdGVtIiwiZm91bmQiLCJzcmMiLCJzcmNQYXJ0cyIsIiRvcmlnIiwidmlkZW9Gb3JtYXQiLCJjaGFyQXQiLCJjb250ZW50VHlwZSIsImluQXJyYXkiLCIkdHJpZ2dlciIsIiR0aHVtYiIsImNhcHRpb24iLCJhcHBseSIsInNwbGl0Iiwic2hpZnQiLCJwdXNoIiwiT2JqZWN0Iiwia2V5cyIsInVwZGF0ZUNvbnRyb2xzIiwiVGh1bWJzIiwiaXNBY3RpdmUiLCJjcmVhdGUiLCJmb2N1cyIsImFkZEV2ZW50cyIsInJlbW92ZUV2ZW50cyIsIm9uIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmlvdXMiLCJuZXh0IiwiaXNTY2FsZWREb3duIiwib3JpZ2luYWxFdmVudCIsInVwZGF0ZSIsInN0YWdlIiwiaGlkZSIsInNob3ciLCJpbnN0YW5jZSIsImlzQ2xvc2luZyIsInRhcmdldCIsImhhc0NsYXNzIiwiaXMiLCJoYXMiLCJrZXljb2RlIiwia2V5Q29kZSIsIndoaWNoIiwiY3RybEtleSIsImFsdEtleSIsInNoaWZ0S2V5IiwiaWRsZVNlY29uZHNDb3VudGVyIiwiaXNJZGxlIiwic2hvd0NvbnRyb2xzIiwiaWRsZUludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJpc0RyYWdnaW5nIiwiaGlkZUNvbnRyb2xzIiwib2ZmIiwiY2xlYXJJbnRlcnZhbCIsImR1cmF0aW9uIiwicG9zIiwiY2FudmFzV2lkdGgiLCJjdXJyZW50UG9zIiwidHJhbnNpdGlvblByb3BzIiwiZ3JvdXBMZW4iLCJpc0FuaW1hdGluZyIsImNyZWF0ZVNsaWRlIiwiZ2V0VHJhbnNsYXRlIiwiJHNsaWRlIiwiaXNNb3ZlZCIsImxlZnQiLCJ0b3AiLCJmb3JjZWREdXJhdGlvbiIsImlzTnVtZXJpYyIsInJlbW92ZUNsYXNzIiwibG9hZFNsaWRlIiwic2xpZGUiLCJzdG9wIiwiTWF0aCIsInJvdW5kIiwid2lkdGgiLCJhbmltYXRlIiwicmVtb3ZlQXR0ciIsImNvbXBsZXRlIiwiY2hpbGRyZW4iLCJpc0xvYWRlZCIsInJldmVhbENvbnRlbnQiLCJpc0NvbXBsZXRlIiwidXBkYXRlU2xpZGUiLCJzY2FsZVRvQWN0dWFsIiwieCIsInkiLCJpbWdQb3MiLCJwb3NYIiwicG9zWSIsInNjYWxlWCIsInNjYWxlWSIsIiRjb250ZW50IiwiY2FudmFzSGVpZ2h0IiwiaGVpZ2h0IiwibmV3SW1nV2lkdGgiLCJuZXdJbWdIZWlnaHQiLCJoYXNFcnJvciIsInVwZGF0ZUN1cnNvciIsIlNsaWRlU2hvdyIsInNjYWxlVG9GaXQiLCJlbmQiLCJnZXRGaXRQb3MiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsIm1pblJhdGlvIiwibWFyZ2luIiwiYXNwZWN0UmF0aW8iLCJyaWdodCIsImJvdHRvbSIsIm1pbiIsImZsb29yIiwicmF0aW8iLCJzZXRUcmFuc2xhdGUiLCJ0b2dnbGVDbGFzcyIsImdldCIsImNsaWVudEhlaWdodCIsImNlbnRlclNsaWRlIiwib3BhY2l0eSIsIm5leHRXaWR0aCIsIm5leHRIZWlnaHQiLCJpc1pvb21hYmxlIiwicHJvcCIsImlzRnVuY3Rpb24iLCJmaXRQb3MiLCJjYW5QYW4iLCJhYnMiLCJhamF4TG9hZCIsImlzTG9hZGluZyIsInNldEltYWdlIiwic2V0SWZyYW1lIiwic2V0Q29udGVudCIsInNldEVycm9yIiwic2hvd0xvYWRpbmciLCJ1cmwiLCJzdWNjZXNzIiwidGV4dFN0YXR1cyIsImVycm9yIiwianFYSFIiLCJvbmUiLCJhYm9ydCIsInRodW1iU3JjIiwidGVtcCIsInB4UmF0aW8iLCJ3aW5kb3dXaWR0aCIsInNyY3NldCIsInRpbW91dHMiLCIkaW1nIiwiJGltYWdlIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImlubmVyV2lkdGgiLCJtYXAiLCJyZXQiLCJ0cmltIiwic3Vic3RyaW5nIiwicG9zdGZpeCIsInNvcnQiLCJhIiwiYiIsImoiLCJ0aHVtYiIsIiRnaG9zdCIsInNldEJpZ0ltYWdlIiwic2l6ZXMiLCJyZXNvbHZlSW1hZ2VTbGlkZVNpemUiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiY2xlYXJUaW1lb3V0IiwibWF4IiwiaGlkZUxvYWRpbmciLCJyZWFkeVN0YXRlIiwiaW1nV2lkdGgiLCJpbWdIZWlnaHQiLCIkaWZyYW1lIiwiRGF0ZSIsImdldFRpbWUiLCJpc1JlYWR5IiwiJGNvbnRlbnRzIiwiJGJvZHkiLCJmcmFtZVdpZHRoIiwiZnJhbWVIZWlnaHQiLCJjb250ZW50cyIsImlnbm9yZSIsImNlaWwiLCJvdXRlcldpZHRoIiwib3V0ZXJIZWlnaHQiLCJ1bmJpbmQiLCJlbXB0eSIsInBhcmVudCIsIiRwbGFjZWhvbGRlciIsImluc2VydEFmdGVyIiwibm9kZVR5cGUiLCJodG1sIiwiYWZ0ZXIiLCIkc21hbGxCdG4iLCJ3cmFwIiwiZmlyc3QiLCIkc3Bpbm5lciIsInByZXBlbmRUbyIsImJ1dHRvbiIsImVmZmVjdCIsImVmZmVjdENsYXNzTmFtZSIsInN0YXJ0IiwiZ2V0VGh1bWJQb3MiLCJzbGlkZVBvcyIsInRodW1iUG9zIiwib3duZXJEb2N1bWVudCIsIm9mZnNldCIsImlzRWxlbWVudFZpc2libGUiLCJ2aXNpYmxlSW5BbGxQYXJlbnRzIiwiZWxlbWVudCIsImVsZW1lbnRSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicGFyZW50UmVjdHMiLCJwYXJlbnRFbGVtZW50IiwiZXZlcnkiLCJwYXJlbnRSZWN0IiwidmlzaWJsZVBpeGVsWCIsInZpc2libGVQaXhlbFkiLCJwYXJzZUZsb2F0Iiwic2libGluZ3MiLCJwcmV2IiwiaXNWaXNpYmxlIiwiZCIsImRvbVJlY3QiLCJkb25lIiwiY2xlYW5VcCIsIm5hbWUiLCJhcmdzIiwiQXJyYXkiLCJzbGljZSIsImNhbGwiLCJhcmd1bWVudHMiLCJ1bnNoaWZ0IiwiZm9yY2UiLCIkY2FwdGlvbiIsImlzSGlkZGVuQ29udHJvbHMiLCJ0b2dnbGVDb250cm9scyIsInZlcnNpb24iLCJjb21tYW5kIiwiYWxsIiwiZGVzdHJveSIsImFkZCIsImNyZWF0ZVRvdWNoIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInVzZTNkIiwiZGl2IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJkb2N1bWVudE1vZGUiLCJwcm9wcyIsInBvc2l0aW9uIiwidHJhbnNmb3JtIiwidG8iLCJsZWF2ZUFuaW1hdGlvbk5hbWUiLCJmaW5hbCIsInByb3BlcnR5TmFtZSIsImVxIiwialF1ZXJ5IiwiZm9ybWF0IiwicGFyYW1zIiwicGFyYW0iLCJpbmRleE9mIiwieW91dHViZSIsIm1hdGNoZXIiLCJhdXRvcGxheSIsImF1dG9oaWRlIiwiZnMiLCJyZWwiLCJoZCIsIndtb2RlIiwiZW5hYmxlanNhcGkiLCJodG1sNSIsInBhcmFtUGxhY2UiLCJ2aW1lbyIsInNob3dfdGl0bGUiLCJzaG93X2J5bGluZSIsInNob3dfcG9ydHJhaXQiLCJmdWxsc2NyZWVuIiwiYXBpIiwiaW5zdGFncmFtIiwiZ21hcF9wbGFjZSIsImdtYXBfc2VhcmNoIiwidXJsUGFyYW1zIiwicGFyYW1PYmoiLCJwcm92aWRlciIsInByb3ZpZGVyTmFtZSIsInByb3ZpZGVyT3B0cyIsIm0iLCJwIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicDEiLCJzIiwib3JpZ1NyYyIsImNvbnRlbnRTb3VyY2UiLCJjYW5jZWxBRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIiwibW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJvQ2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJnZXRQb2ludGVyWFkiLCJyZXN1bHQiLCJ0b3VjaGVzIiwiY2hhbmdlZFRvdWNoZXMiLCJwYWdlWCIsInBhZ2VZIiwiY2xpZW50WCIsImNsaWVudFkiLCJkaXN0YW5jZSIsInBvaW50MiIsInBvaW50MSIsIndoYXQiLCJzcXJ0IiwicG93IiwiaXNDbGlja2FibGUiLCJvbmNsaWNrIiwiYXR0cyIsImF0dHJpYnV0ZXMiLCJub2RlTmFtZSIsInN1YnN0ciIsImhhc1Njcm9sbGJhcnMiLCJvdmVyZmxvd1kiLCJvdmVyZmxvd1giLCJob3Jpem9udGFsIiwic2Nyb2xsV2lkdGgiLCJpc1Njcm9sbGFibGUiLCJHdWVzdHVyZXMiLCIkYmciLCJiZyIsIiRzdGFnZSIsInByb3h5Iiwib250b3VjaHN0YXJ0IiwiaXNUb3VjaERldmljZSIsInJlYWxQb2ludHMiLCJzdGFydFBvaW50cyIsInN0YXJ0RXZlbnQiLCJjYW5UYXAiLCJpc1Bhbm5pbmciLCJpc1N3aXBpbmciLCJpc1pvb21pbmciLCJpc1Njcm9sbGluZyIsInN0YXJ0VGltZSIsImRpc3RhbmNlWCIsImRpc3RhbmNlWSIsImNvbnRlbnRMYXN0UG9zIiwiY29udGVudFN0YXJ0UG9zIiwic2xpZGVyU3RhcnRQb3MiLCJzbGlkZXJMYXN0UG9zIiwic3RhZ2VQb3MiLCJhZGRFdmVudExpc3RlbmVyIiwib25zY3JvbGwiLCJjZW50ZXJQb2ludFN0YXJ0WCIsInNjcm9sbExlZnQiLCJjZW50ZXJQb2ludFN0YXJ0WSIsInNjcm9sbFRvcCIsInBlcmNlbnRhZ2VPZkltYWdlQXRQaW5jaFBvaW50WCIsInBlcmNlbnRhZ2VPZkltYWdlQXRQaW5jaFBvaW50WSIsInN0YXJ0RGlzdGFuY2VCZXR3ZWVuRmluZ2VycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvbnRvdWNobW92ZSIsIm9udG91Y2hlbmQiLCJuZXdQb2ludHMiLCJvblN3aXBlIiwib25QYW4iLCJvblpvb20iLCJhbmdsZSIsInN3aXBpbmciLCJyZXF1ZXN0SWQiLCJhdGFuMiIsIlBJIiwiaW5UcmFuc2l0aW9uIiwibGltaXRNb3ZlbWVudCIsIm1pblRyYW5zbGF0ZVgiLCJtaW5UcmFuc2xhdGVZIiwibWF4VHJhbnNsYXRlWCIsIm1heFRyYW5zbGF0ZVkiLCJuZXdPZmZzZXRYIiwibmV3T2Zmc2V0WSIsImN1cnJlbnRPZmZzZXRYIiwiY3VycmVudE9mZnNldFkiLCJjdXJyZW50V2lkdGgiLCJjdXJyZW50SGVpZ2h0IiwibGltaXRQb3NpdGlvbiIsIm5ld1dpZHRoIiwibmV3SGVpZ2h0IiwiZW5kRGlzdGFuY2VCZXR3ZWVuRmluZ2VycyIsInBpbmNoUmF0aW8iLCJ0cmFuc2xhdGVGcm9tWm9vbWluZ1giLCJ0cmFuc2xhdGVGcm9tWm9vbWluZ1kiLCJjZW50ZXJQb2ludEVuZFgiLCJjZW50ZXJQb2ludEVuZFkiLCJ0cmFuc2xhdGVGcm9tVHJhbnNsYXRpbmdYIiwidHJhbnNsYXRlRnJvbVRyYW5zbGF0aW5nWSIsIm5ld1BvcyIsImRNcyIsInBhbm5pbmciLCJ6b29taW5nIiwiZW5kUG9pbnRzIiwib25UYXAiLCJ2ZWxvY2l0eVgiLCJ2ZWxvY2l0eVkiLCJzcGVlZFgiLCJlbmRQYW5uaW5nIiwiZW5kWm9vbWluZyIsImVuZFN3aXBpbmciLCJsZW4iLCJyZXNldCIsIndoZXJlIiwidGFwWCIsInRhcFkiLCJwcm9jZXNzIiwicHJlZml4IiwiYWN0aW9uIiwiYWRkQmFjayIsInRhcHBlZCIsInRpbWVyIiwiJGJ1dHRvbiIsInRvZ2dsZSIsInNldCIsImNsZWFyIiwib25Jbml0LmZiIiwiYmVmb3JlU2hvdy5mYiIsImFmdGVyU2hvdy5mYiIsImFmdGVyS2V5ZG93bi5mYiIsImtleXByZXNzIiwiYmVmb3JlQ2xvc2UuZmIgb25EZWFjdGl2YXRlLmZiIiwiaGlkZGVuIiwiZm5NYXAiLCJ2YWwiLCJGdWxsU2NyZWVuIiwicmVxdWVzdCIsImVsZW0iLCJkb2N1bWVudEVsZW1lbnQiLCJyZXF1ZXN0RnVsbHNjcmVlbiIsIkFMTE9XX0tFWUJPQVJEX0lOUFVUIiwiZXhpdCIsImV4aXRGdWxsc2NyZWVuIiwiaXNGdWxsc2NyZWVuIiwiQm9vbGVhbiIsImZ1bGxzY3JlZW5FbGVtZW50IiwiZW5hYmxlZCIsImZ1bGxzY3JlZW5FbmFibGVkIiwiYmVmb3JlQ2xvc2UuZmIiLCJmdWxsc2NyZWVuY2hhbmdlIiwiQ0xBU1MiLCJDTEFTU19BQ1RJVkUiLCJDTEFTU19MT0FEIiwiRmFuY3lUaHVtYnMiLCIkZ3JpZCIsIiRsaXN0Iiwic2Vjb25kIiwibGlzdCIsImlubmVySFRNTCIsImpvaW4iLCJ0aGF0IiwiZXNjYXBlSHRtbCIsInN0cmluZyIsImVudGl0eU1hcCIsIiYiLCI8IiwiPiIsIlwiIiwiJyIsIi8iLCJgIiwiPSIsIlN0cmluZyIsInNoYXJlIiwiY3VycmVudEhhc2giLCJsb2NhdGlvbiIsImVuY29kZVVSSUNvbXBvbmVudCIsInRleHQiLCJzaGFyZUluc3RhbmNlIiwic2hhcmVDdXJyZW50IiwiY2xpY2siLCJocmVmIiwicGFyc2VVcmwiLCJwb3AiLCJnYWxsZXJ5IiwidHJpZ2dlckZyb21VcmwiLCJlc2NhcGVTZWxlY3RvciIsImdldEdhbGxlcnlJRCIsInNlbCIsInJjc3Nlc2NhcGUiLCJmY3NzZXNjYXBlIiwiY2giLCJhc0NvZGVQb2ludCIsImNoYXJDb2RlQXQiLCJ0b1N0cmluZyIsIm9yaWdIYXNoIiwiaGFzaFRpbWVyIiwiaGlzdG9yeSIsInRpdGxlIiwicGF0aG5hbWUiLCJzZWFyY2giLCJoYXNDcmVhdGVkSGlzdG9yeSIsImJhY2siLCJyZXBsYWNlU3RhdGUiLCJmYiIsInJldmVyc2UiLCJ0bXAiLCJwcmV2VGltZSIsImN1cnJUaW1lIiwiZGVsdGFZIiwiZGVsdGFYIiwid2hlZWxEZWx0YSIsImRldGFp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QUFnQmhWLEVBQUkwVixRQUFVLElBQU0xVixFQUFJeFUsT0FBeUIsSUFBZHdVLEVBQUl4VSxPQUFlc3JCLEVBQUc5QixhQUFlaFYsRUFBSTBWLFVBQ25Ib0IsRUFBRzlCLFlBQWMsS0FFakI4QixFQUFHcG9CLFNBRW9CLEtBQWhCc1IsRUFBSTBWLFNBQ2JDLEVBQWUzVixLQUtuQm5OLFdBQVcsV0FDSjdILEVBQUVrQixTQUFTNEosZUFDZDZmLEVBQWVILE1BRWhCLFFBRUp6cUIsU0FBVUQsT0FBUUEsT0FBT2dkLFFBQVVBLFFBUXRDLFNBQVUvYyxFQUFVQyxHQUNsQixZQUVBLElBQUlpc0IsSUFBVyxHQUFJelUsT0FBT0MsU0FFMUJ6WCxHQUFFRCxHQUFVa08sSUFDVitZLFlBQWEsU0FBUzdtQixFQUFHd08sRUFBVWxKLEdBQ2pDa0osRUFBU2hELE1BQU02QyxNQUFNUCxHQUFHLHNEQUF1RCxTQUFTOU4sR0FDdEYsR0FBSXNGLEdBQVVrSixFQUFTbEosUUFDckJ5bUIsR0FBVyxHQUFJMVUsT0FBT0MsU0FFcEI5SSxHQUFTM0UsTUFBTWhKLE9BQVMsR0FBS3lFLEVBQVFyRixLQUFLeUUsU0FBVSxHQUFpQyxTQUF2QlksRUFBUXJGLEtBQUt5RSxPQUFxQyxVQUFqQlksRUFBUUUsT0FJM0d4RixFQUFFTyxpQkFDRlAsRUFBRStOLGtCQUVFekksRUFBUWdMLE9BQU8zQixTQUFTLHVCQUk1QjNPLEVBQUlBLEVBQUVtTyxlQUFpQm5PLEVBRW5CK3JCLEVBQVdELEVBQVcsTUFJMUJBLEVBQVdDLEVBRVh2ZCxJQUFXeE8sRUFBRWdzQixTQUFXaHNCLEVBQUVpc0IsUUFBVWpzQixFQUFFa3NCLGFBQWVsc0IsRUFBRW1zQixRQUFVLEVBQUksT0FBUyx1QkFJbkZ2c0IsU0FBVUQsT0FBT2dkLFFBQVVBIiwiZmlsZSI6ImpxdWVyeS5mYW5jeWJveC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBmYW5jeUJveCB2My4zLjVcbi8vXG4vLyBMaWNlbnNlZCBHUEx2MyBmb3Igb3BlbiBzb3VyY2UgdXNlXG4vLyBvciBmYW5jeUJveCBDb21tZXJjaWFsIExpY2Vuc2UgZm9yIGNvbW1lcmNpYWwgdXNlXG4vL1xuLy8gaHR0cDovL2ZhbmN5YXBwcy5jb20vZmFuY3lib3gvXG4vLyBDb3B5cmlnaHQgMjAxOCBmYW5jeUFwcHNcbi8vXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsICQsIHVuZGVmaW5lZCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB3aW5kb3cuY29uc29sZSA9IHdpbmRvdy5jb25zb2xlIHx8IHtcbiAgICBpbmZvOiBmdW5jdGlvbihzdHVmZikge31cbiAgfTtcblxuICAvLyBJZiB0aGVyZSdzIG5vIGpRdWVyeSwgZmFuY3lCb3ggY2FuJ3Qgd29ya1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGlmICghJCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIGZhbmN5Qm94IGlzIGFscmVhZHkgaW5pdGlhbGl6ZWRcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGlmICgkLmZuLmZhbmN5Ym94KSB7XG4gICAgY29uc29sZS5pbmZvKFwiZmFuY3lCb3ggYWxyZWFkeSBpbml0aWFsaXplZFwiKTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFByaXZhdGUgZGVmYXVsdCBzZXR0aW5nc1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgLy8gRW5hYmxlIGluZmluaXRlIGdhbGxlcnkgbmF2aWdhdGlvblxuICAgIGxvb3A6IGZhbHNlLFxuXG4gICAgLy8gSG9yaXpvbnRhbCBzcGFjZSBiZXR3ZWVuIHNsaWRlc1xuICAgIGd1dHRlcjogNTAsXG5cbiAgICAvLyBFbmFibGUga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgIGtleWJvYXJkOiB0cnVlLFxuXG4gICAgLy8gU2hvdWxkIGRpc3BsYXkgbmF2aWdhdGlvbiBhcnJvd3MgYXQgdGhlIHNjcmVlbiBlZGdlc1xuICAgIGFycm93czogdHJ1ZSxcblxuICAgIC8vIFNob3VsZCBkaXNwbGF5IGNvdW50ZXIgYXQgdGhlIHRvcCBsZWZ0IGNvcm5lclxuICAgIGluZm9iYXI6IHRydWUsXG5cbiAgICAvLyBTaG91bGQgZGlzcGxheSBjbG9zZSBidXR0b24gKHVzaW5nIGBidG5UcGwuc21hbGxCdG5gIHRlbXBsYXRlKSBvdmVyIHRoZSBjb250ZW50XG4gICAgLy8gQ2FuIGJlIHRydWUsIGZhbHNlLCBcImF1dG9cIlxuICAgIC8vIElmIFwiYXV0b1wiIC0gd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGVuYWJsZWQgZm9yIFwiaHRtbFwiLCBcImlubGluZVwiIG9yIFwiYWpheFwiIGl0ZW1zXG4gICAgc21hbGxCdG46IFwiYXV0b1wiLFxuXG4gICAgLy8gU2hvdWxkIGRpc3BsYXkgdG9vbGJhciAoYnV0dG9ucyBhdCB0aGUgdG9wKVxuICAgIC8vIENhbiBiZSB0cnVlLCBmYWxzZSwgXCJhdXRvXCJcbiAgICAvLyBJZiBcImF1dG9cIiAtIHdpbGwgYmUgYXV0b21hdGljYWxseSBoaWRkZW4gaWYgXCJzbWFsbEJ0blwiIGlzIGVuYWJsZWRcbiAgICB0b29sYmFyOiBcImF1dG9cIixcblxuICAgIC8vIFdoYXQgYnV0dG9ucyBzaG91bGQgYXBwZWFyIGluIHRoZSB0b3AgcmlnaHQgY29ybmVyLlxuICAgIC8vIEJ1dHRvbnMgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRlbXBsYXRlcyBmcm9tIGBidG5UcGxgIG9wdGlvblxuICAgIC8vIGFuZCB0aGV5IHdpbGwgYmUgcGxhY2VkIGludG8gdG9vbGJhciAoY2xhc3M9XCJmYW5jeWJveC10b29sYmFyXCJgIGVsZW1lbnQpXG4gICAgYnV0dG9uczogW1xuICAgICAgXCJ6b29tXCIsXG4gICAgICAvL1wic2hhcmVcIixcbiAgICAgIC8vXCJzbGlkZVNob3dcIixcbiAgICAgIC8vXCJmdWxsU2NyZWVuXCIsXG4gICAgICAvL1wiZG93bmxvYWRcIixcbiAgICAgIFwidGh1bWJzXCIsXG4gICAgICBcImNsb3NlXCJcbiAgICBdLFxuXG4gICAgLy8gRGV0ZWN0IFwiaWRsZVwiIHRpbWUgaW4gc2Vjb25kc1xuICAgIGlkbGVUaW1lOiAzLFxuXG4gICAgLy8gRGlzYWJsZSByaWdodC1jbGljayBhbmQgdXNlIHNpbXBsZSBpbWFnZSBwcm90ZWN0aW9uIGZvciBpbWFnZXNcbiAgICBwcm90ZWN0OiBmYWxzZSxcblxuICAgIC8vIFNob3J0Y3V0IHRvIG1ha2UgY29udGVudCBcIm1vZGFsXCIgLSBkaXNhYmxlIGtleWJvYXJkIG5hdmlndGlvbiwgaGlkZSBidXR0b25zLCBldGNcbiAgICBtb2RhbDogZmFsc2UsXG5cbiAgICBpbWFnZToge1xuICAgICAgLy8gV2FpdCBmb3IgaW1hZ2VzIHRvIGxvYWQgYmVmb3JlIGRpc3BsYXlpbmdcbiAgICAgIC8vICAgdHJ1ZSAgLSB3YWl0IGZvciBpbWFnZSB0byBsb2FkIGFuZCB0aGVuIGRpc3BsYXk7XG4gICAgICAvLyAgIGZhbHNlIC0gZGlzcGxheSB0aHVtYm5haWwgYW5kIGxvYWQgdGhlIGZ1bGwtc2l6ZWQgaW1hZ2Ugb3ZlciB0b3AsXG4gICAgICAvLyAgICAgICAgICAgcmVxdWlyZXMgcHJlZGVmaW5lZCBpbWFnZSBkaW1lbnNpb25zIChgZGF0YS13aWR0aGAgYW5kIGBkYXRhLWhlaWdodGAgYXR0cmlidXRlcylcbiAgICAgIHByZWxvYWQ6IGZhbHNlXG4gICAgfSxcblxuICAgIGFqYXg6IHtcbiAgICAgIC8vIE9iamVjdCBjb250YWluaW5nIHNldHRpbmdzIGZvciBhamF4IHJlcXVlc3RcbiAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgIC8vIFRoaXMgaGVscHMgdG8gaW5kaWNhdGUgdGhhdCByZXF1ZXN0IGNvbWVzIGZyb20gdGhlIG1vZGFsXG4gICAgICAgIC8vIEZlZWwgZnJlZSB0byBjaGFuZ2UgbmFtaW5nXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBmYW5jeWJveDogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGlmcmFtZToge1xuICAgICAgLy8gSWZyYW1lIHRlbXBsYXRlXG4gICAgICB0cGw6XG4gICAgICAgICc8aWZyYW1lIGlkPVwiZmFuY3lib3gtZnJhbWV7cm5kfVwiIG5hbWU9XCJmYW5jeWJveC1mcmFtZXtybmR9XCIgY2xhc3M9XCJmYW5jeWJveC1pZnJhbWVcIiBmcmFtZWJvcmRlcj1cIjBcIiB2c3BhY2U9XCIwXCIgaHNwYWNlPVwiMFwiIHdlYmtpdEFsbG93RnVsbFNjcmVlbiBtb3phbGxvd2Z1bGxzY3JlZW4gYWxsb3dGdWxsU2NyZWVuIGFsbG93dHJhbnNwYXJlbmN5PVwidHJ1ZVwiIHNyYz1cIlwiPjwvaWZyYW1lPicsXG5cbiAgICAgIC8vIFByZWxvYWQgaWZyYW1lIGJlZm9yZSBkaXNwbGF5aW5nIGl0XG4gICAgICAvLyBUaGlzIGFsbG93cyB0byBjYWxjdWxhdGUgaWZyYW1lIGNvbnRlbnQgd2lkdGggYW5kIGhlaWdodFxuICAgICAgLy8gKG5vdGU6IER1ZSB0byBcIlNhbWUgT3JpZ2luIFBvbGljeVwiLCB5b3UgY2FuJ3QgZ2V0IGNyb3NzIGRvbWFpbiBkYXRhKS5cbiAgICAgIHByZWxvYWQ6IHRydWUsXG5cbiAgICAgIC8vIEN1c3RvbSBDU1Mgc3R5bGluZyBmb3IgaWZyYW1lIHdyYXBwaW5nIGVsZW1lbnRcbiAgICAgIC8vIFlvdSBjYW4gdXNlIHRoaXMgdG8gc2V0IGN1c3RvbSBpZnJhbWUgZGltZW5zaW9uc1xuICAgICAgY3NzOiB7fSxcblxuICAgICAgLy8gSWZyYW1lIHRhZyBhdHRyaWJ1dGVzXG4gICAgICBhdHRyOiB7XG4gICAgICAgIHNjcm9sbGluZzogXCJhdXRvXCJcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gRGVmYXVsdCBjb250ZW50IHR5cGUgaWYgY2Fubm90IGJlIGRldGVjdGVkIGF1dG9tYXRpY2FsbHlcbiAgICBkZWZhdWx0VHlwZTogXCJpbWFnZVwiLFxuXG4gICAgLy8gT3Blbi9jbG9zZSBhbmltYXRpb24gdHlwZVxuICAgIC8vIFBvc3NpYmxlIHZhbHVlczpcbiAgICAvLyAgIGZhbHNlICAgICAgICAgICAgLSBkaXNhYmxlXG4gICAgLy8gICBcInpvb21cIiAgICAgICAgICAgLSB6b29tIGltYWdlcyBmcm9tL3RvIHRodW1ibmFpbFxuICAgIC8vICAgXCJmYWRlXCJcbiAgICAvLyAgIFwiem9vbS1pbi1vdXRcIlxuICAgIC8vXG4gICAgYW5pbWF0aW9uRWZmZWN0OiBcInpvb21cIixcblxuICAgIC8vIER1cmF0aW9uIGluIG1zIGZvciBvcGVuL2Nsb3NlIGFuaW1hdGlvblxuICAgIGFuaW1hdGlvbkR1cmF0aW9uOiAzNjYsXG5cbiAgICAvLyBTaG91bGQgaW1hZ2UgY2hhbmdlIG9wYWNpdHkgd2hpbGUgem9vbWluZ1xuICAgIC8vIElmIG9wYWNpdHkgaXMgXCJhdXRvXCIsIHRoZW4gb3BhY2l0eSB3aWxsIGJlIGNoYW5nZWQgaWYgaW1hZ2UgYW5kIHRodW1ibmFpbCBoYXZlIGRpZmZlcmVudCBhc3BlY3QgcmF0aW9zXG4gICAgem9vbU9wYWNpdHk6IFwiYXV0b1wiLFxuXG4gICAgLy8gVHJhbnNpdGlvbiBlZmZlY3QgYmV0d2VlbiBzbGlkZXNcbiAgICAvL1xuICAgIC8vIFBvc3NpYmxlIHZhbHVlczpcbiAgICAvLyAgIGZhbHNlICAgICAgICAgICAgLSBkaXNhYmxlXG4gICAgLy8gICBcImZhZGUnXG4gICAgLy8gICBcInNsaWRlJ1xuICAgIC8vICAgXCJjaXJjdWxhcidcbiAgICAvLyAgIFwidHViZSdcbiAgICAvLyAgIFwiem9vbS1pbi1vdXQnXG4gICAgLy8gICBcInJvdGF0ZSdcbiAgICAvL1xuICAgIHRyYW5zaXRpb25FZmZlY3Q6IFwiZmFkZVwiLFxuXG4gICAgLy8gRHVyYXRpb24gaW4gbXMgZm9yIHRyYW5zaXRpb24gYW5pbWF0aW9uXG4gICAgdHJhbnNpdGlvbkR1cmF0aW9uOiAzNjYsXG5cbiAgICAvLyBDdXN0b20gQ1NTIGNsYXNzIGZvciBzbGlkZSBlbGVtZW50XG4gICAgc2xpZGVDbGFzczogXCJcIixcblxuICAgIC8vIEN1c3RvbSBDU1MgY2xhc3MgZm9yIGxheW91dFxuICAgIGJhc2VDbGFzczogXCJcIixcblxuICAgIC8vIEJhc2UgdGVtcGxhdGUgZm9yIGxheW91dFxuICAgIGJhc2VUcGw6XG4gICAgICAnPGRpdiBjbGFzcz1cImZhbmN5Ym94LWNvbnRhaW5lclwiIHJvbGU9XCJkaWFsb2dcIiB0YWJpbmRleD1cIi0xXCI+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cImZhbmN5Ym94LWJnXCI+PC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cImZhbmN5Ym94LWlubmVyXCI+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cImZhbmN5Ym94LWluZm9iYXJcIj4nICtcbiAgICAgIFwiPHNwYW4gZGF0YS1mYW5jeWJveC1pbmRleD48L3NwYW4+Jm5ic3A7LyZuYnNwOzxzcGFuIGRhdGEtZmFuY3lib3gtY291bnQ+PC9zcGFuPlwiICtcbiAgICAgIFwiPC9kaXY+XCIgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJmYW5jeWJveC10b29sYmFyXCI+e3tidXR0b25zfX08L2Rpdj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtbmF2aWdhdGlvblwiPnt7YXJyb3dzfX08L2Rpdj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtc3RhZ2VcIj48L2Rpdj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtY2FwdGlvblwiPjwvZGl2PicgK1xuICAgICAgXCI8L2Rpdj5cIiArXG4gICAgICBcIjwvZGl2PlwiLFxuXG4gICAgLy8gTG9hZGluZyBpbmRpY2F0b3IgdGVtcGxhdGVcbiAgICBzcGlubmVyVHBsOiAnPGRpdiBjbGFzcz1cImZhbmN5Ym94LWxvYWRpbmdcIj48L2Rpdj4nLFxuXG4gICAgLy8gRXJyb3IgbWVzc2FnZSB0ZW1wbGF0ZVxuICAgIGVycm9yVHBsOiAnPGRpdiBjbGFzcz1cImZhbmN5Ym94LWVycm9yXCI+PHA+e3tFUlJPUn19PC9wPjwvZGl2PicsXG5cbiAgICBidG5UcGw6IHtcbiAgICAgIGRvd25sb2FkOlxuICAgICAgICAnPGEgZG93bmxvYWQgZGF0YS1mYW5jeWJveC1kb3dubG9hZCBjbGFzcz1cImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLWRvd25sb2FkXCIgdGl0bGU9XCJ7e0RPV05MT0FEfX1cIiBocmVmPVwiamF2YXNjcmlwdDo7XCI+JyArXG4gICAgICAgICc8c3ZnIHZpZXdCb3g9XCIwIDAgNDAgNDBcIj4nICtcbiAgICAgICAgJzxwYXRoIGQ9XCJNMTMsMTYgTDIwLDIzIEwyNywxNiBNMjAsNyBMMjAsMjMgTTEwLDI0IEwxMCwyOCBMMzAsMjggTDMwLDI0XCIgLz4nICtcbiAgICAgICAgXCI8L3N2Zz5cIiArXG4gICAgICAgIFwiPC9hPlwiLFxuXG4gICAgICB6b29tOlxuICAgICAgICAnPGJ1dHRvbiBkYXRhLWZhbmN5Ym94LXpvb20gY2xhc3M9XCJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS16b29tXCIgdGl0bGU9XCJ7e1pPT019fVwiPicgK1xuICAgICAgICAnPHN2ZyB2aWV3Qm94PVwiMCAwIDQwIDQwXCI+JyArXG4gICAgICAgICc8cGF0aCBkPVwiTTE4LDE3IG0tOCwwIGE4LDggMCAxLDAgMTYsMCBhOCw4IDAgMSwwIC0xNiwwIE0yNCwyMiBMMzEsMjlcIiAvPicgK1xuICAgICAgICBcIjwvc3ZnPlwiICtcbiAgICAgICAgXCI8L2J1dHRvbj5cIixcblxuICAgICAgY2xvc2U6XG4gICAgICAgICc8YnV0dG9uIGRhdGEtZmFuY3lib3gtY2xvc2UgY2xhc3M9XCJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS1jbG9zZVwiIHRpdGxlPVwie3tDTE9TRX19XCI+JyArXG4gICAgICAgICc8c3ZnIHZpZXdCb3g9XCIwIDAgNDAgNDBcIj4nICtcbiAgICAgICAgJzxwYXRoIGQ9XCJNMTAsMTAgTDMwLDMwIE0zMCwxMCBMMTAsMzBcIiAvPicgK1xuICAgICAgICBcIjwvc3ZnPlwiICtcbiAgICAgICAgXCI8L2J1dHRvbj5cIixcblxuICAgICAgLy8gVGhpcyBzbWFsbCBjbG9zZSBidXR0b24gd2lsbCBiZSBhcHBlbmRlZCB0byB5b3VyIGh0bWwvaW5saW5lL2FqYXggY29udGVudCBieSBkZWZhdWx0LFxuICAgICAgLy8gaWYgXCJzbWFsbEJ0blwiIG9wdGlvbiBpcyBub3Qgc2V0IHRvIGZhbHNlXG4gICAgICBzbWFsbEJ0bjpcbiAgICAgICAgJzxidXR0b24gZGF0YS1mYW5jeWJveC1jbG9zZSBjbGFzcz1cImZhbmN5Ym94LWNsb3NlLXNtYWxsXCIgdGl0bGU9XCJ7e0NMT1NFfX1cIj48c3ZnIHZpZXdCb3g9XCIwIDAgMzIgMzJcIj48cGF0aCBkPVwiTTEwLDEwIEwyMiwyMiBNMjIsMTAgTDEwLDIyXCI+PC9wYXRoPjwvc3ZnPjwvYnV0dG9uPicsXG5cbiAgICAgIC8vIEFycm93c1xuICAgICAgYXJyb3dMZWZ0OlxuICAgICAgICAnPGEgZGF0YS1mYW5jeWJveC1wcmV2IGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tYXJyb3dfbGVmdFwiIHRpdGxlPVwie3tQUkVWfX1cIiBocmVmPVwiamF2YXNjcmlwdDo7XCI+JyArXG4gICAgICAgICc8c3ZnIHZpZXdCb3g9XCIwIDAgNDAgNDBcIj4nICtcbiAgICAgICAgJzxwYXRoIGQ9XCJNMTgsMTIgTDEwLDIwIEwxOCwyOCBNMTAsMjAgTDMwLDIwXCI+PC9wYXRoPicgK1xuICAgICAgICBcIjwvc3ZnPlwiICtcbiAgICAgICAgXCI8L2E+XCIsXG5cbiAgICAgIGFycm93UmlnaHQ6XG4gICAgICAgICc8YSBkYXRhLWZhbmN5Ym94LW5leHQgY2xhc3M9XCJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS1hcnJvd19yaWdodFwiIHRpdGxlPVwie3tORVhUfX1cIiBocmVmPVwiamF2YXNjcmlwdDo7XCI+JyArXG4gICAgICAgICc8c3ZnIHZpZXdCb3g9XCIwIDAgNDAgNDBcIj4nICtcbiAgICAgICAgJzxwYXRoIGQ9XCJNMTAsMjAgTDMwLDIwIE0yMiwxMiBMMzAsMjAgTDIyLDI4XCI+PC9wYXRoPicgK1xuICAgICAgICBcIjwvc3ZnPlwiICtcbiAgICAgICAgXCI8L2E+XCJcbiAgICB9LFxuXG4gICAgLy8gQ29udGFpbmVyIGlzIGluamVjdGVkIGludG8gdGhpcyBlbGVtZW50XG4gICAgcGFyZW50RWw6IFwiYm9keVwiLFxuXG4gICAgLy8gRm9jdXMgaGFuZGxpbmdcbiAgICAvLyA9PT09PT09PT09PT09PVxuXG4gICAgLy8gVHJ5IHRvIGZvY3VzIG9uIHRoZSBmaXJzdCBmb2N1c2FibGUgZWxlbWVudCBhZnRlciBvcGVuaW5nXG4gICAgYXV0b0ZvY3VzOiBmYWxzZSxcblxuICAgIC8vIFB1dCBmb2N1cyBiYWNrIHRvIGFjdGl2ZSBlbGVtZW50IGFmdGVyIGNsb3NpbmdcbiAgICBiYWNrRm9jdXM6IHRydWUsXG5cbiAgICAvLyBEbyBub3QgbGV0IHVzZXIgdG8gZm9jdXMgb24gZWxlbWVudCBvdXRzaWRlIG1vZGFsIGNvbnRlbnRcbiAgICB0cmFwRm9jdXM6IHRydWUsXG5cbiAgICAvLyBNb2R1bGUgc3BlY2lmaWMgb3B0aW9uc1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBmdWxsU2NyZWVuOiB7XG4gICAgICBhdXRvU3RhcnQ6IGZhbHNlXG4gICAgfSxcblxuICAgIC8vIFNldCBgdG91Y2g6IGZhbHNlYCB0byBkaXNhYmxlIGRyYWdnaW5nL3N3aXBpbmdcbiAgICB0b3VjaDoge1xuICAgICAgdmVydGljYWw6IHRydWUsIC8vIEFsbG93IHRvIGRyYWcgY29udGVudCB2ZXJ0aWNhbGx5XG4gICAgICBtb21lbnR1bTogdHJ1ZSAvLyBDb250aW51ZSBtb3ZlbWVudCBhZnRlciByZWxlYXNpbmcgbW91c2UvdG91Y2ggd2hlbiBwYW5uaW5nXG4gICAgfSxcblxuICAgIC8vIEhhc2ggdmFsdWUgd2hlbiBpbml0aWFsaXppbmcgbWFudWFsbHksXG4gICAgLy8gc2V0IGBmYWxzZWAgdG8gZGlzYWJsZSBoYXNoIGNoYW5nZVxuICAgIGhhc2g6IG51bGwsXG5cbiAgICAvLyBDdXN0b21pemUgb3IgYWRkIG5ldyBtZWRpYSB0eXBlc1xuICAgIC8vIEV4YW1wbGU6XG4gICAgLypcbiAgICAgICAgbWVkaWEgOiB7XG4gICAgICAgICAgICB5b3V0dWJlIDoge1xuICAgICAgICAgICAgICAgIHBhcmFtcyA6IHtcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXkgOiAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICovXG4gICAgbWVkaWE6IHt9LFxuXG4gICAgc2xpZGVTaG93OiB7XG4gICAgICBhdXRvU3RhcnQ6IGZhbHNlLFxuICAgICAgc3BlZWQ6IDQwMDBcbiAgICB9LFxuXG4gICAgdGh1bWJzOiB7XG4gICAgICBhdXRvU3RhcnQ6IGZhbHNlLCAvLyBEaXNwbGF5IHRodW1ibmFpbHMgb24gb3BlbmluZ1xuICAgICAgaGlkZU9uQ2xvc2U6IHRydWUsIC8vIEhpZGUgdGh1bWJuYWlsIGdyaWQgd2hlbiBjbG9zaW5nIGFuaW1hdGlvbiBzdGFydHNcbiAgICAgIHBhcmVudEVsOiBcIi5mYW5jeWJveC1jb250YWluZXJcIiwgLy8gQ29udGFpbmVyIGlzIGluamVjdGVkIGludG8gdGhpcyBlbGVtZW50XG4gICAgICBheGlzOiBcInlcIiAvLyBWZXJ0aWNhbCAoeSkgb3IgaG9yaXpvbnRhbCAoeCkgc2Nyb2xsaW5nXG4gICAgfSxcblxuICAgIC8vIFVzZSBtb3VzZXdoZWVsIHRvIG5hdmlnYXRlIGdhbGxlcnlcbiAgICAvLyBJZiAnYXV0bycgLSBlbmFibGVkIGZvciBpbWFnZXMgb25seVxuICAgIHdoZWVsOiBcImF1dG9cIixcblxuICAgIC8vIENhbGxiYWNrc1xuICAgIC8vPT09PT09PT09PVxuXG4gICAgLy8gU2VlIERvY3VtZW50YXRpb24vQVBJL0V2ZW50cyBmb3IgbW9yZSBpbmZvcm1hdGlvblxuICAgIC8vIEV4YW1wbGU6XG4gICAgLypcblx0XHRhZnRlclNob3c6IGZ1bmN0aW9uKCBpbnN0YW5jZSwgY3VycmVudCApIHtcblx0XHRcdGNvbnNvbGUuaW5mbyggJ0NsaWNrZWQgZWxlbWVudDonICk7XG5cdFx0XHRjb25zb2xlLmluZm8oIGN1cnJlbnQub3B0cy4kb3JpZyApO1xuXHRcdH1cblx0Ki9cblxuICAgIG9uSW5pdDogJC5ub29wLCAvLyBXaGVuIGluc3RhbmNlIGhhcyBiZWVuIGluaXRpYWxpemVkXG5cbiAgICBiZWZvcmVMb2FkOiAkLm5vb3AsIC8vIEJlZm9yZSB0aGUgY29udGVudCBvZiBhIHNsaWRlIGlzIGJlaW5nIGxvYWRlZFxuICAgIGFmdGVyTG9hZDogJC5ub29wLCAvLyBXaGVuIHRoZSBjb250ZW50IG9mIGEgc2xpZGUgaXMgZG9uZSBsb2FkaW5nXG5cbiAgICBiZWZvcmVTaG93OiAkLm5vb3AsIC8vIEJlZm9yZSBvcGVuIGFuaW1hdGlvbiBzdGFydHNcbiAgICBhZnRlclNob3c6ICQubm9vcCwgLy8gV2hlbiBjb250ZW50IGlzIGRvbmUgbG9hZGluZyBhbmQgYW5pbWF0aW5nXG5cbiAgICBiZWZvcmVDbG9zZTogJC5ub29wLCAvLyBCZWZvcmUgdGhlIGluc3RhbmNlIGF0dGVtcHRzIHRvIGNsb3NlLiBSZXR1cm4gZmFsc2UgdG8gY2FuY2VsIHRoZSBjbG9zZS5cbiAgICBhZnRlckNsb3NlOiAkLm5vb3AsIC8vIEFmdGVyIGluc3RhbmNlIGhhcyBiZWVuIGNsb3NlZFxuXG4gICAgb25BY3RpdmF0ZTogJC5ub29wLCAvLyBXaGVuIGluc3RhbmNlIGlzIGJyb3VnaHQgdG8gZnJvbnRcbiAgICBvbkRlYWN0aXZhdGU6ICQubm9vcCwgLy8gV2hlbiBvdGhlciBpbnN0YW5jZSBoYXMgYmVlbiBhY3RpdmF0ZWRcblxuICAgIC8vIEludGVyYWN0aW9uXG4gICAgLy8gPT09PT09PT09PT1cblxuICAgIC8vIFVzZSBvcHRpb25zIGJlbG93IHRvIGN1c3RvbWl6ZSB0YWtlbiBhY3Rpb24gd2hlbiB1c2VyIGNsaWNrcyBvciBkb3VibGUgY2xpY2tzIG9uIHRoZSBmYW5jeUJveCBhcmVhLFxuICAgIC8vIGVhY2ggb3B0aW9uIGNhbiBiZSBzdHJpbmcgb3IgbWV0aG9kIHRoYXQgcmV0dXJucyB2YWx1ZS5cbiAgICAvL1xuICAgIC8vIFBvc3NpYmxlIHZhbHVlczpcbiAgICAvLyAgIFwiY2xvc2VcIiAgICAgICAgICAgLSBjbG9zZSBpbnN0YW5jZVxuICAgIC8vICAgXCJuZXh0XCIgICAgICAgICAgICAtIG1vdmUgdG8gbmV4dCBnYWxsZXJ5IGl0ZW1cbiAgICAvLyAgIFwibmV4dE9yQ2xvc2VcIiAgICAgLSBtb3ZlIHRvIG5leHQgZ2FsbGVyeSBpdGVtIG9yIGNsb3NlIGlmIGdhbGxlcnkgaGFzIG9ubHkgb25lIGl0ZW1cbiAgICAvLyAgIFwidG9nZ2xlQ29udHJvbHNcIiAgLSBzaG93L2hpZGUgY29udHJvbHNcbiAgICAvLyAgIFwiem9vbVwiICAgICAgICAgICAgLSB6b29tIGltYWdlIChpZiBsb2FkZWQpXG4gICAgLy8gICBmYWxzZSAgICAgICAgICAgICAtIGRvIG5vdGhpbmdcblxuICAgIC8vIENsaWNrZWQgb24gdGhlIGNvbnRlbnRcbiAgICBjbGlja0NvbnRlbnQ6IGZ1bmN0aW9uKGN1cnJlbnQsIGV2ZW50KSB7XG4gICAgICByZXR1cm4gY3VycmVudC50eXBlID09PSBcImltYWdlXCIgPyBcInpvb21cIiA6IGZhbHNlO1xuICAgIH0sXG5cbiAgICAvLyBDbGlja2VkIG9uIHRoZSBzbGlkZVxuICAgIGNsaWNrU2xpZGU6IFwiY2xvc2VcIixcblxuICAgIC8vIENsaWNrZWQgb24gdGhlIGJhY2tncm91bmQgKGJhY2tkcm9wKSBlbGVtZW50O1xuICAgIC8vIGlmIHlvdSBoYXZlIG5vdCBjaGFuZ2VkIHRoZSBsYXlvdXQsIHRoZW4gbW9zdCBsaWtlbHkgeW91IG5lZWQgdG8gdXNlIGBjbGlja1NsaWRlYCBvcHRpb25cbiAgICBjbGlja091dHNpZGU6IFwiY2xvc2VcIixcblxuICAgIC8vIFNhbWUgYXMgcHJldmlvdXMgdHdvLCBidXQgZm9yIGRvdWJsZSBjbGlja1xuICAgIGRibGNsaWNrQ29udGVudDogZmFsc2UsXG4gICAgZGJsY2xpY2tTbGlkZTogZmFsc2UsXG4gICAgZGJsY2xpY2tPdXRzaWRlOiBmYWxzZSxcblxuICAgIC8vIEN1c3RvbSBvcHRpb25zIHdoZW4gbW9iaWxlIGRldmljZSBpcyBkZXRlY3RlZFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgbW9iaWxlOiB7XG4gICAgICBpZGxlVGltZTogZmFsc2UsXG4gICAgICBjbGlja0NvbnRlbnQ6IGZ1bmN0aW9uKGN1cnJlbnQsIGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50LnR5cGUgPT09IFwiaW1hZ2VcIiA/IFwidG9nZ2xlQ29udHJvbHNcIiA6IGZhbHNlO1xuICAgICAgfSxcbiAgICAgIGNsaWNrU2xpZGU6IGZ1bmN0aW9uKGN1cnJlbnQsIGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50LnR5cGUgPT09IFwiaW1hZ2VcIiA/IFwidG9nZ2xlQ29udHJvbHNcIiA6IFwiY2xvc2VcIjtcbiAgICAgIH0sXG4gICAgICBkYmxjbGlja0NvbnRlbnQ6IGZ1bmN0aW9uKGN1cnJlbnQsIGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50LnR5cGUgPT09IFwiaW1hZ2VcIiA/IFwiem9vbVwiIDogZmFsc2U7XG4gICAgICB9LFxuICAgICAgZGJsY2xpY2tTbGlkZTogZnVuY3Rpb24oY3VycmVudCwgZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQudHlwZSA9PT0gXCJpbWFnZVwiID8gXCJ6b29tXCIgOiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gSW50ZXJuYXRpb25hbGl6YXRpb25cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICAgbGFuZzogXCJlblwiLFxuICAgIGkxOG46IHtcbiAgICAgIGVuOiB7XG4gICAgICAgIENMT1NFOiBcIkNsb3NlXCIsXG4gICAgICAgIE5FWFQ6IFwiTmV4dFwiLFxuICAgICAgICBQUkVWOiBcIlByZXZpb3VzXCIsXG4gICAgICAgIEVSUk9SOiBcIlRoZSByZXF1ZXN0ZWQgY29udGVudCBjYW5ub3QgYmUgbG9hZGVkLiA8YnIvPiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiLFxuICAgICAgICBQTEFZX1NUQVJUOiBcIlN0YXJ0IHNsaWRlc2hvd1wiLFxuICAgICAgICBQTEFZX1NUT1A6IFwiUGF1c2Ugc2xpZGVzaG93XCIsXG4gICAgICAgIEZVTExfU0NSRUVOOiBcIkZ1bGwgc2NyZWVuXCIsXG4gICAgICAgIFRIVU1CUzogXCJUaHVtYm5haWxzXCIsXG4gICAgICAgIERPV05MT0FEOiBcIkRvd25sb2FkXCIsXG4gICAgICAgIFNIQVJFOiBcIlNoYXJlXCIsXG4gICAgICAgIFpPT006IFwiWm9vbVwiXG4gICAgICB9LFxuICAgICAgZGU6IHtcbiAgICAgICAgQ0xPU0U6IFwiU2NobGllc3NlblwiLFxuICAgICAgICBORVhUOiBcIldlaXRlclwiLFxuICAgICAgICBQUkVWOiBcIlp1csO8Y2tcIixcbiAgICAgICAgRVJST1I6IFwiRGllIGFuZ2Vmb3JkZXJ0ZW4gRGF0ZW4ga29ubnRlbiBuaWNodCBnZWxhZGVuIHdlcmRlbi4gPGJyLz4gQml0dGUgdmVyc3VjaGVuIFNpZSBlcyBzcMOkdGVyIG5vY2htYWwuXCIsXG4gICAgICAgIFBMQVlfU1RBUlQ6IFwiRGlhc2NoYXUgc3RhcnRlblwiLFxuICAgICAgICBQTEFZX1NUT1A6IFwiRGlhc2NoYXUgYmVlbmRlblwiLFxuICAgICAgICBGVUxMX1NDUkVFTjogXCJWb2xsYmlsZFwiLFxuICAgICAgICBUSFVNQlM6IFwiVm9yc2NoYXViaWxkZXJcIixcbiAgICAgICAgRE9XTkxPQUQ6IFwiSGVydW50ZXJsYWRlblwiLFxuICAgICAgICBTSEFSRTogXCJUZWlsZW5cIixcbiAgICAgICAgWk9PTTogXCJNYcOfc3RhYlwiXG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIEZldyB1c2VmdWwgdmFyaWFibGVzIGFuZCBtZXRob2RzXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyICRXID0gJCh3aW5kb3cpO1xuICB2YXIgJEQgPSAkKGRvY3VtZW50KTtcblxuICB2YXIgY2FsbGVkID0gMDtcblxuICAvLyBDaGVjayBpZiBhbiBvYmplY3QgaXMgYSBqUXVlcnkgb2JqZWN0IGFuZCBub3QgYSBuYXRpdmUgSmF2YVNjcmlwdCBvYmplY3RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIHZhciBpc1F1ZXJ5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBvYmouaGFzT3duUHJvcGVydHkgJiYgb2JqIGluc3RhbmNlb2YgJDtcbiAgfTtcblxuICAvLyBIYW5kbGUgbXVsdGlwbGUgYnJvd3NlcnMgZm9yIFwicmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIgYW5kIFwiY2FuY2VsQW5pbWF0aW9uRnJhbWVcIlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIHZhciByZXF1ZXN0QUZyYW1lID0gKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICB3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgLy8gaWYgYWxsIGVsc2UgZmFpbHMsIHVzZSBzZXRUaW1lb3V0XG4gICAgICBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XG4gICAgICB9XG4gICAgKTtcbiAgfSkoKTtcblxuICAvLyBEZXRlY3QgdGhlIHN1cHBvcnRlZCB0cmFuc2l0aW9uLWVuZCBldmVudCBwcm9wZXJ0eSBuYW1lXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgdmFyIHRyYW5zaXRpb25FbmQgPSAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZha2VlbGVtZW50XCIpLFxuICAgICAgdDtcblxuICAgIHZhciB0cmFuc2l0aW9ucyA9IHtcbiAgICAgIHRyYW5zaXRpb246IFwidHJhbnNpdGlvbmVuZFwiLFxuICAgICAgT1RyYW5zaXRpb246IFwib1RyYW5zaXRpb25FbmRcIixcbiAgICAgIE1velRyYW5zaXRpb246IFwidHJhbnNpdGlvbmVuZFwiLFxuICAgICAgV2Via2l0VHJhbnNpdGlvbjogXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCJcbiAgICB9O1xuXG4gICAgZm9yICh0IGluIHRyYW5zaXRpb25zKSB7XG4gICAgICBpZiAoZWwuc3R5bGVbdF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdHJhbnNpdGlvbnNbdF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFwidHJhbnNpdGlvbmVuZFwiO1xuICB9KSgpO1xuXG4gIC8vIEZvcmNlIHJlZHJhdyBvbiBhbiBlbGVtZW50LlxuICAvLyBUaGlzIGhlbHBzIGluIGNhc2VzIHdoZXJlIHRoZSBicm93c2VyIGRvZXNuJ3QgcmVkcmF3IGFuIHVwZGF0ZWQgZWxlbWVudCBwcm9wZXJseVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICB2YXIgZm9yY2VSZWRyYXcgPSBmdW5jdGlvbigkZWwpIHtcbiAgICByZXR1cm4gJGVsICYmICRlbC5sZW5ndGggJiYgJGVsWzBdLm9mZnNldEhlaWdodDtcbiAgfTtcblxuICAvLyBFeGNsdWRlIGFycmF5IChgYnV0dG9uc2ApIG9wdGlvbnMgZnJvbSBkZWVwIG1lcmdpbmdcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIHZhciBtZXJnZU9wdHMgPSBmdW5jdGlvbihvcHRzMSwgb3B0czIpIHtcbiAgICB2YXIgcmV6ID0gJC5leHRlbmQodHJ1ZSwge30sIG9wdHMxLCBvcHRzMik7XG5cbiAgICAkLmVhY2gob3B0czIsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJleltrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV6O1xuICB9O1xuXG4gIC8vIENsYXNzIGRlZmluaXRpb25cbiAgLy8gPT09PT09PT09PT09PT09PVxuXG4gIHZhciBGYW5jeUJveCA9IGZ1bmN0aW9uKGNvbnRlbnQsIG9wdHMsIGluZGV4KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgc2VsZi5vcHRzID0gbWVyZ2VPcHRzKHtpbmRleDogaW5kZXh9LCAkLmZhbmN5Ym94LmRlZmF1bHRzKTtcblxuICAgIGlmICgkLmlzUGxhaW5PYmplY3Qob3B0cykpIHtcbiAgICAgIHNlbGYub3B0cyA9IG1lcmdlT3B0cyhzZWxmLm9wdHMsIG9wdHMpO1xuICAgIH1cblxuICAgIGlmICgkLmZhbmN5Ym94LmlzTW9iaWxlKSB7XG4gICAgICBzZWxmLm9wdHMgPSBtZXJnZU9wdHMoc2VsZi5vcHRzLCBzZWxmLm9wdHMubW9iaWxlKTtcbiAgICB9XG5cbiAgICBzZWxmLmlkID0gc2VsZi5vcHRzLmlkIHx8ICsrY2FsbGVkO1xuXG4gICAgc2VsZi5jdXJySW5kZXggPSBwYXJzZUludChzZWxmLm9wdHMuaW5kZXgsIDEwKSB8fCAwO1xuICAgIHNlbGYucHJldkluZGV4ID0gbnVsbDtcblxuICAgIHNlbGYucHJldlBvcyA9IG51bGw7XG4gICAgc2VsZi5jdXJyUG9zID0gMDtcblxuICAgIHNlbGYuZmlyc3RSdW4gPSB0cnVlO1xuXG4gICAgLy8gQWxsIGdyb3VwIGl0ZW1zXG4gICAgc2VsZi5ncm91cCA9IFtdO1xuXG4gICAgLy8gRXhpc3Rpbmcgc2xpZGVzIChmb3IgY3VycmVudCwgbmV4dCBhbmQgcHJldmlvdXMgZ2FsbGVyeSBpdGVtcylcbiAgICBzZWxmLnNsaWRlcyA9IHt9O1xuXG4gICAgLy8gQ3JlYXRlIGdyb3VwIGVsZW1lbnRzXG4gICAgc2VsZi5hZGRDb250ZW50KGNvbnRlbnQpO1xuXG4gICAgaWYgKCFzZWxmLmdyb3VwLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNhdmUgbGFzdCBhY3RpdmUgZWxlbWVudFxuICAgIHNlbGYuJGxhc3RGb2N1cyA9ICQoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkudHJpZ2dlcihcImJsdXJcIik7XG5cbiAgICBzZWxmLmluaXQoKTtcbiAgfTtcblxuICAkLmV4dGVuZChGYW5jeUJveC5wcm90b3R5cGUsIHtcbiAgICAvLyBDcmVhdGUgRE9NIHN0cnVjdHVyZVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgZmlyc3RJdGVtID0gc2VsZi5ncm91cFtzZWxmLmN1cnJJbmRleF0sXG4gICAgICAgIGZpcnN0SXRlbU9wdHMgPSBmaXJzdEl0ZW0ub3B0cyxcbiAgICAgICAgc2Nyb2xsYmFyV2lkdGggPSAkLmZhbmN5Ym94LnNjcm9sbGJhcldpZHRoLFxuICAgICAgICAkc2Nyb2xsRGl2LFxuICAgICAgICAkY29udGFpbmVyLFxuICAgICAgICBidXR0b25TdHI7XG5cbiAgICAgIC8vIEhpZGUgc2Nyb2xsYmFyc1xuICAgICAgLy8gPT09PT09PT09PT09PT09XG5cbiAgICAgIGlmICghJC5mYW5jeWJveC5nZXRJbnN0YW5jZSgpICYmIGZpcnN0SXRlbU9wdHMuaGlkZVNjcm9sbGJhciAhPT0gZmFsc2UpIHtcbiAgICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJmYW5jeWJveC1hY3RpdmVcIik7XG5cbiAgICAgICAgaWYgKCEkLmZhbmN5Ym94LmlzTW9iaWxlICYmIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgICAgaWYgKHNjcm9sbGJhcldpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICRzY3JvbGxEaXYgPSAkKCc8ZGl2IHN0eWxlPVwid2lkdGg6MTAwcHg7aGVpZ2h0OjEwMHB4O292ZXJmbG93OnNjcm9sbDtcIiAvPicpLmFwcGVuZFRvKFwiYm9keVwiKTtcblxuICAgICAgICAgICAgc2Nyb2xsYmFyV2lkdGggPSAkLmZhbmN5Ym94LnNjcm9sbGJhcldpZHRoID0gJHNjcm9sbERpdlswXS5vZmZzZXRXaWR0aCAtICRzY3JvbGxEaXZbMF0uY2xpZW50V2lkdGg7XG5cbiAgICAgICAgICAgICRzY3JvbGxEaXYucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJChcImhlYWRcIikuYXBwZW5kKFxuICAgICAgICAgICAgJzxzdHlsZSBpZD1cImZhbmN5Ym94LXN0eWxlLW5vc2Nyb2xsXCIgdHlwZT1cInRleHQvY3NzXCI+LmNvbXBlbnNhdGUtZm9yLXNjcm9sbGJhciB7IG1hcmdpbi1yaWdodDogJyArXG4gICAgICAgICAgICAgIHNjcm9sbGJhcldpZHRoICtcbiAgICAgICAgICAgICAgXCJweDsgfTwvc3R5bGU+XCJcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJjb21wZW5zYXRlLWZvci1zY3JvbGxiYXJcIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQnVpbGQgaHRtbCBtYXJrdXAgYW5kIHNldCByZWZlcmVuY2VzXG4gICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgICAgLy8gQnVpbGQgaHRtbCBjb2RlIGZvciBidXR0b25zIGFuZCBpbnNlcnQgaW50byBtYWluIHRlbXBsYXRlXG4gICAgICBidXR0b25TdHIgPSBcIlwiO1xuXG4gICAgICAkLmVhY2goZmlyc3RJdGVtT3B0cy5idXR0b25zLCBmdW5jdGlvbihpbmRleCwgdmFsdWUpIHtcbiAgICAgICAgYnV0dG9uU3RyICs9IGZpcnN0SXRlbU9wdHMuYnRuVHBsW3ZhbHVlXSB8fCBcIlwiO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSBtYXJrdXAgZnJvbSBiYXNlIHRlbXBsYXRlLCBpdCB3aWxsIGJlIGluaXRpYWxseSBoaWRkZW4gdG9cbiAgICAgIC8vIGF2b2lkIHVubmVjZXNzYXJ5IHdvcmsgbGlrZSBwYWludGluZyB3aGlsZSBpbml0aWFsaXppbmcgaXMgbm90IGNvbXBsZXRlXG4gICAgICAkY29udGFpbmVyID0gJChcbiAgICAgICAgc2VsZi50cmFuc2xhdGUoXG4gICAgICAgICAgc2VsZixcbiAgICAgICAgICBmaXJzdEl0ZW1PcHRzLmJhc2VUcGxcbiAgICAgICAgICAgIC5yZXBsYWNlKFwie3tidXR0b25zfX1cIiwgYnV0dG9uU3RyKVxuICAgICAgICAgICAgLnJlcGxhY2UoXCJ7e2Fycm93c319XCIsIGZpcnN0SXRlbU9wdHMuYnRuVHBsLmFycm93TGVmdCArIGZpcnN0SXRlbU9wdHMuYnRuVHBsLmFycm93UmlnaHQpXG4gICAgICAgIClcbiAgICAgIClcbiAgICAgICAgLmF0dHIoXCJpZFwiLCBcImZhbmN5Ym94LWNvbnRhaW5lci1cIiArIHNlbGYuaWQpXG4gICAgICAgIC5hZGRDbGFzcyhcImZhbmN5Ym94LWlzLWhpZGRlblwiKVxuICAgICAgICAuYWRkQ2xhc3MoZmlyc3RJdGVtT3B0cy5iYXNlQ2xhc3MpXG4gICAgICAgIC5kYXRhKFwiRmFuY3lCb3hcIiwgc2VsZilcbiAgICAgICAgLmFwcGVuZFRvKGZpcnN0SXRlbU9wdHMucGFyZW50RWwpO1xuXG4gICAgICAvLyBDcmVhdGUgb2JqZWN0IGhvbGRpbmcgcmVmZXJlbmNlcyB0byBqUXVlcnkgd3JhcHBlZCBub2Rlc1xuICAgICAgc2VsZi4kcmVmcyA9IHtcbiAgICAgICAgY29udGFpbmVyOiAkY29udGFpbmVyXG4gICAgICB9O1xuXG4gICAgICBbXCJiZ1wiLCBcImlubmVyXCIsIFwiaW5mb2JhclwiLCBcInRvb2xiYXJcIiwgXCJzdGFnZVwiLCBcImNhcHRpb25cIiwgXCJuYXZpZ2F0aW9uXCJdLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBzZWxmLiRyZWZzW2l0ZW1dID0gJGNvbnRhaW5lci5maW5kKFwiLmZhbmN5Ym94LVwiICsgaXRlbSk7XG4gICAgICB9KTtcblxuICAgICAgc2VsZi50cmlnZ2VyKFwib25Jbml0XCIpO1xuXG4gICAgICAvLyBFbmFibGUgZXZlbnRzLCBkZWFjdGl2ZSBwcmV2aW91cyBpbnN0YW5jZXNcbiAgICAgIHNlbGYuYWN0aXZhdGUoKTtcblxuICAgICAgLy8gQnVpbGQgc2xpZGVzLCBsb2FkIGFuZCByZXZlYWwgY29udGVudFxuICAgICAgc2VsZi5qdW1wVG8oc2VsZi5jdXJySW5kZXgpO1xuICAgIH0sXG5cbiAgICAvLyBTaW1wbGUgaTE4biBzdXBwb3J0IC0gcmVwbGFjZXMgb2JqZWN0IGtleXMgZm91bmQgaW4gdGVtcGxhdGVcbiAgICAvLyB3aXRoIGNvcnJlc3BvbmRpbmcgdmFsdWVzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICB0cmFuc2xhdGU6IGZ1bmN0aW9uKG9iaiwgc3RyKSB7XG4gICAgICB2YXIgYXJyID0gb2JqLm9wdHMuaTE4bltvYmoub3B0cy5sYW5nXTtcblxuICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXHtcXHsoXFx3KylcXH1cXH0vZywgZnVuY3Rpb24obWF0Y2gsIG4pIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyW25dO1xuXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIFBvcHVsYXRlIGN1cnJlbnQgZ3JvdXAgd2l0aCBmcmVzaCBjb250ZW50XG4gICAgLy8gQ2hlY2sgaWYgZWFjaCBvYmplY3QgaGFzIHZhbGlkIHR5cGUgYW5kIGNvbnRlbnRcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgYWRkQ29udGVudDogZnVuY3Rpb24oY29udGVudCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBpdGVtcyA9ICQubWFrZUFycmF5KGNvbnRlbnQpLFxuICAgICAgICB0aHVtYnM7XG5cbiAgICAgICQuZWFjaChpdGVtcywgZnVuY3Rpb24oaSwgaXRlbSkge1xuICAgICAgICB2YXIgb2JqID0ge30sXG4gICAgICAgICAgb3B0cyA9IHt9LFxuICAgICAgICAgICRpdGVtLFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgZm91bmQsXG4gICAgICAgICAgc3JjLFxuICAgICAgICAgIHNyY1BhcnRzO1xuXG4gICAgICAgIC8vIFN0ZXAgMSAtIE1ha2Ugc3VyZSB3ZSBoYXZlIGFuIG9iamVjdFxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgICAgICBpZiAoJC5pc1BsYWluT2JqZWN0KGl0ZW0pKSB7XG4gICAgICAgICAgLy8gV2UgcHJvYmFibHkgaGF2ZSBtYW51YWwgdXNhZ2UgaGVyZSwgc29tZXRoaW5nIGxpa2VcbiAgICAgICAgICAvLyAkLmZhbmN5Ym94Lm9wZW4oIFsgeyBzcmMgOiBcImltYWdlLmpwZ1wiLCB0eXBlIDogXCJpbWFnZVwiIH0gXSApXG5cbiAgICAgICAgICBvYmogPSBpdGVtO1xuICAgICAgICAgIG9wdHMgPSBpdGVtLm9wdHMgfHwgaXRlbTtcbiAgICAgICAgfSBlbHNlIGlmICgkLnR5cGUoaXRlbSkgPT09IFwib2JqZWN0XCIgJiYgJChpdGVtKS5sZW5ndGgpIHtcbiAgICAgICAgICAvLyBIZXJlIHdlIHByb2JhYmx5IGhhdmUgalF1ZXJ5IGNvbGxlY3Rpb24gcmV0dXJuZWQgYnkgc29tZSBzZWxlY3RvclxuICAgICAgICAgICRpdGVtID0gJChpdGVtKTtcblxuICAgICAgICAgIC8vIFN1cHBvcnQgYXR0cmlidXRlcyBsaWtlIGBkYXRhLW9wdGlvbnM9J3tcInRvdWNoXCIgOiBmYWxzZX0nYCBhbmQgYGRhdGEtdG91Y2g9J2ZhbHNlJ2BcbiAgICAgICAgICBvcHRzID0gJGl0ZW0uZGF0YSgpIHx8IHt9O1xuICAgICAgICAgIG9wdHMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgb3B0cywgb3B0cy5vcHRpb25zKTtcblxuICAgICAgICAgIC8vIEhlcmUgd2Ugc3RvcmUgY2xpY2tlZCBlbGVtZW50XG4gICAgICAgICAgb3B0cy4kb3JpZyA9ICRpdGVtO1xuXG4gICAgICAgICAgb2JqLnNyYyA9IHNlbGYub3B0cy5zcmMgfHwgb3B0cy5zcmMgfHwgJGl0ZW0uYXR0cihcImhyZWZcIik7XG5cbiAgICAgICAgICAvLyBBc3N1bWUgdGhhdCBzaW1wbGUgc3ludGF4IGlzIHVzZWQsIGZvciBleGFtcGxlOlxuICAgICAgICAgIC8vICAgYCQuZmFuY3lib3gub3BlbiggJChcIiN0ZXN0XCIpLCB7fSApO2BcbiAgICAgICAgICBpZiAoIW9iai50eXBlICYmICFvYmouc3JjKSB7XG4gICAgICAgICAgICBvYmoudHlwZSA9IFwiaW5saW5lXCI7XG4gICAgICAgICAgICBvYmouc3JjID0gaXRlbTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQXNzdW1lIHdlIGhhdmUgYSBzaW1wbGUgaHRtbCBjb2RlLCBmb3IgZXhhbXBsZTpcbiAgICAgICAgICAvLyAgICQuZmFuY3lib3gub3BlbiggJzxkaXY+PGgxPkhpITwvaDE+PC9kaXY+JyApO1xuICAgICAgICAgIG9iaiA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwiaHRtbFwiLFxuICAgICAgICAgICAgc3JjOiBpdGVtICsgXCJcIlxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFYWNoIGdhbGxlcnkgb2JqZWN0IGhhcyBmdWxsIGNvbGxlY3Rpb24gb2Ygb3B0aW9uc1xuICAgICAgICBvYmoub3B0cyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBzZWxmLm9wdHMsIG9wdHMpO1xuXG4gICAgICAgIC8vIERvIG5vdCBtZXJnZSBidXR0b25zIGFycmF5XG4gICAgICAgIGlmICgkLmlzQXJyYXkob3B0cy5idXR0b25zKSkge1xuICAgICAgICAgIG9iai5vcHRzLmJ1dHRvbnMgPSBvcHRzLmJ1dHRvbnM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdGVwIDIgLSBNYWtlIHN1cmUgd2UgaGF2ZSBjb250ZW50IHR5cGUsIGlmIG5vdCAtIHRyeSB0byBndWVzc1xuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgICAgIHR5cGUgPSBvYmoudHlwZSB8fCBvYmoub3B0cy50eXBlO1xuICAgICAgICBzcmMgPSBvYmouc3JjIHx8IFwiXCI7XG5cbiAgICAgICAgaWYgKCF0eXBlICYmIHNyYykge1xuICAgICAgICAgIGlmICgoZm91bmQgPSBzcmMubWF0Y2goL1xcLihtcDR8bW92fG9ndikoKFxcP3wjKS4qKT8kL2kpKSkge1xuICAgICAgICAgICAgdHlwZSA9IFwidmlkZW9cIjtcblxuICAgICAgICAgICAgaWYgKCFvYmoub3B0cy52aWRlb0Zvcm1hdCkge1xuICAgICAgICAgICAgICBvYmoub3B0cy52aWRlb0Zvcm1hdCA9IFwidmlkZW8vXCIgKyAoZm91bmRbMV0gPT09IFwib2d2XCIgPyBcIm9nZ1wiIDogZm91bmRbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoc3JjLm1hdGNoKC8oXmRhdGE6aW1hZ2VcXC9bYS16MC05K1xcLz1dKiwpfChcXC4oanAoZXxnfGVnKXxnaWZ8cG5nfGJtcHx3ZWJwfHN2Z3xpY28pKChcXD98IykuKik/JCkvaSkpIHtcbiAgICAgICAgICAgIHR5cGUgPSBcImltYWdlXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChzcmMubWF0Y2goL1xcLihwZGYpKChcXD98IykuKik/JC9pKSkge1xuICAgICAgICAgICAgdHlwZSA9IFwiaWZyYW1lXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChzcmMuY2hhckF0KDApID09PSBcIiNcIikge1xuICAgICAgICAgICAgdHlwZSA9IFwiaW5saW5lXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgICBvYmoudHlwZSA9IHR5cGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi50cmlnZ2VyKFwib2JqZWN0TmVlZHNUeXBlXCIsIG9iaik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9iai5jb250ZW50VHlwZSkge1xuICAgICAgICAgIG9iai5jb250ZW50VHlwZSA9ICQuaW5BcnJheShvYmoudHlwZSwgW1wiaHRtbFwiLCBcImlubGluZVwiLCBcImFqYXhcIl0pID4gLTEgPyBcImh0bWxcIiA6IG9iai50eXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RlcCAzIC0gU29tZSBhZGp1c3RtZW50c1xuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAgICAgb2JqLmluZGV4ID0gc2VsZi5ncm91cC5sZW5ndGg7XG5cbiAgICAgICAgaWYgKG9iai5vcHRzLnNtYWxsQnRuID09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgb2JqLm9wdHMuc21hbGxCdG4gPSAkLmluQXJyYXkob2JqLnR5cGUsIFtcImh0bWxcIiwgXCJpbmxpbmVcIiwgXCJhamF4XCJdKSA+IC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9iai5vcHRzLnRvb2xiYXIgPT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgb2JqLm9wdHMudG9vbGJhciA9ICFvYmoub3B0cy5zbWFsbEJ0bjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpbmQgdGh1bWJuYWlsIGltYWdlXG4gICAgICAgIGlmIChvYmoub3B0cy4kdHJpZ2dlciAmJiBvYmouaW5kZXggPT09IHNlbGYub3B0cy5pbmRleCkge1xuICAgICAgICAgIG9iai5vcHRzLiR0aHVtYiA9IG9iai5vcHRzLiR0cmlnZ2VyLmZpbmQoXCJpbWc6Zmlyc3RcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKCFvYmoub3B0cy4kdGh1bWIgfHwgIW9iai5vcHRzLiR0aHVtYi5sZW5ndGgpICYmIG9iai5vcHRzLiRvcmlnKSB7XG4gICAgICAgICAgb2JqLm9wdHMuJHRodW1iID0gb2JqLm9wdHMuJG9yaWcuZmluZChcImltZzpmaXJzdFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFwiY2FwdGlvblwiIGlzIGEgXCJzcGVjaWFsXCIgb3B0aW9uLCBpdCBjYW4gYmUgdXNlZCB0byBjdXN0b21pemUgY2FwdGlvbiBwZXIgZ2FsbGVyeSBpdGVtIC4uXG4gICAgICAgIGlmICgkLnR5cGUob2JqLm9wdHMuY2FwdGlvbikgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIG9iai5vcHRzLmNhcHRpb24gPSBvYmoub3B0cy5jYXB0aW9uLmFwcGx5KGl0ZW0sIFtzZWxmLCBvYmpdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkLnR5cGUoc2VsZi5vcHRzLmNhcHRpb24pID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBvYmoub3B0cy5jYXB0aW9uID0gc2VsZi5vcHRzLmNhcHRpb24uYXBwbHkoaXRlbSwgW3NlbGYsIG9ial0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgY2FwdGlvbiBhcyBhIHN0cmluZyBvciBqUXVlcnkgb2JqZWN0XG4gICAgICAgIGlmICghKG9iai5vcHRzLmNhcHRpb24gaW5zdGFuY2VvZiAkKSkge1xuICAgICAgICAgIG9iai5vcHRzLmNhcHRpb24gPSBvYmoub3B0cy5jYXB0aW9uID09PSB1bmRlZmluZWQgPyBcIlwiIDogb2JqLm9wdHMuY2FwdGlvbiArIFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB1cmwgY29udGFpbnMgXCJmaWx0ZXJcIiB1c2VkIHRvIGZpbHRlciB0aGUgY29udGVudFxuICAgICAgICAvLyBFeGFtcGxlOiBcImFqYXguaHRtbCAjc29tZXRoaW5nXCJcbiAgICAgICAgaWYgKG9iai50eXBlID09PSBcImFqYXhcIikge1xuICAgICAgICAgIHNyY1BhcnRzID0gc3JjLnNwbGl0KC9cXHMrLywgMik7XG5cbiAgICAgICAgICBpZiAoc3JjUGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgb2JqLnNyYyA9IHNyY1BhcnRzLnNoaWZ0KCk7XG5cbiAgICAgICAgICAgIG9iai5vcHRzLmZpbHRlciA9IHNyY1BhcnRzLnNoaWZ0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGlkZSBhbGwgYnV0dG9ucyBhbmQgZGlzYWJsZSBpbnRlcmFjdGl2aXR5IGZvciBtb2RhbCBpdGVtc1xuICAgICAgICBpZiAob2JqLm9wdHMubW9kYWwpIHtcbiAgICAgICAgICBvYmoub3B0cyA9ICQuZXh0ZW5kKHRydWUsIG9iai5vcHRzLCB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgYnV0dG9uc1xuICAgICAgICAgICAgaW5mb2JhcjogMCxcbiAgICAgICAgICAgIHRvb2xiYXI6IDAsXG5cbiAgICAgICAgICAgIHNtYWxsQnRuOiAwLFxuXG4gICAgICAgICAgICAvLyBEaXNhYmxlIGtleWJvYXJkIG5hdmlnYXRpb25cbiAgICAgICAgICAgIGtleWJvYXJkOiAwLFxuXG4gICAgICAgICAgICAvLyBEaXNhYmxlIHNvbWUgbW9kdWxlc1xuICAgICAgICAgICAgc2xpZGVTaG93OiAwLFxuICAgICAgICAgICAgZnVsbFNjcmVlbjogMCxcbiAgICAgICAgICAgIHRodW1iczogMCxcbiAgICAgICAgICAgIHRvdWNoOiAwLFxuXG4gICAgICAgICAgICAvLyBEaXNhYmxlIGNsaWNrIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgICAgICBjbGlja0NvbnRlbnQ6IGZhbHNlLFxuICAgICAgICAgICAgY2xpY2tTbGlkZTogZmFsc2UsXG4gICAgICAgICAgICBjbGlja091dHNpZGU6IGZhbHNlLFxuICAgICAgICAgICAgZGJsY2xpY2tDb250ZW50OiBmYWxzZSxcbiAgICAgICAgICAgIGRibGNsaWNrU2xpZGU6IGZhbHNlLFxuICAgICAgICAgICAgZGJsY2xpY2tPdXRzaWRlOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RlcCA0IC0gQWRkIHByb2Nlc3NlZCBvYmplY3QgdG8gZ3JvdXBcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgICAgICBzZWxmLmdyb3VwLnB1c2gob2JqKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBVcGRhdGUgY29udHJvbHMgaWYgZ2FsbGVyeSBpcyBhbHJlYWR5IG9wZW5lZFxuICAgICAgaWYgKE9iamVjdC5rZXlzKHNlbGYuc2xpZGVzKS5sZW5ndGgpIHtcbiAgICAgICAgc2VsZi51cGRhdGVDb250cm9scygpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSB0aHVtYm5haWxzLCBpZiBuZWVkZWRcbiAgICAgICAgdGh1bWJzID0gc2VsZi5UaHVtYnM7XG5cbiAgICAgICAgaWYgKHRodW1icyAmJiB0aHVtYnMuaXNBY3RpdmUpIHtcbiAgICAgICAgICB0aHVtYnMuY3JlYXRlKCk7XG5cbiAgICAgICAgICB0aHVtYnMuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBBdHRhY2ggYW4gZXZlbnQgaGFuZGxlciBmdW5jdGlvbnMgZm9yOlxuICAgIC8vICAgLSBuYXZpZ2F0aW9uIGJ1dHRvbnNcbiAgICAvLyAgIC0gYnJvd3NlciBzY3JvbGxpbmcsIHJlc2l6aW5nO1xuICAgIC8vICAgLSBmb2N1c2luZ1xuICAgIC8vICAgLSBrZXlib2FyZFxuICAgIC8vICAgLSBkZXRlY3QgaWRsZVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBhZGRFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBzZWxmLnJlbW92ZUV2ZW50cygpO1xuXG4gICAgICAvLyBNYWtlIG5hdmlnYXRpb24gZWxlbWVudHMgY2xpY2thYmxlXG4gICAgICBzZWxmLiRyZWZzLmNvbnRhaW5lclxuICAgICAgICAub24oXCJjbGljay5mYi1jbG9zZVwiLCBcIltkYXRhLWZhbmN5Ym94LWNsb3NlXVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICBzZWxmLmNsb3NlKGUpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJ0b3VjaHN0YXJ0LmZiLXByZXYgY2xpY2suZmItcHJldlwiLCBcIltkYXRhLWZhbmN5Ym94LXByZXZdXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgIHNlbGYucHJldmlvdXMoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwidG91Y2hzdGFydC5mYi1uZXh0IGNsaWNrLmZiLW5leHRcIiwgXCJbZGF0YS1mYW5jeWJveC1uZXh0XVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICBzZWxmLm5leHQoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwiY2xpY2suZmJcIiwgXCJbZGF0YS1mYW5jeWJveC16b29tXVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgLy8gQ2xpY2sgaGFuZGxlciBmb3Igem9vbSBidXR0b25cbiAgICAgICAgICBzZWxmW3NlbGYuaXNTY2FsZWREb3duKCkgPyBcInNjYWxlVG9BY3R1YWxcIiA6IFwic2NhbGVUb0ZpdFwiXSgpO1xuICAgICAgICB9KTtcblxuICAgICAgLy8gSGFuZGxlIHBhZ2Ugc2Nyb2xsaW5nIGFuZCBicm93c2VyIHJlc2l6aW5nXG4gICAgICAkVy5vbihcIm9yaWVudGF0aW9uY2hhbmdlLmZiIHJlc2l6ZS5mYlwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlICYmIGUub3JpZ2luYWxFdmVudCAmJiBlLm9yaWdpbmFsRXZlbnQudHlwZSA9PT0gXCJyZXNpemVcIikge1xuICAgICAgICAgIHJlcXVlc3RBRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuJHJlZnMuc3RhZ2UuaGlkZSgpO1xuXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuJHJlZnMuc3RhZ2Uuc2hvdygpO1xuXG4gICAgICAgICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgICAgICAgIH0sICQuZmFuY3lib3guaXNNb2JpbGUgPyA2MDAgOiAyNTApO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gVHJhcCBrZXlib2FyZCBmb2N1cyBpbnNpZGUgb2YgdGhlIG1vZGFsLCBzbyB0aGUgdXNlciBkb2VzIG5vdCBhY2NpZGVudGFsbHkgdGFiIG91dHNpZGUgb2YgdGhlIG1vZGFsXG4gICAgICAvLyAoYS5rLmEuIFwiZXNjYXBpbmcgdGhlIG1vZGFsXCIpXG4gICAgICAkRC5vbihcImZvY3VzaW4uZmJcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSAkLmZhbmN5Ym94ID8gJC5mYW5jeWJveC5nZXRJbnN0YW5jZSgpIDogbnVsbDtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgaW5zdGFuY2UuaXNDbG9zaW5nIHx8XG4gICAgICAgICAgIWluc3RhbmNlLmN1cnJlbnQgfHxcbiAgICAgICAgICAhaW5zdGFuY2UuY3VycmVudC5vcHRzLnRyYXBGb2N1cyB8fFxuICAgICAgICAgICQoZS50YXJnZXQpLmhhc0NsYXNzKFwiZmFuY3lib3gtY29udGFpbmVyXCIpIHx8XG4gICAgICAgICAgJChlLnRhcmdldCkuaXMoZG9jdW1lbnQpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiAkKGUudGFyZ2V0KS5jc3MoXCJwb3NpdGlvblwiKSAhPT0gXCJmaXhlZFwiICYmICFpbnN0YW5jZS4kcmVmcy5jb250YWluZXIuaGFzKGUudGFyZ2V0KS5sZW5ndGgpIHtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgaW5zdGFuY2UuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIEVuYWJsZSBrZXlib2FyZCBuYXZpZ2F0aW9uXG4gICAgICAkRC5vbihcImtleWRvd24uZmJcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgY3VycmVudCA9IHNlbGYuY3VycmVudCxcbiAgICAgICAgICBrZXljb2RlID0gZS5rZXlDb2RlIHx8IGUud2hpY2g7XG5cbiAgICAgICAgaWYgKCFjdXJyZW50IHx8ICFjdXJyZW50Lm9wdHMua2V5Ym9hcmQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZS5jdHJsS2V5IHx8IGUuYWx0S2V5IHx8IGUuc2hpZnRLZXkgfHwgJChlLnRhcmdldCkuaXMoXCJpbnB1dFwiKSB8fCAkKGUudGFyZ2V0KS5pcyhcInRleHRhcmVhXCIpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmFja3NwYWNlIGFuZCBFc2Mga2V5c1xuICAgICAgICBpZiAoa2V5Y29kZSA9PT0gOCB8fCBrZXljb2RlID09PSAyNykge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgIHNlbGYuY2xvc2UoZSk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMZWZ0IGFycm93IGFuZCBVcCBhcnJvd1xuICAgICAgICBpZiAoa2V5Y29kZSA9PT0gMzcgfHwga2V5Y29kZSA9PT0gMzgpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICBzZWxmLnByZXZpb3VzKCk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSaWdoIGFycm93IGFuZCBEb3duIGFycm93XG4gICAgICAgIGlmIChrZXljb2RlID09PSAzOSB8fCBrZXljb2RlID09PSA0MCkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgIHNlbGYubmV4dCgpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi50cmlnZ2VyKFwiYWZ0ZXJLZXlkb3duXCIsIGUsIGtleWNvZGUpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEhpZGUgY29udHJvbHMgYWZ0ZXIgc29tZSBpbmFjdGl2aXR5IHBlcmlvZFxuICAgICAgaWYgKHNlbGYuZ3JvdXBbc2VsZi5jdXJySW5kZXhdLm9wdHMuaWRsZVRpbWUpIHtcbiAgICAgICAgc2VsZi5pZGxlU2Vjb25kc0NvdW50ZXIgPSAwO1xuXG4gICAgICAgICRELm9uKFxuICAgICAgICAgIFwibW91c2Vtb3ZlLmZiLWlkbGUgbW91c2VsZWF2ZS5mYi1pZGxlIG1vdXNlZG93bi5mYi1pZGxlIHRvdWNoc3RhcnQuZmItaWRsZSB0b3VjaG1vdmUuZmItaWRsZSBzY3JvbGwuZmItaWRsZSBrZXlkb3duLmZiLWlkbGVcIixcbiAgICAgICAgICBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBzZWxmLmlkbGVTZWNvbmRzQ291bnRlciA9IDA7XG5cbiAgICAgICAgICAgIGlmIChzZWxmLmlzSWRsZSkge1xuICAgICAgICAgICAgICBzZWxmLnNob3dDb250cm9scygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxmLmlzSWRsZSA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBzZWxmLmlkbGVJbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLmlkbGVTZWNvbmRzQ291bnRlcisrO1xuXG4gICAgICAgICAgaWYgKHNlbGYuaWRsZVNlY29uZHNDb3VudGVyID49IHNlbGYuZ3JvdXBbc2VsZi5jdXJySW5kZXhdLm9wdHMuaWRsZVRpbWUgJiYgIXNlbGYuaXNEcmFnZ2luZykge1xuICAgICAgICAgICAgc2VsZi5pc0lkbGUgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5pZGxlU2Vjb25kc0NvdW50ZXIgPSAwO1xuXG4gICAgICAgICAgICBzZWxmLmhpZGVDb250cm9scygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIFJlbW92ZSBldmVudHMgYWRkZWQgYnkgdGhlIGNvcmVcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICByZW1vdmVFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAkVy5vZmYoXCJvcmllbnRhdGlvbmNoYW5nZS5mYiByZXNpemUuZmJcIik7XG4gICAgICAkRC5vZmYoXCJmb2N1c2luLmZiIGtleWRvd24uZmIgLmZiLWlkbGVcIik7XG5cbiAgICAgIHRoaXMuJHJlZnMuY29udGFpbmVyLm9mZihcIi5mYi1jbG9zZSAuZmItcHJldiAuZmItbmV4dFwiKTtcblxuICAgICAgaWYgKHNlbGYuaWRsZUludGVydmFsKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHNlbGYuaWRsZUludGVydmFsKTtcblxuICAgICAgICBzZWxmLmlkbGVJbnRlcnZhbCA9IG51bGw7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIENoYW5nZSB0byBwcmV2aW91cyBnYWxsZXJ5IGl0ZW1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBwcmV2aW91czogZnVuY3Rpb24oZHVyYXRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLmp1bXBUbyh0aGlzLmN1cnJQb3MgLSAxLCBkdXJhdGlvbik7XG4gICAgfSxcblxuICAgIC8vIENoYW5nZSB0byBuZXh0IGdhbGxlcnkgaXRlbVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgbmV4dDogZnVuY3Rpb24oZHVyYXRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLmp1bXBUbyh0aGlzLmN1cnJQb3MgKyAxLCBkdXJhdGlvbik7XG4gICAgfSxcblxuICAgIC8vIFN3aXRjaCB0byBzZWxlY3RlZCBnYWxsZXJ5IGl0ZW1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBqdW1wVG86IGZ1bmN0aW9uKHBvcywgZHVyYXRpb24pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgZ3JvdXBMZW4gPSBzZWxmLmdyb3VwLmxlbmd0aCxcbiAgICAgICAgZmlyc3RSdW4sXG4gICAgICAgIGxvb3AsXG4gICAgICAgIGN1cnJlbnQsXG4gICAgICAgIHByZXZpb3VzLFxuICAgICAgICBjYW52YXNXaWR0aCxcbiAgICAgICAgY3VycmVudFBvcyxcbiAgICAgICAgdHJhbnNpdGlvblByb3BzO1xuXG4gICAgICBpZiAoc2VsZi5pc0RyYWdnaW5nIHx8IHNlbGYuaXNDbG9zaW5nIHx8IChzZWxmLmlzQW5pbWF0aW5nICYmIHNlbGYuZmlyc3RSdW4pKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcG9zID0gcGFyc2VJbnQocG9zLCAxMCk7XG5cbiAgICAgIC8vIFNob3VsZCBsb29wP1xuICAgICAgbG9vcCA9IHNlbGYuY3VycmVudCA/IHNlbGYuY3VycmVudC5vcHRzLmxvb3AgOiBzZWxmLm9wdHMubG9vcDtcblxuICAgICAgaWYgKCFsb29wICYmIChwb3MgPCAwIHx8IHBvcyA+PSBncm91cExlbikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBmaXJzdFJ1biA9IHNlbGYuZmlyc3RSdW4gPSAhT2JqZWN0LmtleXMoc2VsZi5zbGlkZXMpLmxlbmd0aDtcblxuICAgICAgaWYgKGdyb3VwTGVuIDwgMiAmJiAhZmlyc3RSdW4gJiYgISFzZWxmLmlzRHJhZ2dpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBwcmV2aW91cyA9IHNlbGYuY3VycmVudDtcblxuICAgICAgc2VsZi5wcmV2SW5kZXggPSBzZWxmLmN1cnJJbmRleDtcbiAgICAgIHNlbGYucHJldlBvcyA9IHNlbGYuY3VyclBvcztcblxuICAgICAgLy8gQ3JlYXRlIHNsaWRlc1xuICAgICAgY3VycmVudCA9IHNlbGYuY3JlYXRlU2xpZGUocG9zKTtcblxuICAgICAgaWYgKGdyb3VwTGVuID4gMSkge1xuICAgICAgICBpZiAobG9vcCB8fCBjdXJyZW50LmluZGV4ID4gMCkge1xuICAgICAgICAgIHNlbGYuY3JlYXRlU2xpZGUocG9zIC0gMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobG9vcCB8fCBjdXJyZW50LmluZGV4IDwgZ3JvdXBMZW4gLSAxKSB7XG4gICAgICAgICAgc2VsZi5jcmVhdGVTbGlkZShwb3MgKyAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZWxmLmN1cnJlbnQgPSBjdXJyZW50O1xuICAgICAgc2VsZi5jdXJySW5kZXggPSBjdXJyZW50LmluZGV4O1xuICAgICAgc2VsZi5jdXJyUG9zID0gY3VycmVudC5wb3M7XG5cbiAgICAgIHNlbGYudHJpZ2dlcihcImJlZm9yZVNob3dcIiwgZmlyc3RSdW4pO1xuXG4gICAgICBzZWxmLnVwZGF0ZUNvbnRyb2xzKCk7XG5cbiAgICAgIGN1cnJlbnRQb3MgPSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShjdXJyZW50LiRzbGlkZSk7XG5cbiAgICAgIGN1cnJlbnQuaXNNb3ZlZCA9IChjdXJyZW50UG9zLmxlZnQgIT09IDAgfHwgY3VycmVudFBvcy50b3AgIT09IDApICYmICFjdXJyZW50LiRzbGlkZS5oYXNDbGFzcyhcImZhbmN5Ym94LWFuaW1hdGVkXCIpO1xuXG4gICAgICAvLyBWYWxpZGF0ZSBkdXJhdGlvbiBsZW5ndGhcbiAgICAgIGN1cnJlbnQuZm9yY2VkRHVyYXRpb24gPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICgkLmlzTnVtZXJpYyhkdXJhdGlvbikpIHtcbiAgICAgICAgY3VycmVudC5mb3JjZWREdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHVyYXRpb24gPSBjdXJyZW50Lm9wdHNbZmlyc3RSdW4gPyBcImFuaW1hdGlvbkR1cmF0aW9uXCIgOiBcInRyYW5zaXRpb25EdXJhdGlvblwiXTtcbiAgICAgIH1cblxuICAgICAgZHVyYXRpb24gPSBwYXJzZUludChkdXJhdGlvbiwgMTApO1xuXG4gICAgICAvLyBGcmVzaCBzdGFydCAtIHJldmVhbCBjb250YWluZXIsIGN1cnJlbnQgc2xpZGUgYW5kIHN0YXJ0IGxvYWRpbmcgY29udGVudFxuICAgICAgaWYgKGZpcnN0UnVuKSB7XG4gICAgICAgIGlmIChjdXJyZW50Lm9wdHMuYW5pbWF0aW9uRWZmZWN0ICYmIGR1cmF0aW9uKSB7XG4gICAgICAgICAgc2VsZi4kcmVmcy5jb250YWluZXIuY3NzKFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLCBkdXJhdGlvbiArIFwibXNcIik7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLiRyZWZzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWlzLWhpZGRlblwiKTtcblxuICAgICAgICBmb3JjZVJlZHJhdyhzZWxmLiRyZWZzLmNvbnRhaW5lcik7XG5cbiAgICAgICAgc2VsZi4kcmVmcy5jb250YWluZXIuYWRkQ2xhc3MoXCJmYW5jeWJveC1pcy1vcGVuXCIpO1xuXG4gICAgICAgIGZvcmNlUmVkcmF3KHNlbGYuJHJlZnMuY29udGFpbmVyKTtcblxuICAgICAgICAvLyBNYWtlIGN1cnJlbnQgc2xpZGUgdmlzaWJsZVxuICAgICAgICBjdXJyZW50LiRzbGlkZS5hZGRDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1wcmV2aW91c1wiKTtcblxuICAgICAgICAvLyBBdHRlbXB0IHRvIGxvYWQgY29udGVudCBpbnRvIHNsaWRlO1xuICAgICAgICAvLyBhdCB0aGlzIHBvaW50IGltYWdlIHdvdWxkIHN0YXJ0IGxvYWRpbmcsIGJ1dCBpbmxpbmUvaHRtbCBjb250ZW50IHdvdWxkIGxvYWQgaW1tZWRpYXRlbHlcbiAgICAgICAgc2VsZi5sb2FkU2xpZGUoY3VycmVudCk7XG5cbiAgICAgICAgY3VycmVudC4kc2xpZGUucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tcHJldmlvdXNcIikuYWRkQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tY3VycmVudFwiKTtcblxuICAgICAgICBzZWxmLnByZWxvYWQoXCJpbWFnZVwiKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFuIHVwXG4gICAgICAkLmVhY2goc2VsZi5zbGlkZXMsIGZ1bmN0aW9uKGluZGV4LCBzbGlkZSkge1xuICAgICAgICAkLmZhbmN5Ym94LnN0b3Aoc2xpZGUuJHNsaWRlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNYWtlIGN1cnJlbnQgdGhhdCBzbGlkZSBpcyB2aXNpYmxlIGV2ZW4gaWYgY29udGVudCBpcyBzdGlsbCBsb2FkaW5nXG4gICAgICBjdXJyZW50LiRzbGlkZS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1uZXh0IGZhbmN5Ym94LXNsaWRlLS1wcmV2aW91c1wiKS5hZGRDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1jdXJyZW50XCIpO1xuXG4gICAgICAvLyBJZiBzbGlkZXMgaGF2ZSBiZWVuIGRyYWdnZWQsIGFuaW1hdGUgdGhlbSB0byBjb3JyZWN0IHBvc2l0aW9uXG4gICAgICBpZiAoY3VycmVudC5pc01vdmVkKSB7XG4gICAgICAgIGNhbnZhc1dpZHRoID0gTWF0aC5yb3VuZChjdXJyZW50LiRzbGlkZS53aWR0aCgpKTtcblxuICAgICAgICAkLmVhY2goc2VsZi5zbGlkZXMsIGZ1bmN0aW9uKGluZGV4LCBzbGlkZSkge1xuICAgICAgICAgIHZhciBwb3MgPSBzbGlkZS5wb3MgLSBjdXJyZW50LnBvcztcblxuICAgICAgICAgICQuZmFuY3lib3guYW5pbWF0ZShcbiAgICAgICAgICAgIHNsaWRlLiRzbGlkZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICBsZWZ0OiBwb3MgKiBjYW52YXNXaWR0aCArIHBvcyAqIHNsaWRlLm9wdHMuZ3V0dGVyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgc2xpZGUuJHNsaWRlLnJlbW92ZUF0dHIoXCJzdHlsZVwiKS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1uZXh0IGZhbmN5Ym94LXNsaWRlLS1wcmV2aW91c1wiKTtcblxuICAgICAgICAgICAgICBpZiAoc2xpZGUucG9zID09PSBzZWxmLmN1cnJQb3MpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50LmlzTW92ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHNlbGYuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi4kcmVmcy5zdGFnZS5jaGlsZHJlbigpLnJlbW92ZUF0dHIoXCJzdHlsZVwiKTtcbiAgICAgIH1cblxuICAgICAgLy8gU3RhcnQgdHJhbnNpdGlvbiB0aGF0IHJldmVhbHMgY3VycmVudCBjb250ZW50XG4gICAgICAvLyBvciB3YWl0IHdoZW4gaXQgd2lsbCBiZSBsb2FkZWRcblxuICAgICAgaWYgKGN1cnJlbnQuaXNMb2FkZWQpIHtcbiAgICAgICAgc2VsZi5yZXZlYWxDb250ZW50KGN1cnJlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5sb2FkU2xpZGUoY3VycmVudCk7XG4gICAgICB9XG5cbiAgICAgIHNlbGYucHJlbG9hZChcImltYWdlXCIpO1xuXG4gICAgICBpZiAocHJldmlvdXMucG9zID09PSBjdXJyZW50LnBvcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEhhbmRsZSBwcmV2aW91cyBzbGlkZVxuICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAgIHRyYW5zaXRpb25Qcm9wcyA9IFwiZmFuY3lib3gtc2xpZGUtLVwiICsgKHByZXZpb3VzLnBvcyA+IGN1cnJlbnQucG9zID8gXCJuZXh0XCIgOiBcInByZXZpb3VzXCIpO1xuXG4gICAgICBwcmV2aW91cy4kc2xpZGUucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tY29tcGxldGUgZmFuY3lib3gtc2xpZGUtLWN1cnJlbnQgZmFuY3lib3gtc2xpZGUtLW5leHQgZmFuY3lib3gtc2xpZGUtLXByZXZpb3VzXCIpO1xuXG4gICAgICBwcmV2aW91cy5pc0NvbXBsZXRlID0gZmFsc2U7XG5cbiAgICAgIGlmICghZHVyYXRpb24gfHwgKCFjdXJyZW50LmlzTW92ZWQgJiYgIWN1cnJlbnQub3B0cy50cmFuc2l0aW9uRWZmZWN0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50LmlzTW92ZWQpIHtcbiAgICAgICAgcHJldmlvdXMuJHNsaWRlLmFkZENsYXNzKHRyYW5zaXRpb25Qcm9wcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2l0aW9uUHJvcHMgPSBcImZhbmN5Ym94LWFuaW1hdGVkIFwiICsgdHJhbnNpdGlvblByb3BzICsgXCIgZmFuY3lib3gtZngtXCIgKyBjdXJyZW50Lm9wdHMudHJhbnNpdGlvbkVmZmVjdDtcblxuICAgICAgICAkLmZhbmN5Ym94LmFuaW1hdGUocHJldmlvdXMuJHNsaWRlLCB0cmFuc2l0aW9uUHJvcHMsIGR1cmF0aW9uLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBwcmV2aW91cy4kc2xpZGUucmVtb3ZlQ2xhc3ModHJhbnNpdGlvblByb3BzKS5yZW1vdmVBdHRyKFwic3R5bGVcIik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBDcmVhdGUgbmV3IFwic2xpZGVcIiBlbGVtZW50XG4gICAgLy8gVGhlc2UgYXJlIGdhbGxlcnkgaXRlbXMgIHRoYXQgYXJlIGFjdHVhbGx5IGFkZGVkIHRvIERPTVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGNyZWF0ZVNsaWRlOiBmdW5jdGlvbihwb3MpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgJHNsaWRlLFxuICAgICAgICBpbmRleDtcblxuICAgICAgaW5kZXggPSBwb3MgJSBzZWxmLmdyb3VwLmxlbmd0aDtcbiAgICAgIGluZGV4ID0gaW5kZXggPCAwID8gc2VsZi5ncm91cC5sZW5ndGggKyBpbmRleCA6IGluZGV4O1xuXG4gICAgICBpZiAoIXNlbGYuc2xpZGVzW3Bvc10gJiYgc2VsZi5ncm91cFtpbmRleF0pIHtcbiAgICAgICAgJHNsaWRlID0gJCgnPGRpdiBjbGFzcz1cImZhbmN5Ym94LXNsaWRlXCI+PC9kaXY+JykuYXBwZW5kVG8oc2VsZi4kcmVmcy5zdGFnZSk7XG5cbiAgICAgICAgc2VsZi5zbGlkZXNbcG9zXSA9ICQuZXh0ZW5kKHRydWUsIHt9LCBzZWxmLmdyb3VwW2luZGV4XSwge1xuICAgICAgICAgIHBvczogcG9zLFxuICAgICAgICAgICRzbGlkZTogJHNsaWRlLFxuICAgICAgICAgIGlzTG9hZGVkOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICBzZWxmLnVwZGF0ZVNsaWRlKHNlbGYuc2xpZGVzW3Bvc10pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZi5zbGlkZXNbcG9zXTtcbiAgICB9LFxuXG4gICAgLy8gU2NhbGUgaW1hZ2UgdG8gdGhlIGFjdHVhbCBzaXplIG9mIHRoZSBpbWFnZTtcbiAgICAvLyB4IGFuZCB5IHZhbHVlcyBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIHNsaWRlXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgc2NhbGVUb0FjdHVhbDogZnVuY3Rpb24oeCwgeSwgZHVyYXRpb24pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgY3VycmVudCA9IHNlbGYuY3VycmVudCxcbiAgICAgICAgJGNvbnRlbnQgPSBjdXJyZW50LiRjb250ZW50LFxuICAgICAgICBjYW52YXNXaWR0aCA9ICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKGN1cnJlbnQuJHNsaWRlKS53aWR0aCxcbiAgICAgICAgY2FudmFzSGVpZ2h0ID0gJC5mYW5jeWJveC5nZXRUcmFuc2xhdGUoY3VycmVudC4kc2xpZGUpLmhlaWdodCxcbiAgICAgICAgbmV3SW1nV2lkdGggPSBjdXJyZW50LndpZHRoLFxuICAgICAgICBuZXdJbWdIZWlnaHQgPSBjdXJyZW50LmhlaWdodCxcbiAgICAgICAgaW1nUG9zLFxuICAgICAgICBwb3NYLFxuICAgICAgICBwb3NZLFxuICAgICAgICBzY2FsZVgsXG4gICAgICAgIHNjYWxlWTtcblxuICAgICAgaWYgKHNlbGYuaXNBbmltYXRpbmcgfHwgISRjb250ZW50IHx8ICEoY3VycmVudC50eXBlID09IFwiaW1hZ2VcIiAmJiBjdXJyZW50LmlzTG9hZGVkICYmICFjdXJyZW50Lmhhc0Vycm9yKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICQuZmFuY3lib3guc3RvcCgkY29udGVudCk7XG5cbiAgICAgIHNlbGYuaXNBbmltYXRpbmcgPSB0cnVlO1xuXG4gICAgICB4ID0geCA9PT0gdW5kZWZpbmVkID8gY2FudmFzV2lkdGggKiAwLjUgOiB4O1xuICAgICAgeSA9IHkgPT09IHVuZGVmaW5lZCA/IGNhbnZhc0hlaWdodCAqIDAuNSA6IHk7XG5cbiAgICAgIGltZ1BvcyA9ICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKCRjb250ZW50KTtcblxuICAgICAgaW1nUG9zLnRvcCAtPSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShjdXJyZW50LiRzbGlkZSkudG9wO1xuICAgICAgaW1nUG9zLmxlZnQgLT0gJC5mYW5jeWJveC5nZXRUcmFuc2xhdGUoY3VycmVudC4kc2xpZGUpLmxlZnQ7XG5cbiAgICAgIHNjYWxlWCA9IG5ld0ltZ1dpZHRoIC8gaW1nUG9zLndpZHRoO1xuICAgICAgc2NhbGVZID0gbmV3SW1nSGVpZ2h0IC8gaW1nUG9zLmhlaWdodDtcblxuICAgICAgLy8gR2V0IGNlbnRlciBwb3NpdGlvbiBmb3Igb3JpZ2luYWwgaW1hZ2VcbiAgICAgIHBvc1ggPSBjYW52YXNXaWR0aCAqIDAuNSAtIG5ld0ltZ1dpZHRoICogMC41O1xuICAgICAgcG9zWSA9IGNhbnZhc0hlaWdodCAqIDAuNSAtIG5ld0ltZ0hlaWdodCAqIDAuNTtcblxuICAgICAgLy8gTWFrZSBzdXJlIGltYWdlIGRvZXMgbm90IG1vdmUgYXdheSBmcm9tIGVkZ2VzXG4gICAgICBpZiAobmV3SW1nV2lkdGggPiBjYW52YXNXaWR0aCkge1xuICAgICAgICBwb3NYID0gaW1nUG9zLmxlZnQgKiBzY2FsZVggLSAoeCAqIHNjYWxlWCAtIHgpO1xuXG4gICAgICAgIGlmIChwb3NYID4gMCkge1xuICAgICAgICAgIHBvc1ggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc1ggPCBjYW52YXNXaWR0aCAtIG5ld0ltZ1dpZHRoKSB7XG4gICAgICAgICAgcG9zWCA9IGNhbnZhc1dpZHRoIC0gbmV3SW1nV2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG5ld0ltZ0hlaWdodCA+IGNhbnZhc0hlaWdodCkge1xuICAgICAgICBwb3NZID0gaW1nUG9zLnRvcCAqIHNjYWxlWSAtICh5ICogc2NhbGVZIC0geSk7XG5cbiAgICAgICAgaWYgKHBvc1kgPiAwKSB7XG4gICAgICAgICAgcG9zWSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zWSA8IGNhbnZhc0hlaWdodCAtIG5ld0ltZ0hlaWdodCkge1xuICAgICAgICAgIHBvc1kgPSBjYW52YXNIZWlnaHQgLSBuZXdJbWdIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2VsZi51cGRhdGVDdXJzb3IobmV3SW1nV2lkdGgsIG5ld0ltZ0hlaWdodCk7XG5cbiAgICAgICQuZmFuY3lib3guYW5pbWF0ZShcbiAgICAgICAgJGNvbnRlbnQsXG4gICAgICAgIHtcbiAgICAgICAgICB0b3A6IHBvc1ksXG4gICAgICAgICAgbGVmdDogcG9zWCxcbiAgICAgICAgICBzY2FsZVg6IHNjYWxlWCxcbiAgICAgICAgICBzY2FsZVk6IHNjYWxlWVxuICAgICAgICB9LFxuICAgICAgICBkdXJhdGlvbiB8fCAzMzAsXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuaXNBbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgLy8gU3RvcCBzbGlkZXNob3dcbiAgICAgIGlmIChzZWxmLlNsaWRlU2hvdyAmJiBzZWxmLlNsaWRlU2hvdy5pc0FjdGl2ZSkge1xuICAgICAgICBzZWxmLlNsaWRlU2hvdy5zdG9wKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIFNjYWxlIGltYWdlIHRvIGZpdCBpbnNpZGUgcGFyZW50IGVsZW1lbnRcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBzY2FsZVRvRml0OiBmdW5jdGlvbihkdXJhdGlvbikge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBjdXJyZW50ID0gc2VsZi5jdXJyZW50LFxuICAgICAgICAkY29udGVudCA9IGN1cnJlbnQuJGNvbnRlbnQsXG4gICAgICAgIGVuZDtcblxuICAgICAgaWYgKHNlbGYuaXNBbmltYXRpbmcgfHwgISRjb250ZW50IHx8ICEoY3VycmVudC50eXBlID09IFwiaW1hZ2VcIiAmJiBjdXJyZW50LmlzTG9hZGVkICYmICFjdXJyZW50Lmhhc0Vycm9yKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICQuZmFuY3lib3guc3RvcCgkY29udGVudCk7XG5cbiAgICAgIHNlbGYuaXNBbmltYXRpbmcgPSB0cnVlO1xuXG4gICAgICBlbmQgPSBzZWxmLmdldEZpdFBvcyhjdXJyZW50KTtcblxuICAgICAgc2VsZi51cGRhdGVDdXJzb3IoZW5kLndpZHRoLCBlbmQuaGVpZ2h0KTtcblxuICAgICAgJC5mYW5jeWJveC5hbmltYXRlKFxuICAgICAgICAkY29udGVudCxcbiAgICAgICAge1xuICAgICAgICAgIHRvcDogZW5kLnRvcCxcbiAgICAgICAgICBsZWZ0OiBlbmQubGVmdCxcbiAgICAgICAgICBzY2FsZVg6IGVuZC53aWR0aCAvICRjb250ZW50LndpZHRoKCksXG4gICAgICAgICAgc2NhbGVZOiBlbmQuaGVpZ2h0IC8gJGNvbnRlbnQuaGVpZ2h0KClcbiAgICAgICAgfSxcbiAgICAgICAgZHVyYXRpb24gfHwgMzMwLFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLmlzQW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8vIENhbGN1bGF0ZSBpbWFnZSBzaXplIHRvIGZpdCBpbnNpZGUgdmlld3BvcnRcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBnZXRGaXRQb3M6IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICRjb250ZW50ID0gc2xpZGUuJGNvbnRlbnQsXG4gICAgICAgIHdpZHRoID0gc2xpZGUud2lkdGggfHwgc2xpZGUub3B0cy53aWR0aCxcbiAgICAgICAgaGVpZ2h0ID0gc2xpZGUuaGVpZ2h0IHx8IHNsaWRlLm9wdHMuaGVpZ2h0LFxuICAgICAgICBtYXhXaWR0aCxcbiAgICAgICAgbWF4SGVpZ2h0LFxuICAgICAgICBtaW5SYXRpbyxcbiAgICAgICAgbWFyZ2luLFxuICAgICAgICBhc3BlY3RSYXRpbyxcbiAgICAgICAgcmV6ID0ge307XG5cbiAgICAgIGlmICghc2xpZGUuaXNMb2FkZWQgfHwgISRjb250ZW50IHx8ICEkY29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBtYXJnaW4gPSB7XG4gICAgICAgIHRvcDogcGFyc2VJbnQoc2xpZGUuJHNsaWRlLmNzcyhcInBhZGRpbmdUb3BcIiksIDEwKSxcbiAgICAgICAgcmlnaHQ6IHBhcnNlSW50KHNsaWRlLiRzbGlkZS5jc3MoXCJwYWRkaW5nUmlnaHRcIiksIDEwKSxcbiAgICAgICAgYm90dG9tOiBwYXJzZUludChzbGlkZS4kc2xpZGUuY3NzKFwicGFkZGluZ0JvdHRvbVwiKSwgMTApLFxuICAgICAgICBsZWZ0OiBwYXJzZUludChzbGlkZS4kc2xpZGUuY3NzKFwicGFkZGluZ0xlZnRcIiksIDEwKVxuICAgICAgfTtcblxuICAgICAgLy8gV2UgY2FuIG5vdCB1c2UgJHNsaWRlIHdpZHRoIGhlcmUsIGJlY2F1c2UgaXQgY2FuIGhhdmUgZGlmZmVyZW50IGRpZW1lbnNpb25zIHdoaWxlIGluIHRyYW5zaXRvblxuICAgICAgbWF4V2lkdGggPSBwYXJzZUludChzZWxmLiRyZWZzLnN0YWdlLndpZHRoKCksIDEwKSAtIChtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodCk7XG4gICAgICBtYXhIZWlnaHQgPSBwYXJzZUludChzZWxmLiRyZWZzLnN0YWdlLmhlaWdodCgpLCAxMCkgLSAobWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pO1xuXG4gICAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpIHtcbiAgICAgICAgd2lkdGggPSBtYXhXaWR0aDtcbiAgICAgICAgaGVpZ2h0ID0gbWF4SGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBtaW5SYXRpbyA9IE1hdGgubWluKDEsIG1heFdpZHRoIC8gd2lkdGgsIG1heEhlaWdodCAvIGhlaWdodCk7XG5cbiAgICAgIC8vIFVzZSBmbG9vciByb3VuZGluZyB0byBtYWtlIHN1cmUgaXQgcmVhbGx5IGZpdHNcbiAgICAgIHdpZHRoID0gTWF0aC5mbG9vcihtaW5SYXRpbyAqIHdpZHRoKTtcbiAgICAgIGhlaWdodCA9IE1hdGguZmxvb3IobWluUmF0aW8gKiBoZWlnaHQpO1xuXG4gICAgICBpZiAoc2xpZGUudHlwZSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgICAgIHJlei50b3AgPSBNYXRoLmZsb29yKChtYXhIZWlnaHQgLSBoZWlnaHQpICogMC41KSArIG1hcmdpbi50b3A7XG4gICAgICAgIHJlei5sZWZ0ID0gTWF0aC5mbG9vcigobWF4V2lkdGggLSB3aWR0aCkgKiAwLjUpICsgbWFyZ2luLmxlZnQ7XG4gICAgICB9IGVsc2UgaWYgKHNsaWRlLmNvbnRlbnRUeXBlID09PSBcInZpZGVvXCIpIHtcbiAgICAgICAgLy8gRm9yY2UgYXNwZWN0IHJhdGlvIGZvciB0aGUgdmlkZW9cbiAgICAgICAgLy8gXCJJIHNheSB0aGUgd2hvbGUgd29ybGQgbXVzdCBsZWFybiBvZiBvdXIgcGVhY2VmdWwgd2F5c+KApiBieSBmb3JjZSFcIlxuICAgICAgICBhc3BlY3RSYXRpbyA9IHNsaWRlLm9wdHMud2lkdGggJiYgc2xpZGUub3B0cy5oZWlnaHQgPyB3aWR0aCAvIGhlaWdodCA6IHNsaWRlLm9wdHMucmF0aW8gfHwgMTYgLyA5O1xuXG4gICAgICAgIGlmIChoZWlnaHQgPiB3aWR0aCAvIGFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgaGVpZ2h0ID0gd2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgfSBlbHNlIGlmICh3aWR0aCA+IGhlaWdodCAqIGFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgd2lkdGggPSBoZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXoud2lkdGggPSB3aWR0aDtcbiAgICAgIHJlei5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgIHJldHVybiByZXo7XG4gICAgfSxcblxuICAgIC8vIFVwZGF0ZSBjb250ZW50IHNpemUgYW5kIHBvc2l0aW9uIGZvciBhbGwgc2xpZGVzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgJC5lYWNoKHNlbGYuc2xpZGVzLCBmdW5jdGlvbihrZXksIHNsaWRlKSB7XG4gICAgICAgIHNlbGYudXBkYXRlU2xpZGUoc2xpZGUpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIFVwZGF0ZSBzbGlkZSBjb250ZW50IHBvc2l0aW9uIGFuZCBzaXplXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHVwZGF0ZVNsaWRlOiBmdW5jdGlvbihzbGlkZSwgZHVyYXRpb24pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgJGNvbnRlbnQgPSBzbGlkZSAmJiBzbGlkZS4kY29udGVudCxcbiAgICAgICAgd2lkdGggPSBzbGlkZS53aWR0aCB8fCBzbGlkZS5vcHRzLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSBzbGlkZS5oZWlnaHQgfHwgc2xpZGUub3B0cy5oZWlnaHQ7XG5cbiAgICAgIGlmICgkY29udGVudCAmJiAod2lkdGggfHwgaGVpZ2h0IHx8IHNsaWRlLmNvbnRlbnRUeXBlID09PSBcInZpZGVvXCIpICYmICFzbGlkZS5oYXNFcnJvcikge1xuICAgICAgICAkLmZhbmN5Ym94LnN0b3AoJGNvbnRlbnQpO1xuXG4gICAgICAgICQuZmFuY3lib3guc2V0VHJhbnNsYXRlKCRjb250ZW50LCBzZWxmLmdldEZpdFBvcyhzbGlkZSkpO1xuXG4gICAgICAgIGlmIChzbGlkZS5wb3MgPT09IHNlbGYuY3VyclBvcykge1xuICAgICAgICAgIHNlbGYuaXNBbmltYXRpbmcgPSBmYWxzZTtcblxuICAgICAgICAgIHNlbGYudXBkYXRlQ3Vyc29yKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2xpZGUuJHNsaWRlLnRyaWdnZXIoXCJyZWZyZXNoXCIpO1xuXG4gICAgICBzZWxmLiRyZWZzLnRvb2xiYXIudG9nZ2xlQ2xhc3MoXCJjb21wZW5zYXRlLWZvci1zY3JvbGxiYXJcIiwgc2xpZGUuJHNsaWRlLmdldCgwKS5zY3JvbGxIZWlnaHQgPiBzbGlkZS4kc2xpZGUuZ2V0KDApLmNsaWVudEhlaWdodCk7XG5cbiAgICAgIHNlbGYudHJpZ2dlcihcIm9uVXBkYXRlXCIsIHNsaWRlKTtcbiAgICB9LFxuXG4gICAgLy8gSG9yaXpvbnRhbGx5IGNlbnRlciBzbGlkZVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGNlbnRlclNsaWRlOiBmdW5jdGlvbihzbGlkZSwgZHVyYXRpb24pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgY2FudmFzV2lkdGgsXG4gICAgICAgIHBvcztcblxuICAgICAgaWYgKHNlbGYuY3VycmVudCkge1xuICAgICAgICBjYW52YXNXaWR0aCA9IE1hdGgucm91bmQoc2xpZGUuJHNsaWRlLndpZHRoKCkpO1xuICAgICAgICBwb3MgPSBzbGlkZS5wb3MgLSBzZWxmLmN1cnJlbnQucG9zO1xuXG4gICAgICAgICQuZmFuY3lib3guYW5pbWF0ZShcbiAgICAgICAgICBzbGlkZS4kc2xpZGUsXG4gICAgICAgICAge1xuICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgbGVmdDogcG9zICogY2FudmFzV2lkdGggKyBwb3MgKiBzbGlkZS5vcHRzLmd1dHRlcixcbiAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIGR1cmF0aW9uID09PSB1bmRlZmluZWQgPyAwIDogZHVyYXRpb24sXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBVcGRhdGUgY3Vyc29yIHN0eWxlIGRlcGVuZGluZyBpZiBjb250ZW50IGNhbiBiZSB6b29tZWRcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHVwZGF0ZUN1cnNvcjogZnVuY3Rpb24obmV4dFdpZHRoLCBuZXh0SGVpZ2h0KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGN1cnJlbnQgPSBzZWxmLmN1cnJlbnQsXG4gICAgICAgICRjb250YWluZXIgPSBzZWxmLiRyZWZzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWlzLXpvb21hYmxlIGZhbmN5Ym94LWNhbi16b29tSW4gZmFuY3lib3gtY2FuLWRyYWcgZmFuY3lib3gtY2FuLXpvb21PdXRcIiksXG4gICAgICAgIGlzWm9vbWFibGU7XG5cbiAgICAgIGlmICghY3VycmVudCB8fCBzZWxmLmlzQ2xvc2luZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlzWm9vbWFibGUgPSBzZWxmLmlzWm9vbWFibGUoKTtcblxuICAgICAgJGNvbnRhaW5lci50b2dnbGVDbGFzcyhcImZhbmN5Ym94LWlzLXpvb21hYmxlXCIsIGlzWm9vbWFibGUpO1xuXG4gICAgICAkKFwiW2RhdGEtZmFuY3lib3gtem9vbV1cIikucHJvcChcImRpc2FibGVkXCIsICFpc1pvb21hYmxlKTtcblxuICAgICAgLy8gU2V0IGN1cnNvciB0byB6b29tIGluL291dCBpZiBjbGljayBldmVudCBpcyAnem9vbSdcbiAgICAgIGlmIChcbiAgICAgICAgaXNab29tYWJsZSAmJlxuICAgICAgICAoY3VycmVudC5vcHRzLmNsaWNrQ29udGVudCA9PT0gXCJ6b29tXCIgfHwgKCQuaXNGdW5jdGlvbihjdXJyZW50Lm9wdHMuY2xpY2tDb250ZW50KSAmJiBjdXJyZW50Lm9wdHMuY2xpY2tDb250ZW50KGN1cnJlbnQpID09PSBcInpvb21cIikpXG4gICAgICApIHtcbiAgICAgICAgaWYgKHNlbGYuaXNTY2FsZWREb3duKG5leHRXaWR0aCwgbmV4dEhlaWdodCkpIHtcbiAgICAgICAgICAvLyBJZiBpbWFnZSBpcyBzY2FsZWQgZG93biwgdGhlbiwgb2J2aW91c2x5LCBpdCBjYW4gYmUgem9vbWVkIHRvIGZ1bGwgc2l6ZVxuICAgICAgICAgICRjb250YWluZXIuYWRkQ2xhc3MoXCJmYW5jeWJveC1jYW4tem9vbUluXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChjdXJyZW50Lm9wdHMudG91Y2gpIHtcbiAgICAgICAgICAgIC8vIElmIGltYWdlIHNpemUgaXIgbGFyZ2VuIHRoYW4gYXZhaWxhYmxlIGF2YWlsYWJsZSBhbmQgdG91Y2ggbW9kdWxlIGlzIG5vdCBkaXNhYmxlLFxuICAgICAgICAgICAgLy8gdGhlbiB1c2VyIGNhbiBkbyBwYW5uaW5nXG4gICAgICAgICAgICAkY29udGFpbmVyLmFkZENsYXNzKFwiZmFuY3lib3gtY2FuLWRyYWdcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRjb250YWluZXIuYWRkQ2xhc3MoXCJmYW5jeWJveC1jYW4tem9vbU91dFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudC5vcHRzLnRvdWNoICYmIGN1cnJlbnQuY29udGVudFR5cGUgIT09IFwidmlkZW9cIikge1xuICAgICAgICAkY29udGFpbmVyLmFkZENsYXNzKFwiZmFuY3lib3gtY2FuLWRyYWdcIik7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIENoZWNrIGlmIGN1cnJlbnQgc2xpZGUgaXMgem9vbWFibGVcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBpc1pvb21hYmxlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgY3VycmVudCA9IHNlbGYuY3VycmVudCxcbiAgICAgICAgZml0UG9zO1xuXG4gICAgICAvLyBBc3N1bWUgdGhhdCBzbGlkZSBpcyB6b29tYWJsZSBpZjpcbiAgICAgIC8vICAgLSBpbWFnZSBpcyBzdGlsbCBsb2FkaW5nXG4gICAgICAvLyAgIC0gYWN0dWFsIHNpemUgb2YgdGhlIGltYWdlIGlzIHNtYWxsZXIgdGhhbiBhdmFpbGFibGUgYXJlYVxuICAgICAgaWYgKGN1cnJlbnQgJiYgIXNlbGYuaXNDbG9zaW5nICYmIGN1cnJlbnQudHlwZSA9PT0gXCJpbWFnZVwiICYmICFjdXJyZW50Lmhhc0Vycm9yKSB7XG4gICAgICAgIGlmICghY3VycmVudC5pc0xvYWRlZCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZml0UG9zID0gc2VsZi5nZXRGaXRQb3MoY3VycmVudCk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQud2lkdGggPiBmaXRQb3Mud2lkdGggfHwgY3VycmVudC5oZWlnaHQgPiBmaXRQb3MuaGVpZ2h0KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvLyBDaGVjayBpZiBjdXJyZW50IGltYWdlIGRpbWVuc2lvbnMgYXJlIHNtYWxsZXIgdGhhbiBhY3R1YWxcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGlzU2NhbGVkRG93bjogZnVuY3Rpb24obmV4dFdpZHRoLCBuZXh0SGVpZ2h0KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIHJleiA9IGZhbHNlLFxuICAgICAgICBjdXJyZW50ID0gc2VsZi5jdXJyZW50LFxuICAgICAgICAkY29udGVudCA9IGN1cnJlbnQuJGNvbnRlbnQ7XG5cbiAgICAgIGlmIChuZXh0V2lkdGggIT09IHVuZGVmaW5lZCAmJiBuZXh0SGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV6ID0gbmV4dFdpZHRoIDwgY3VycmVudC53aWR0aCAmJiBuZXh0SGVpZ2h0IDwgY3VycmVudC5oZWlnaHQ7XG4gICAgICB9IGVsc2UgaWYgKCRjb250ZW50KSB7XG4gICAgICAgIHJleiA9ICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKCRjb250ZW50KTtcbiAgICAgICAgcmV6ID0gcmV6LndpZHRoIDwgY3VycmVudC53aWR0aCAmJiByZXouaGVpZ2h0IDwgY3VycmVudC5oZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXo7XG4gICAgfSxcblxuICAgIC8vIENoZWNrIGlmIGltYWdlIGRpbWVuc2lvbnMgZXhjZWVkIHBhcmVudCBlbGVtZW50XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGNhblBhbjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIHJleiA9IGZhbHNlLFxuICAgICAgICBjdXJyZW50ID0gc2VsZi5jdXJyZW50LFxuICAgICAgICAkY29udGVudDtcblxuICAgICAgaWYgKGN1cnJlbnQudHlwZSA9PT0gXCJpbWFnZVwiICYmICgkY29udGVudCA9IGN1cnJlbnQuJGNvbnRlbnQpICYmICFjdXJyZW50Lmhhc0Vycm9yKSB7XG4gICAgICAgIHJleiA9IHNlbGYuZ2V0Rml0UG9zKGN1cnJlbnQpO1xuICAgICAgICByZXogPSBNYXRoLmFicygkY29udGVudC53aWR0aCgpIC0gcmV6LndpZHRoKSA+IDEgfHwgTWF0aC5hYnMoJGNvbnRlbnQuaGVpZ2h0KCkgLSByZXouaGVpZ2h0KSA+IDE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXo7XG4gICAgfSxcblxuICAgIC8vIExvYWQgY29udGVudCBpbnRvIHRoZSBzbGlkZVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgbG9hZFNsaWRlOiBmdW5jdGlvbihzbGlkZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICB0eXBlLFxuICAgICAgICAkc2xpZGUsXG4gICAgICAgIGFqYXhMb2FkO1xuXG4gICAgICBpZiAoc2xpZGUuaXNMb2FkaW5nIHx8IHNsaWRlLmlzTG9hZGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2xpZGUuaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgc2VsZi50cmlnZ2VyKFwiYmVmb3JlTG9hZFwiLCBzbGlkZSk7XG5cbiAgICAgIHR5cGUgPSBzbGlkZS50eXBlO1xuICAgICAgJHNsaWRlID0gc2xpZGUuJHNsaWRlO1xuXG4gICAgICAkc2xpZGVcbiAgICAgICAgLm9mZihcInJlZnJlc2hcIilcbiAgICAgICAgLnRyaWdnZXIoXCJvblJlc2V0XCIpXG4gICAgICAgIC5hZGRDbGFzcyhzbGlkZS5vcHRzLnNsaWRlQ2xhc3MpO1xuXG4gICAgICAvLyBDcmVhdGUgY29udGVudCBkZXBlbmRpbmcgb24gdGhlIHR5cGVcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgICAgICBzZWxmLnNldEltYWdlKHNsaWRlKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJpZnJhbWVcIjpcbiAgICAgICAgICBzZWxmLnNldElmcmFtZShzbGlkZSk7XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiaHRtbFwiOlxuICAgICAgICAgIHNlbGYuc2V0Q29udGVudChzbGlkZSwgc2xpZGUuc3JjIHx8IHNsaWRlLmNvbnRlbnQpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInZpZGVvXCI6XG4gICAgICAgICAgc2VsZi5zZXRDb250ZW50KFxuICAgICAgICAgICAgc2xpZGUsXG4gICAgICAgICAgICAnPHZpZGVvIGNsYXNzPVwiZmFuY3lib3gtdmlkZW9cIiBjb250cm9scyBjb250cm9sc0xpc3Q9XCJub2Rvd25sb2FkXCI+JyArXG4gICAgICAgICAgICAgICc8c291cmNlIHNyYz1cIicgK1xuICAgICAgICAgICAgICBzbGlkZS5zcmMgK1xuICAgICAgICAgICAgICAnXCIgdHlwZT1cIicgK1xuICAgICAgICAgICAgICBzbGlkZS5vcHRzLnZpZGVvRm9ybWF0ICtcbiAgICAgICAgICAgICAgJ1wiPicgK1xuICAgICAgICAgICAgICBcIllvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgSFRNTDUgdmlkZW9cIiArXG4gICAgICAgICAgICAgIFwiPC92aWRlb1wiXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJpbmxpbmVcIjpcbiAgICAgICAgICBpZiAoJChzbGlkZS5zcmMpLmxlbmd0aCkge1xuICAgICAgICAgICAgc2VsZi5zZXRDb250ZW50KHNsaWRlLCAkKHNsaWRlLnNyYykpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLnNldEVycm9yKHNsaWRlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiYWpheFwiOlxuICAgICAgICAgIHNlbGYuc2hvd0xvYWRpbmcoc2xpZGUpO1xuXG4gICAgICAgICAgYWpheExvYWQgPSAkLmFqYXgoXG4gICAgICAgICAgICAkLmV4dGVuZCh7fSwgc2xpZGUub3B0cy5hamF4LnNldHRpbmdzLCB7XG4gICAgICAgICAgICAgIHVybDogc2xpZGUuc3JjLFxuICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRleHRTdGF0dXMgPT09IFwic3VjY2Vzc1wiKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLnNldENvbnRlbnQoc2xpZGUsIGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGpxWEhSICYmIHRleHRTdGF0dXMgIT09IFwiYWJvcnRcIikge1xuICAgICAgICAgICAgICAgICAgc2VsZi5zZXRFcnJvcihzbGlkZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAkc2xpZGUub25lKFwib25SZXNldFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFqYXhMb2FkLmFib3J0KCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHNlbGYuc2V0RXJyb3Ioc2xpZGUpO1xuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvLyBVc2UgdGh1bWJuYWlsIGltYWdlLCBpZiBwb3NzaWJsZVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBzZXRJbWFnZTogZnVuY3Rpb24oc2xpZGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgc3Jjc2V0ID0gc2xpZGUub3B0cy5zcmNzZXQgfHwgc2xpZGUub3B0cy5pbWFnZS5zcmNzZXQsXG4gICAgICAgIHRodW1iU3JjLFxuICAgICAgICBmb3VuZCxcbiAgICAgICAgdGVtcCxcbiAgICAgICAgcHhSYXRpbyxcbiAgICAgICAgd2luZG93V2lkdGg7XG5cbiAgICAgIC8vIENoZWNrIGlmIG5lZWQgdG8gc2hvdyBsb2FkaW5nIGljb25cbiAgICAgIHNsaWRlLnRpbW91dHMgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJGltZyA9IHNsaWRlLiRpbWFnZTtcblxuICAgICAgICBpZiAoc2xpZGUuaXNMb2FkaW5nICYmICghJGltZyB8fCAhJGltZ1swXS5jb21wbGV0ZSkgJiYgIXNsaWRlLmhhc0Vycm9yKSB7XG4gICAgICAgICAgc2VsZi5zaG93TG9hZGluZyhzbGlkZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIDM1MCk7XG5cbiAgICAgIC8vIElmIHdlIGhhdmUgXCJzcmNzZXRcIiwgdGhlbiB3ZSBuZWVkIHRvIGZpbmQgZmlyc3QgbWF0Y2hpbmcgXCJzcmNcIiB2YWx1ZS5cbiAgICAgIC8vIFRoaXMgaXMgbmVjZXNzYXJ5LCBiZWNhdXNlIHdoZW4geW91IHNldCBhbiBzcmMgYXR0cmlidXRlLCB0aGUgYnJvd3NlciB3aWxsIHByZWxvYWQgdGhlIGltYWdlXG4gICAgICAvLyBiZWZvcmUgYW55IGphdmFzY3JpcHQgb3IgZXZlbiBDU1MgaXMgYXBwbGllZC5cbiAgICAgIGlmIChzcmNzZXQpIHtcbiAgICAgICAgcHhSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gICAgICAgIHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGggKiBweFJhdGlvO1xuXG4gICAgICAgIHRlbXAgPSBzcmNzZXQuc3BsaXQoXCIsXCIpLm1hcChmdW5jdGlvbihlbCkge1xuICAgICAgICAgIHZhciByZXQgPSB7fTtcblxuICAgICAgICAgIGVsXG4gICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgICAuc3BsaXQoL1xccysvKVxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oZWwsIGkpIHtcbiAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFyc2VJbnQoZWwuc3Vic3RyaW5nKDAsIGVsLmxlbmd0aCAtIDEpLCAxMCk7XG5cbiAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHJldC51cmwgPSBlbCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXQudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICByZXQucG9zdGZpeCA9IGVsW2VsLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNvcnQgYnkgdmFsdWVcbiAgICAgICAgdGVtcC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICByZXR1cm4gYS52YWx1ZSAtIGIudmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE9rLCBub3cgd2UgaGF2ZSBhbiBhcnJheSBvZiBhbGwgc3Jjc2V0IHZhbHVlc1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRlbXAubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgZWwgPSB0ZW1wW2pdO1xuXG4gICAgICAgICAgaWYgKChlbC5wb3N0Zml4ID09PSBcIndcIiAmJiBlbC52YWx1ZSA+PSB3aW5kb3dXaWR0aCkgfHwgKGVsLnBvc3RmaXggPT09IFwieFwiICYmIGVsLnZhbHVlID49IHB4UmF0aW8pKSB7XG4gICAgICAgICAgICBmb3VuZCA9IGVsO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgbm90IGZvdW5kLCB0YWtlIHRoZSBsYXN0IG9uZVxuICAgICAgICBpZiAoIWZvdW5kICYmIHRlbXAubGVuZ3RoKSB7XG4gICAgICAgICAgZm91bmQgPSB0ZW1wW3RlbXAubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICBzbGlkZS5zcmMgPSBmb3VuZC51cmw7XG5cbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGRlZmF1bHQgd2lkdGgvaGVpZ2h0IHZhbHVlcywgd2UgY2FuIGNhbGN1bGF0ZSBoZWlnaHQgZm9yIG1hdGNoaW5nIHNvdXJjZVxuICAgICAgICAgIGlmIChzbGlkZS53aWR0aCAmJiBzbGlkZS5oZWlnaHQgJiYgZm91bmQucG9zdGZpeCA9PSBcIndcIikge1xuICAgICAgICAgICAgc2xpZGUuaGVpZ2h0ID0gc2xpZGUud2lkdGggLyBzbGlkZS5oZWlnaHQgKiBmb3VuZC52YWx1ZTtcbiAgICAgICAgICAgIHNsaWRlLndpZHRoID0gZm91bmQudmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2xpZGUub3B0cy5zcmNzZXQgPSBzcmNzZXQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhpcyB3aWxsIGJlIHdyYXBwZXIgY29udGFpbmluZyBib3RoIGdob3N0IGFuZCBhY3R1YWwgaW1hZ2VcbiAgICAgIHNsaWRlLiRjb250ZW50ID0gJCgnPGRpdiBjbGFzcz1cImZhbmN5Ym94LWNvbnRlbnRcIj48L2Rpdj4nKVxuICAgICAgICAuYWRkQ2xhc3MoXCJmYW5jeWJveC1pcy1oaWRkZW5cIilcbiAgICAgICAgLmFwcGVuZFRvKHNsaWRlLiRzbGlkZS5hZGRDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1pbWFnZVwiKSk7XG5cbiAgICAgIC8vIElmIHdlIGhhdmUgYSB0aHVtYm5haWwsIHdlIGNhbiBkaXNwbGF5IGl0IHdoaWxlIGFjdHVhbCBpbWFnZSBpcyBsb2FkaW5nXG4gICAgICAvLyBVc2VycyB3aWxsIG5vdCBzdGFyZSBhdCBibGFjayBzY3JlZW4gYW5kIGFjdHVhbCBpbWFnZSB3aWxsIGFwcGVhciBncmFkdWFsbHlcbiAgICAgIHRodW1iU3JjID0gc2xpZGUub3B0cy50aHVtYiB8fCAoc2xpZGUub3B0cy4kdGh1bWIgJiYgc2xpZGUub3B0cy4kdGh1bWIubGVuZ3RoID8gc2xpZGUub3B0cy4kdGh1bWIuYXR0cihcInNyY1wiKSA6IGZhbHNlKTtcblxuICAgICAgaWYgKHNsaWRlLm9wdHMucHJlbG9hZCAhPT0gZmFsc2UgJiYgc2xpZGUub3B0cy53aWR0aCAmJiBzbGlkZS5vcHRzLmhlaWdodCAmJiB0aHVtYlNyYykge1xuICAgICAgICBzbGlkZS53aWR0aCA9IHNsaWRlLm9wdHMud2lkdGg7XG4gICAgICAgIHNsaWRlLmhlaWdodCA9IHNsaWRlLm9wdHMuaGVpZ2h0O1xuXG4gICAgICAgIHNsaWRlLiRnaG9zdCA9ICQoXCI8aW1nIC8+XCIpXG4gICAgICAgICAgLm9uZShcImVycm9yXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgc2xpZGUuJGdob3N0ID0gbnVsbDtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbmUoXCJsb2FkXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5hZnRlckxvYWQoc2xpZGUpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmFkZENsYXNzKFwiZmFuY3lib3gtaW1hZ2VcIilcbiAgICAgICAgICAuYXBwZW5kVG8oc2xpZGUuJGNvbnRlbnQpXG4gICAgICAgICAgLmF0dHIoXCJzcmNcIiwgdGh1bWJTcmMpO1xuICAgICAgfVxuXG4gICAgICAvLyBTdGFydCBsb2FkaW5nIGFjdHVhbCBpbWFnZVxuICAgICAgc2VsZi5zZXRCaWdJbWFnZShzbGlkZSk7XG4gICAgfSxcblxuICAgIC8vIENyZWF0ZSBmdWxsLXNpemUgaW1hZ2VcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBzZXRCaWdJbWFnZTogZnVuY3Rpb24oc2xpZGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgJGltZyA9ICQoXCI8aW1nIC8+XCIpO1xuXG4gICAgICBzbGlkZS4kaW1hZ2UgPSAkaW1nXG4gICAgICAgIC5vbmUoXCJlcnJvclwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnNldEVycm9yKHNsaWRlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uZShcImxvYWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHNpemVzO1xuXG4gICAgICAgICAgaWYgKCFzbGlkZS4kZ2hvc3QpIHtcbiAgICAgICAgICAgIHNlbGYucmVzb2x2ZUltYWdlU2xpZGVTaXplKHNsaWRlLCB0aGlzLm5hdHVyYWxXaWR0aCwgdGhpcy5uYXR1cmFsSGVpZ2h0KTtcblxuICAgICAgICAgICAgc2VsZi5hZnRlckxvYWQoc2xpZGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENsZWFyIHRpbWVvdXQgdGhhdCBjaGVja3MgaWYgbG9hZGluZyBpY29uIG5lZWRzIHRvIGJlIGRpc3BsYXllZFxuICAgICAgICAgIGlmIChzbGlkZS50aW1vdXRzKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoc2xpZGUudGltb3V0cyk7XG4gICAgICAgICAgICBzbGlkZS50aW1vdXRzID0gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2VsZi5pc0Nsb3NpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2xpZGUub3B0cy5zcmNzZXQpIHtcbiAgICAgICAgICAgIHNpemVzID0gc2xpZGUub3B0cy5zaXplcztcblxuICAgICAgICAgICAgaWYgKCFzaXplcyB8fCBzaXplcyA9PT0gXCJhdXRvXCIpIHtcbiAgICAgICAgICAgICAgc2l6ZXMgPVxuICAgICAgICAgICAgICAgIChzbGlkZS53aWR0aCAvIHNsaWRlLmhlaWdodCA+IDEgJiYgJFcud2lkdGgoKSAvICRXLmhlaWdodCgpID4gMSA/IFwiMTAwXCIgOiBNYXRoLnJvdW5kKHNsaWRlLndpZHRoIC8gc2xpZGUuaGVpZ2h0ICogMTAwKSkgK1xuICAgICAgICAgICAgICAgIFwidndcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJGltZy5hdHRyKFwic2l6ZXNcIiwgc2l6ZXMpLmF0dHIoXCJzcmNzZXRcIiwgc2xpZGUub3B0cy5zcmNzZXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEhpZGUgdGVtcG9yYXJ5IGltYWdlIGFmdGVyIHNvbWUgZGVsYXlcbiAgICAgICAgICBpZiAoc2xpZGUuJGdob3N0KSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoc2xpZGUuJGdob3N0ICYmICFzZWxmLmlzQ2xvc2luZykge1xuICAgICAgICAgICAgICAgIHNsaWRlLiRnaG9zdC5oaWRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIE1hdGgubWluKDMwMCwgTWF0aC5tYXgoMTAwMCwgc2xpZGUuaGVpZ2h0IC8gMTYwMCkpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLmhpZGVMb2FkaW5nKHNsaWRlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmFkZENsYXNzKFwiZmFuY3lib3gtaW1hZ2VcIilcbiAgICAgICAgLmF0dHIoXCJzcmNcIiwgc2xpZGUuc3JjKVxuICAgICAgICAuYXBwZW5kVG8oc2xpZGUuJGNvbnRlbnQpO1xuXG4gICAgICBpZiAoKCRpbWdbMF0uY29tcGxldGUgfHwgJGltZ1swXS5yZWFkeVN0YXRlID09IFwiY29tcGxldGVcIikgJiYgJGltZ1swXS5uYXR1cmFsV2lkdGggJiYgJGltZ1swXS5uYXR1cmFsSGVpZ2h0KSB7XG4gICAgICAgICRpbWcudHJpZ2dlcihcImxvYWRcIik7XG4gICAgICB9IGVsc2UgaWYgKCRpbWdbMF0uZXJyb3IpIHtcbiAgICAgICAgJGltZy50cmlnZ2VyKFwiZXJyb3JcIik7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIENvbXB1dGVzIHRoZSBzbGlkZSBzaXplIGZyb20gaW1hZ2Ugc2l6ZSBhbmQgbWF4V2lkdGgvbWF4SGVpZ2h0XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHJlc29sdmVJbWFnZVNsaWRlU2l6ZTogZnVuY3Rpb24oc2xpZGUsIGltZ1dpZHRoLCBpbWdIZWlnaHQpIHtcbiAgICAgIHZhciBtYXhXaWR0aCA9IHBhcnNlSW50KHNsaWRlLm9wdHMud2lkdGgsIDEwKSxcbiAgICAgICAgbWF4SGVpZ2h0ID0gcGFyc2VJbnQoc2xpZGUub3B0cy5oZWlnaHQsIDEwKTtcblxuICAgICAgLy8gU2V0cyB0aGUgZGVmYXVsdCB2YWx1ZXMgZnJvbSB0aGUgaW1hZ2VcbiAgICAgIHNsaWRlLndpZHRoID0gaW1nV2lkdGg7XG4gICAgICBzbGlkZS5oZWlnaHQgPSBpbWdIZWlnaHQ7XG5cbiAgICAgIGlmIChtYXhXaWR0aCA+IDApIHtcbiAgICAgICAgc2xpZGUud2lkdGggPSBtYXhXaWR0aDtcbiAgICAgICAgc2xpZGUuaGVpZ2h0ID0gTWF0aC5mbG9vcihtYXhXaWR0aCAqIGltZ0hlaWdodCAvIGltZ1dpZHRoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1heEhlaWdodCA+IDApIHtcbiAgICAgICAgc2xpZGUud2lkdGggPSBNYXRoLmZsb29yKG1heEhlaWdodCAqIGltZ1dpZHRoIC8gaW1nSGVpZ2h0KTtcbiAgICAgICAgc2xpZGUuaGVpZ2h0ID0gbWF4SGVpZ2h0O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBDcmVhdGUgaWZyYW1lIHdyYXBwZXIsIGlmcmFtZSBhbmQgYmluZGluZ3NcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHNldElmcmFtZTogZnVuY3Rpb24oc2xpZGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgb3B0cyA9IHNsaWRlLm9wdHMuaWZyYW1lLFxuICAgICAgICAkc2xpZGUgPSBzbGlkZS4kc2xpZGUsXG4gICAgICAgICRpZnJhbWU7XG5cbiAgICAgIHNsaWRlLiRjb250ZW50ID0gJCgnPGRpdiBjbGFzcz1cImZhbmN5Ym94LWNvbnRlbnQnICsgKG9wdHMucHJlbG9hZCA/IFwiIGZhbmN5Ym94LWlzLWhpZGRlblwiIDogXCJcIikgKyAnXCI+PC9kaXY+JylcbiAgICAgICAgLmNzcyhvcHRzLmNzcylcbiAgICAgICAgLmFwcGVuZFRvKCRzbGlkZSk7XG5cbiAgICAgICRzbGlkZS5hZGRDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1cIiArIHNsaWRlLmNvbnRlbnRUeXBlKTtcblxuICAgICAgc2xpZGUuJGlmcmFtZSA9ICRpZnJhbWUgPSAkKG9wdHMudHBsLnJlcGxhY2UoL1xce3JuZFxcfS9nLCBuZXcgRGF0ZSgpLmdldFRpbWUoKSkpXG4gICAgICAgIC5hdHRyKG9wdHMuYXR0cilcbiAgICAgICAgLmFwcGVuZFRvKHNsaWRlLiRjb250ZW50KTtcblxuICAgICAgaWYgKG9wdHMucHJlbG9hZCkge1xuICAgICAgICBzZWxmLnNob3dMb2FkaW5nKHNsaWRlKTtcblxuICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5LCBpdCBpcyBub3QgYWx3YXlzIHBvc3NpYmxlIHRvIGRldGVybWluZSBpZiBpZnJhbWUgaXMgc3VjY2Vzc2Z1bGx5IGxvYWRlZFxuICAgICAgICAvLyAoZHVlIHRvIGJyb3dzZXIgc2VjdXJpdHkgcG9saWN5KVxuXG4gICAgICAgICRpZnJhbWUub24oXCJsb2FkLmZiIGVycm9yLmZiXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICB0aGlzLmlzUmVhZHkgPSAxO1xuXG4gICAgICAgICAgc2xpZGUuJHNsaWRlLnRyaWdnZXIoXCJyZWZyZXNoXCIpO1xuXG4gICAgICAgICAgc2VsZi5hZnRlckxvYWQoc2xpZGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZWNhbGN1bGF0ZSBpZnJhbWUgY29udGVudCBzaXplXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgICAgICAkc2xpZGUub24oXCJyZWZyZXNoLmZiXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciAkY29udGVudCA9IHNsaWRlLiRjb250ZW50LFxuICAgICAgICAgICAgZnJhbWVXaWR0aCA9IG9wdHMuY3NzLndpZHRoLFxuICAgICAgICAgICAgZnJhbWVIZWlnaHQgPSBvcHRzLmNzcy5oZWlnaHQsXG4gICAgICAgICAgICAkY29udGVudHMsXG4gICAgICAgICAgICAkYm9keTtcblxuICAgICAgICAgIGlmICgkaWZyYW1lWzBdLmlzUmVhZHkgIT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgJGNvbnRlbnRzID0gJGlmcmFtZS5jb250ZW50cygpO1xuICAgICAgICAgICAgJGJvZHkgPSAkY29udGVudHMuZmluZChcImJvZHlcIik7XG4gICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuXG4gICAgICAgICAgLy8gQ2FsY3VsYXRlIGNvbnRuZXQgZGltZW5zaW9ucyBpZiBpdCBpcyBhY2Nlc3NpYmxlXG4gICAgICAgICAgaWYgKCRib2R5ICYmICRib2R5Lmxlbmd0aCAmJiAkYm9keS5jaGlsZHJlbigpLmxlbmd0aCkge1xuICAgICAgICAgICAgJGNvbnRlbnQuY3NzKHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiXCIsXG4gICAgICAgICAgICAgIGhlaWdodDogXCJcIlxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChmcmFtZVdpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgZnJhbWVXaWR0aCA9IE1hdGguY2VpbChNYXRoLm1heCgkYm9keVswXS5jbGllbnRXaWR0aCwgJGJvZHkub3V0ZXJXaWR0aCh0cnVlKSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZnJhbWVXaWR0aCkge1xuICAgICAgICAgICAgICAkY29udGVudC53aWR0aChmcmFtZVdpZHRoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZyYW1lSGVpZ2h0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgZnJhbWVIZWlnaHQgPSBNYXRoLmNlaWwoTWF0aC5tYXgoJGJvZHlbMF0uY2xpZW50SGVpZ2h0LCAkYm9keS5vdXRlckhlaWdodCh0cnVlKSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZnJhbWVIZWlnaHQpIHtcbiAgICAgICAgICAgICAgJGNvbnRlbnQuaGVpZ2h0KGZyYW1lSGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAkY29udGVudC5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWlzLWhpZGRlblwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFmdGVyTG9hZChzbGlkZSk7XG4gICAgICB9XG5cbiAgICAgICRpZnJhbWUuYXR0cihcInNyY1wiLCBzbGlkZS5zcmMpO1xuXG4gICAgICAvLyBSZW1vdmUgaWZyYW1lIGlmIGNsb3Npbmcgb3IgY2hhbmdpbmcgZ2FsbGVyeSBpdGVtXG4gICAgICAkc2xpZGUub25lKFwib25SZXNldFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gVGhpcyBoZWxwcyBJRSBub3QgdG8gdGhyb3cgZXJyb3JzIHdoZW4gY2xvc2luZ1xuICAgICAgICB0cnkge1xuICAgICAgICAgICQodGhpcylcbiAgICAgICAgICAgIC5maW5kKFwiaWZyYW1lXCIpXG4gICAgICAgICAgICAuaGlkZSgpXG4gICAgICAgICAgICAudW5iaW5kKClcbiAgICAgICAgICAgIC5hdHRyKFwic3JjXCIsIFwiLy9hYm91dDpibGFua1wiKTtcbiAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuXG4gICAgICAgICQodGhpcylcbiAgICAgICAgICAub2ZmKFwicmVmcmVzaC5mYlwiKVxuICAgICAgICAgIC5lbXB0eSgpO1xuXG4gICAgICAgIHNsaWRlLmlzTG9hZGVkID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gV3JhcCBhbmQgYXBwZW5kIGNvbnRlbnQgdG8gdGhlIHNsaWRlXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uKHNsaWRlLCBjb250ZW50KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmIChzZWxmLmlzQ2xvc2luZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNlbGYuaGlkZUxvYWRpbmcoc2xpZGUpO1xuXG4gICAgICBpZiAoc2xpZGUuJGNvbnRlbnQpIHtcbiAgICAgICAgJC5mYW5jeWJveC5zdG9wKHNsaWRlLiRjb250ZW50KTtcbiAgICAgIH1cblxuICAgICAgc2xpZGUuJHNsaWRlLmVtcHR5KCk7XG5cbiAgICAgIC8vIElmIGNvbnRlbnQgaXMgYSBqUXVlcnkgb2JqZWN0LCB0aGVuIGl0IHdpbGwgYmUgbW92ZWQgdG8gdGhlIHNsaWRlLlxuICAgICAgLy8gVGhlIHBsYWNlaG9sZGVyIGlzIGNyZWF0ZWQgc28gd2Ugd2lsbCBrbm93IHdoZXJlIHRvIHB1dCBpdCBiYWNrLlxuICAgICAgaWYgKGlzUXVlcnkoY29udGVudCkgJiYgY29udGVudC5wYXJlbnQoKS5sZW5ndGgpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIGNvbnRlbnQgaXMgbm90IGFscmVhZHkgbW92ZWQgdG8gZmFuY3lCb3hcbiAgICAgICAgY29udGVudFxuICAgICAgICAgIC5wYXJlbnQoKVxuICAgICAgICAgIC5wYXJlbnQoXCIuZmFuY3lib3gtc2xpZGUtLWlubGluZVwiKVxuICAgICAgICAgIC50cmlnZ2VyKFwib25SZXNldFwiKTtcblxuICAgICAgICAvLyBDcmVhdGUgdGVtcG9yYXJ5IGVsZW1lbnQgbWFya2luZyBvcmlnaW5hbCBwbGFjZSBvZiB0aGUgY29udGVudFxuICAgICAgICBzbGlkZS4kcGxhY2Vob2xkZXIgPSAkKFwiPGRpdj5cIilcbiAgICAgICAgICAuaGlkZSgpXG4gICAgICAgICAgLmluc2VydEFmdGVyKGNvbnRlbnQpO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBjb250ZW50IGlzIHZpc2libGVcbiAgICAgICAgY29udGVudC5jc3MoXCJkaXNwbGF5XCIsIFwiaW5saW5lLWJsb2NrXCIpO1xuICAgICAgfSBlbHNlIGlmICghc2xpZGUuaGFzRXJyb3IpIHtcbiAgICAgICAgLy8gSWYgY29udGVudCBpcyBqdXN0IGEgcGxhaW4gdGV4dCwgdHJ5IHRvIGNvbnZlcnQgaXQgdG8gaHRtbFxuICAgICAgICBpZiAoJC50eXBlKGNvbnRlbnQpID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgY29udGVudCA9ICQoXCI8ZGl2PlwiKVxuICAgICAgICAgICAgLmFwcGVuZCgkLnRyaW0oY29udGVudCkpXG4gICAgICAgICAgICAuY29udGVudHMoKTtcblxuICAgICAgICAgIC8vIElmIHdlIGhhdmUgdGV4dCBub2RlLCB0aGVuIGFkZCB3cmFwcGluZyBlbGVtZW50IHRvIG1ha2UgdmVydGljYWwgYWxpZ25tZW50IHdvcmtcbiAgICAgICAgICBpZiAoY29udGVudFswXS5ub2RlVHlwZSA9PT0gMykge1xuICAgICAgICAgICAgY29udGVudCA9ICQoXCI8ZGl2PlwiKS5odG1sKGNvbnRlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIFwiZmlsdGVyXCIgb3B0aW9uIGlzIHByb3ZpZGVkLCB0aGVuIGZpbHRlciBjb250ZW50XG4gICAgICAgIGlmIChzbGlkZS5vcHRzLmZpbHRlcikge1xuICAgICAgICAgIGNvbnRlbnQgPSAkKFwiPGRpdj5cIilcbiAgICAgICAgICAgIC5odG1sKGNvbnRlbnQpXG4gICAgICAgICAgICAuZmluZChzbGlkZS5vcHRzLmZpbHRlcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2xpZGUuJHNsaWRlLm9uZShcIm9uUmVzZXRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFBhdXNlIGFsbCBodG1sNSB2aWRlby9hdWRpb1xuICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgLmZpbmQoXCJ2aWRlbyxhdWRpb1wiKVxuICAgICAgICAgIC50cmlnZ2VyKFwicGF1c2VcIik7XG5cbiAgICAgICAgLy8gUHV0IGNvbnRlbnQgYmFja1xuICAgICAgICBpZiAoc2xpZGUuJHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgc2xpZGUuJHBsYWNlaG9sZGVyLmFmdGVyKGNvbnRlbnQuaGlkZSgpKS5yZW1vdmUoKTtcblxuICAgICAgICAgIHNsaWRlLiRwbGFjZWhvbGRlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgY3VzdG9tIGNsb3NlIGJ1dHRvblxuICAgICAgICBpZiAoc2xpZGUuJHNtYWxsQnRuKSB7XG4gICAgICAgICAgc2xpZGUuJHNtYWxsQnRuLnJlbW92ZSgpO1xuXG4gICAgICAgICAgc2xpZGUuJHNtYWxsQnRuID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSBjb250ZW50IGFuZCBtYXJrIHNsaWRlIGFzIG5vdCBsb2FkZWRcbiAgICAgICAgaWYgKCFzbGlkZS5oYXNFcnJvcikge1xuICAgICAgICAgICQodGhpcykuZW1wdHkoKTtcblxuICAgICAgICAgIHNsaWRlLmlzTG9hZGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAkKGNvbnRlbnQpLmFwcGVuZFRvKHNsaWRlLiRzbGlkZSk7XG5cbiAgICAgIGlmICgkKGNvbnRlbnQpLmlzKFwidmlkZW8sYXVkaW9cIikpIHtcbiAgICAgICAgJChjb250ZW50KS5hZGRDbGFzcyhcImZhbmN5Ym94LXZpZGVvXCIpO1xuXG4gICAgICAgICQoY29udGVudCkud3JhcChcIjxkaXY+PC9kaXY+XCIpO1xuXG4gICAgICAgIHNsaWRlLmNvbnRlbnRUeXBlID0gXCJ2aWRlb1wiO1xuXG4gICAgICAgIHNsaWRlLm9wdHMud2lkdGggPSBzbGlkZS5vcHRzLndpZHRoIHx8ICQoY29udGVudCkuYXR0cihcIndpZHRoXCIpO1xuICAgICAgICBzbGlkZS5vcHRzLmhlaWdodCA9IHNsaWRlLm9wdHMuaGVpZ2h0IHx8ICQoY29udGVudCkuYXR0cihcImhlaWdodFwiKTtcbiAgICAgIH1cblxuICAgICAgc2xpZGUuJGNvbnRlbnQgPSBzbGlkZS4kc2xpZGVcbiAgICAgICAgLmNoaWxkcmVuKClcbiAgICAgICAgLmZpbHRlcihcImRpdixmb3JtLG1haW4sdmlkZW8sYXVkaW9cIilcbiAgICAgICAgLmZpcnN0KClcbiAgICAgICAgLmFkZENsYXNzKFwiZmFuY3lib3gtY29udGVudFwiKTtcblxuICAgICAgc2xpZGUuJHNsaWRlLmFkZENsYXNzKFwiZmFuY3lib3gtc2xpZGUtLVwiICsgc2xpZGUuY29udGVudFR5cGUpO1xuXG4gICAgICB0aGlzLmFmdGVyTG9hZChzbGlkZSk7XG4gICAgfSxcblxuICAgIC8vIERpc3BsYXkgZXJyb3IgbWVzc2FnZVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgc2V0RXJyb3I6IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICBzbGlkZS5oYXNFcnJvciA9IHRydWU7XG5cbiAgICAgIHNsaWRlLiRzbGlkZVxuICAgICAgICAudHJpZ2dlcihcIm9uUmVzZXRcIilcbiAgICAgICAgLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtc2xpZGUtLVwiICsgc2xpZGUuY29udGVudFR5cGUpXG4gICAgICAgIC5hZGRDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1lcnJvclwiKTtcblxuICAgICAgc2xpZGUuY29udGVudFR5cGUgPSBcImh0bWxcIjtcblxuICAgICAgdGhpcy5zZXRDb250ZW50KHNsaWRlLCB0aGlzLnRyYW5zbGF0ZShzbGlkZSwgc2xpZGUub3B0cy5lcnJvclRwbCkpO1xuXG4gICAgICBpZiAoc2xpZGUucG9zID09PSB0aGlzLmN1cnJQb3MpIHtcbiAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBTaG93IGxvYWRpbmcgaWNvbiBpbnNpZGUgdGhlIHNsaWRlXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgc2hvd0xvYWRpbmc6IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHNsaWRlID0gc2xpZGUgfHwgc2VsZi5jdXJyZW50O1xuXG4gICAgICBpZiAoc2xpZGUgJiYgIXNsaWRlLiRzcGlubmVyKSB7XG4gICAgICAgIHNsaWRlLiRzcGlubmVyID0gJChzZWxmLnRyYW5zbGF0ZShzZWxmLCBzZWxmLm9wdHMuc3Bpbm5lclRwbCkpLmFwcGVuZFRvKHNsaWRlLiRzbGlkZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIFJlbW92ZSBsb2FkaW5nIGljb24gZnJvbSB0aGUgc2xpZGVcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBoaWRlTG9hZGluZzogZnVuY3Rpb24oc2xpZGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgc2xpZGUgPSBzbGlkZSB8fCBzZWxmLmN1cnJlbnQ7XG5cbiAgICAgIGlmIChzbGlkZSAmJiBzbGlkZS4kc3Bpbm5lcikge1xuICAgICAgICBzbGlkZS4kc3Bpbm5lci5yZW1vdmUoKTtcblxuICAgICAgICBkZWxldGUgc2xpZGUuJHNwaW5uZXI7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIEFkanVzdG1lbnRzIGFmdGVyIHNsaWRlIGNvbnRlbnQgaGFzIGJlZW4gbG9hZGVkXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGFmdGVyTG9hZDogZnVuY3Rpb24oc2xpZGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKHNlbGYuaXNDbG9zaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2xpZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICBzbGlkZS5pc0xvYWRlZCA9IHRydWU7XG5cbiAgICAgIHNlbGYudHJpZ2dlcihcImFmdGVyTG9hZFwiLCBzbGlkZSk7XG5cbiAgICAgIHNlbGYuaGlkZUxvYWRpbmcoc2xpZGUpO1xuXG4gICAgICBpZiAoc2xpZGUucG9zID09PSBzZWxmLmN1cnJQb3MpIHtcbiAgICAgICAgc2VsZi51cGRhdGVDdXJzb3IoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNsaWRlLm9wdHMuc21hbGxCdG4gJiYgKCFzbGlkZS4kc21hbGxCdG4gfHwgIXNsaWRlLiRzbWFsbEJ0bi5sZW5ndGgpKSB7XG4gICAgICAgIHNsaWRlLiRzbWFsbEJ0biA9ICQoc2VsZi50cmFuc2xhdGUoc2xpZGUsIHNsaWRlLm9wdHMuYnRuVHBsLnNtYWxsQnRuKSkucHJlcGVuZFRvKHNsaWRlLiRjb250ZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNsaWRlLm9wdHMucHJvdGVjdCAmJiBzbGlkZS4kY29udGVudCAmJiAhc2xpZGUuaGFzRXJyb3IpIHtcbiAgICAgICAgLy8gRGlzYWJsZSByaWdodCBjbGlja1xuICAgICAgICBzbGlkZS4kY29udGVudC5vbihcImNvbnRleHRtZW51LmZiXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBpZiAoZS5idXR0b24gPT0gMikge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBZGQgZmFrZSBlbGVtZW50IG9uIHRvcCBvZiB0aGUgaW1hZ2VcbiAgICAgICAgLy8gVGhpcyBtYWtlcyBhIGJpdCBoYXJkZXIgZm9yIHVzZXIgdG8gc2VsZWN0IGltYWdlXG4gICAgICAgIGlmIChzbGlkZS50eXBlID09PSBcImltYWdlXCIpIHtcbiAgICAgICAgICAkKCc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtc3BhY2ViYWxsXCI+PC9kaXY+JykuYXBwZW5kVG8oc2xpZGUuJGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNlbGYucmV2ZWFsQ29udGVudChzbGlkZSk7XG4gICAgfSxcblxuICAgIC8vIE1ha2UgY29udGVudCB2aXNpYmxlXG4gICAgLy8gVGhpcyBtZXRob2QgaXMgY2FsbGVkIHJpZ2h0IGFmdGVyIGNvbnRlbnQgaGFzIGJlZW4gbG9hZGVkIG9yXG4gICAgLy8gdXNlciBuYXZpZ2F0ZXMgZ2FsbGVyeSBhbmQgdHJhbnNpdGlvbiBzaG91bGQgc3RhcnRcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHJldmVhbENvbnRlbnQ6IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICRzbGlkZSA9IHNsaWRlLiRzbGlkZSxcbiAgICAgICAgZW5kID0gZmFsc2UsXG4gICAgICAgIHN0YXJ0ID0gZmFsc2UsXG4gICAgICAgIGVmZmVjdCxcbiAgICAgICAgZWZmZWN0Q2xhc3NOYW1lLFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgb3BhY2l0eTtcblxuICAgICAgZWZmZWN0ID0gc2xpZGUub3B0c1tzZWxmLmZpcnN0UnVuID8gXCJhbmltYXRpb25FZmZlY3RcIiA6IFwidHJhbnNpdGlvbkVmZmVjdFwiXTtcbiAgICAgIGR1cmF0aW9uID0gc2xpZGUub3B0c1tzZWxmLmZpcnN0UnVuID8gXCJhbmltYXRpb25EdXJhdGlvblwiIDogXCJ0cmFuc2l0aW9uRHVyYXRpb25cIl07XG5cbiAgICAgIGR1cmF0aW9uID0gcGFyc2VJbnQoc2xpZGUuZm9yY2VkRHVyYXRpb24gPT09IHVuZGVmaW5lZCA/IGR1cmF0aW9uIDogc2xpZGUuZm9yY2VkRHVyYXRpb24sIDEwKTtcblxuICAgICAgLy8gRG8gbm90IGFuaW1hdGUgaWYgcmV2ZWFsaW5nIHRoZSBzYW1lIHNsaWRlXG4gICAgICBpZiAoc2xpZGUucG9zID09PSBzZWxmLmN1cnJQb3MpIHtcbiAgICAgICAgaWYgKHNsaWRlLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICBlZmZlY3QgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmlzQW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2xpZGUuaXNNb3ZlZCB8fCBzbGlkZS5wb3MgIT09IHNlbGYuY3VyclBvcyB8fCAhZHVyYXRpb24pIHtcbiAgICAgICAgZWZmZWN0ID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGlmIGNhbiB6b29tXG4gICAgICBpZiAoZWZmZWN0ID09PSBcInpvb21cIikge1xuICAgICAgICBpZiAoc2xpZGUucG9zID09PSBzZWxmLmN1cnJQb3MgJiYgZHVyYXRpb24gJiYgc2xpZGUudHlwZSA9PT0gXCJpbWFnZVwiICYmICFzbGlkZS5oYXNFcnJvciAmJiAoc3RhcnQgPSBzZWxmLmdldFRodW1iUG9zKHNsaWRlKSkpIHtcbiAgICAgICAgICBlbmQgPSBzZWxmLmdldEZpdFBvcyhzbGlkZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWZmZWN0ID0gXCJmYWRlXCI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gWm9vbSBhbmltYXRpb25cbiAgICAgIC8vID09PT09PT09PT09PT09XG4gICAgICBpZiAoZWZmZWN0ID09PSBcInpvb21cIikge1xuICAgICAgICBlbmQuc2NhbGVYID0gZW5kLndpZHRoIC8gc3RhcnQud2lkdGg7XG4gICAgICAgIGVuZC5zY2FsZVkgPSBlbmQuaGVpZ2h0IC8gc3RhcnQuaGVpZ2h0O1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gYW5pbWF0ZSBvcGFjaXR5XG4gICAgICAgIG9wYWNpdHkgPSBzbGlkZS5vcHRzLnpvb21PcGFjaXR5O1xuXG4gICAgICAgIGlmIChvcGFjaXR5ID09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgb3BhY2l0eSA9IE1hdGguYWJzKHNsaWRlLndpZHRoIC8gc2xpZGUuaGVpZ2h0IC0gc3RhcnQud2lkdGggLyBzdGFydC5oZWlnaHQpID4gMC4xO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wYWNpdHkpIHtcbiAgICAgICAgICBzdGFydC5vcGFjaXR5ID0gMC4xO1xuICAgICAgICAgIGVuZC5vcGFjaXR5ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERyYXcgaW1hZ2UgYXQgc3RhcnQgcG9zaXRpb25cbiAgICAgICAgJC5mYW5jeWJveC5zZXRUcmFuc2xhdGUoc2xpZGUuJGNvbnRlbnQucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1pcy1oaWRkZW5cIiksIHN0YXJ0KTtcblxuICAgICAgICBmb3JjZVJlZHJhdyhzbGlkZS4kY29udGVudCk7XG5cbiAgICAgICAgLy8gU3RhcnQgYW5pbWF0aW9uXG4gICAgICAgICQuZmFuY3lib3guYW5pbWF0ZShzbGlkZS4kY29udGVudCwgZW5kLCBkdXJhdGlvbiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5pc0FuaW1hdGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgc2VsZi5jb21wbGV0ZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNlbGYudXBkYXRlU2xpZGUoc2xpZGUpO1xuXG4gICAgICAvLyBTaW1wbHkgc2hvdyBjb250ZW50XG4gICAgICAvLyA9PT09PT09PT09PT09PT09PT09XG5cbiAgICAgIGlmICghZWZmZWN0KSB7XG4gICAgICAgIGZvcmNlUmVkcmF3KCRzbGlkZSk7XG5cbiAgICAgICAgc2xpZGUuJGNvbnRlbnQucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1pcy1oaWRkZW5cIik7XG5cbiAgICAgICAgaWYgKHNsaWRlLnBvcyA9PT0gc2VsZi5jdXJyUG9zKSB7XG4gICAgICAgICAgc2VsZi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAkLmZhbmN5Ym94LnN0b3AoJHNsaWRlKTtcblxuICAgICAgZWZmZWN0Q2xhc3NOYW1lID0gXCJmYW5jeWJveC1hbmltYXRlZCBmYW5jeWJveC1zbGlkZS0tXCIgKyAoc2xpZGUucG9zID49IHNlbGYucHJldlBvcyA/IFwibmV4dFwiIDogXCJwcmV2aW91c1wiKSArIFwiIGZhbmN5Ym94LWZ4LVwiICsgZWZmZWN0O1xuXG4gICAgICAkc2xpZGVcbiAgICAgICAgLnJlbW92ZUF0dHIoXCJzdHlsZVwiKVxuICAgICAgICAucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tY3VycmVudCBmYW5jeWJveC1zbGlkZS0tbmV4dCBmYW5jeWJveC1zbGlkZS0tcHJldmlvdXNcIilcbiAgICAgICAgLmFkZENsYXNzKGVmZmVjdENsYXNzTmFtZSk7XG5cbiAgICAgIHNsaWRlLiRjb250ZW50LnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtaXMtaGlkZGVuXCIpO1xuXG4gICAgICAvLyBGb3JjZSByZWZsb3cgZm9yIENTUzMgdHJhbnNpdGlvbnNcbiAgICAgIGZvcmNlUmVkcmF3KCRzbGlkZSk7XG5cbiAgICAgICQuZmFuY3lib3guYW5pbWF0ZShcbiAgICAgICAgJHNsaWRlLFxuICAgICAgICBcImZhbmN5Ym94LXNsaWRlLS1jdXJyZW50XCIsXG4gICAgICAgIGR1cmF0aW9uLFxuICAgICAgICBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgJHNsaWRlLnJlbW92ZUNsYXNzKGVmZmVjdENsYXNzTmFtZSkucmVtb3ZlQXR0cihcInN0eWxlXCIpO1xuXG4gICAgICAgICAgaWYgKHNsaWRlLnBvcyA9PT0gc2VsZi5jdXJyUG9zKSB7XG4gICAgICAgICAgICBzZWxmLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvLyBDaGVjayBpZiB3ZSBjYW4gYW5kIGhhdmUgdG8gem9vbSBmcm9tIHRodW1ibmFpbFxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBnZXRUaHVtYlBvczogZnVuY3Rpb24oc2xpZGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgcmV6ID0gZmFsc2UsXG4gICAgICAgICR0aHVtYiA9IHNsaWRlLm9wdHMuJHRodW1iLFxuICAgICAgICB0aHVtYlBvcyA9ICR0aHVtYiAmJiAkdGh1bWIubGVuZ3RoICYmICR0aHVtYlswXS5vd25lckRvY3VtZW50ID09PSBkb2N1bWVudCA/ICR0aHVtYi5vZmZzZXQoKSA6IDAsXG4gICAgICAgIHNsaWRlUG9zO1xuXG4gICAgICAvLyBDaGVjayBpZiBlbGVtZW50IGlzIGluc2lkZSB0aGUgdmlld3BvcnQgYnkgYXQgbGVhc3QgMSBwaXhlbFxuICAgICAgdmFyIGlzRWxlbWVudFZpc2libGUgPSBmdW5jdGlvbigkZWwpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSAkZWxbMF0sXG4gICAgICAgICAgZWxlbWVudFJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgIHBhcmVudFJlY3RzID0gW10sXG4gICAgICAgICAgdmlzaWJsZUluQWxsUGFyZW50cztcblxuICAgICAgICB3aGlsZSAoZWxlbWVudC5wYXJlbnRFbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKCQoZWxlbWVudC5wYXJlbnRFbGVtZW50KS5jc3MoXCJvdmVyZmxvd1wiKSA9PT0gXCJoaWRkZW5cIiB8fCAkKGVsZW1lbnQucGFyZW50RWxlbWVudCkuY3NzKFwib3ZlcmZsb3dcIikgPT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgICBwYXJlbnRSZWN0cy5wdXNoKGVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZpc2libGVJbkFsbFBhcmVudHMgPSBwYXJlbnRSZWN0cy5ldmVyeShmdW5jdGlvbihwYXJlbnRSZWN0KSB7XG4gICAgICAgICAgdmFyIHZpc2libGVQaXhlbFggPSBNYXRoLm1pbihlbGVtZW50UmVjdC5yaWdodCwgcGFyZW50UmVjdC5yaWdodCkgLSBNYXRoLm1heChlbGVtZW50UmVjdC5sZWZ0LCBwYXJlbnRSZWN0LmxlZnQpO1xuICAgICAgICAgIHZhciB2aXNpYmxlUGl4ZWxZID0gTWF0aC5taW4oZWxlbWVudFJlY3QuYm90dG9tLCBwYXJlbnRSZWN0LmJvdHRvbSkgLSBNYXRoLm1heChlbGVtZW50UmVjdC50b3AsIHBhcmVudFJlY3QudG9wKTtcblxuICAgICAgICAgIHJldHVybiB2aXNpYmxlUGl4ZWxYID4gMCAmJiB2aXNpYmxlUGl4ZWxZID4gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICB2aXNpYmxlSW5BbGxQYXJlbnRzICYmXG4gICAgICAgICAgZWxlbWVudFJlY3QuYm90dG9tID4gMCAmJlxuICAgICAgICAgIGVsZW1lbnRSZWN0LnJpZ2h0ID4gMCAmJlxuICAgICAgICAgIGVsZW1lbnRSZWN0LmxlZnQgPCAkKHdpbmRvdykud2lkdGgoKSAmJlxuICAgICAgICAgIGVsZW1lbnRSZWN0LnRvcCA8ICQod2luZG93KS5oZWlnaHQoKVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgaWYgKHRodW1iUG9zICYmIGlzRWxlbWVudFZpc2libGUoJHRodW1iKSkge1xuICAgICAgICBzbGlkZVBvcyA9IHNlbGYuJHJlZnMuc3RhZ2Uub2Zmc2V0KCk7XG5cbiAgICAgICAgcmV6ID0ge1xuICAgICAgICAgIHRvcDogdGh1bWJQb3MudG9wIC0gc2xpZGVQb3MudG9wICsgcGFyc2VGbG9hdCgkdGh1bWIuY3NzKFwiYm9yZGVyLXRvcC13aWR0aFwiKSB8fCAwKSxcbiAgICAgICAgICBsZWZ0OiB0aHVtYlBvcy5sZWZ0IC0gc2xpZGVQb3MubGVmdCArIHBhcnNlRmxvYXQoJHRodW1iLmNzcyhcImJvcmRlci1sZWZ0LXdpZHRoXCIpIHx8IDApLFxuICAgICAgICAgIHdpZHRoOiAkdGh1bWIud2lkdGgoKSxcbiAgICAgICAgICBoZWlnaHQ6ICR0aHVtYi5oZWlnaHQoKSxcbiAgICAgICAgICBzY2FsZVg6IDEsXG4gICAgICAgICAgc2NhbGVZOiAxXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXo7XG4gICAgfSxcblxuICAgIC8vIEZpbmFsIGFkanVzdG1lbnRzIGFmdGVyIGN1cnJlbnQgZ2FsbGVyeSBpdGVtIGlzIG1vdmVkIHRvIHBvc2l0aW9uXG4gICAgLy8gYW5kIGl0YHMgY29udGVudCBpcyBsb2FkZWRcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgY3VycmVudCA9IHNlbGYuY3VycmVudCxcbiAgICAgICAgc2xpZGVzID0ge307XG5cbiAgICAgIGlmIChjdXJyZW50LmlzTW92ZWQgfHwgIWN1cnJlbnQuaXNMb2FkZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWN1cnJlbnQuaXNDb21wbGV0ZSkge1xuICAgICAgICBjdXJyZW50LmlzQ29tcGxldGUgPSB0cnVlO1xuXG4gICAgICAgIGN1cnJlbnQuJHNsaWRlLnNpYmxpbmdzKCkudHJpZ2dlcihcIm9uUmVzZXRcIik7XG5cbiAgICAgICAgc2VsZi5wcmVsb2FkKFwiaW5saW5lXCIpO1xuXG4gICAgICAgIC8vIFRyaWdnZXIgYW55IENTUzMgdHJhbnNpdG9uIGluc2lkZSB0aGUgc2xpZGVcbiAgICAgICAgZm9yY2VSZWRyYXcoY3VycmVudC4kc2xpZGUpO1xuXG4gICAgICAgIGN1cnJlbnQuJHNsaWRlLmFkZENsYXNzKFwiZmFuY3lib3gtc2xpZGUtLWNvbXBsZXRlXCIpO1xuXG4gICAgICAgIC8vIFJlbW92ZSB1bm5lY2Vzc2FyeSBzbGlkZXNcbiAgICAgICAgJC5lYWNoKHNlbGYuc2xpZGVzLCBmdW5jdGlvbihrZXksIHNsaWRlKSB7XG4gICAgICAgICAgaWYgKHNsaWRlLnBvcyA+PSBzZWxmLmN1cnJQb3MgLSAxICYmIHNsaWRlLnBvcyA8PSBzZWxmLmN1cnJQb3MgKyAxKSB7XG4gICAgICAgICAgICBzbGlkZXNbc2xpZGUucG9zXSA9IHNsaWRlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2xpZGUpIHtcbiAgICAgICAgICAgICQuZmFuY3lib3guc3RvcChzbGlkZS4kc2xpZGUpO1xuXG4gICAgICAgICAgICBzbGlkZS4kc2xpZGUub2ZmKCkucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBzZWxmLnNsaWRlcyA9IHNsaWRlcztcbiAgICAgIH1cblxuICAgICAgc2VsZi5pc0FuaW1hdGluZyA9IGZhbHNlO1xuXG4gICAgICBzZWxmLnVwZGF0ZUN1cnNvcigpO1xuXG4gICAgICBzZWxmLnRyaWdnZXIoXCJhZnRlclNob3dcIik7XG5cbiAgICAgIC8vIFBsYXkgZmlyc3QgaHRtbDUgdmlkZW8vYXVkaW9cbiAgICAgIGN1cnJlbnQuJHNsaWRlXG4gICAgICAgIC5maW5kKFwidmlkZW8sYXVkaW9cIilcbiAgICAgICAgLmZpbHRlcihcIjp2aXNpYmxlOmZpcnN0XCIpXG4gICAgICAgIC50cmlnZ2VyKFwicGxheVwiKTtcblxuICAgICAgLy8gVHJ5IHRvIGZvY3VzIG9uIHRoZSBmaXJzdCBmb2N1c2FibGUgZWxlbWVudFxuICAgICAgaWYgKFxuICAgICAgICAkKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLmlzKFwiW2Rpc2FibGVkXVwiKSB8fFxuICAgICAgICAoY3VycmVudC5vcHRzLmF1dG9Gb2N1cyAmJiAhKGN1cnJlbnQudHlwZSA9PSBcImltYWdlXCIgfHwgY3VycmVudC50eXBlID09PSBcImlmcmFtZVwiKSlcbiAgICAgICkge1xuICAgICAgICBzZWxmLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIFByZWxvYWQgbmV4dCBhbmQgcHJldmlvdXMgc2xpZGVzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHByZWxvYWQ6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgbmV4dCA9IHNlbGYuc2xpZGVzW3NlbGYuY3VyclBvcyArIDFdLFxuICAgICAgICBwcmV2ID0gc2VsZi5zbGlkZXNbc2VsZi5jdXJyUG9zIC0gMV07XG5cbiAgICAgIGlmIChuZXh0ICYmIG5leHQudHlwZSA9PT0gdHlwZSkge1xuICAgICAgICBzZWxmLmxvYWRTbGlkZShuZXh0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHByZXYgJiYgcHJldi50eXBlID09PSB0eXBlKSB7XG4gICAgICAgIHNlbGYubG9hZFNsaWRlKHByZXYpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBUcnkgdG8gZmluZCBhbmQgZm9jdXMgb24gdGhlIGZpcnN0IGZvY3VzYWJsZSBlbGVtZW50XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgZm9jdXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmN1cnJlbnQsXG4gICAgICAgICRlbDtcblxuICAgICAgaWYgKHRoaXMuaXNDbG9zaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudC5pc0NvbXBsZXRlICYmIGN1cnJlbnQuJGNvbnRlbnQpIHtcbiAgICAgICAgLy8gTG9vayBmb3IgZmlyc3QgaW5wdXQgd2l0aCBhdXRvZm9jdXMgYXR0cmlidXRlXG4gICAgICAgICRlbCA9IGN1cnJlbnQuJGNvbnRlbnQuZmluZChcImlucHV0W2F1dG9mb2N1c106ZW5hYmxlZDp2aXNpYmxlOmZpcnN0XCIpO1xuXG4gICAgICAgIGlmICghJGVsLmxlbmd0aCkge1xuICAgICAgICAgICRlbCA9IGN1cnJlbnQuJGNvbnRlbnQuZmluZChcImJ1dHRvbiw6aW5wdXQsW3RhYmluZGV4XSxhXCIpLmZpbHRlcihcIjplbmFibGVkOnZpc2libGU6Zmlyc3RcIik7XG4gICAgICAgIH1cblxuICAgICAgICAkZWwgPSAkZWwgJiYgJGVsLmxlbmd0aCA/ICRlbCA6IGN1cnJlbnQuJGNvbnRlbnQ7XG5cbiAgICAgICAgJGVsLnRyaWdnZXIoXCJmb2N1c1wiKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gQWN0aXZhdGVzIGN1cnJlbnQgaW5zdGFuY2UgLSBicmluZ3MgY29udGFpbmVyIHRvIHRoZSBmcm9udCBhbmQgZW5hYmxlcyBrZXlib2FyZCxcbiAgICAvLyBub3RpZmllcyBvdGhlciBpbnN0YW5jZXMgYWJvdXQgZGVhY3RpdmF0aW5nXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBhY3RpdmF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIERlYWN0aXZhdGUgYWxsIGluc3RhbmNlc1xuICAgICAgJChcIi5mYW5jeWJveC1jb250YWluZXJcIikuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gJCh0aGlzKS5kYXRhKFwiRmFuY3lCb3hcIik7XG5cbiAgICAgICAgLy8gU2tpcCBzZWxmIGFuZCBjbG9zaW5nIGluc3RhbmNlc1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuaWQgIT09IHNlbGYuaWQgJiYgIWluc3RhbmNlLmlzQ2xvc2luZykge1xuICAgICAgICAgIGluc3RhbmNlLnRyaWdnZXIoXCJvbkRlYWN0aXZhdGVcIik7XG5cbiAgICAgICAgICBpbnN0YW5jZS5yZW1vdmVFdmVudHMoKTtcblxuICAgICAgICAgIGluc3RhbmNlLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2VsZi5pc1Zpc2libGUgPSB0cnVlO1xuXG4gICAgICBpZiAoc2VsZi5jdXJyZW50IHx8IHNlbGYuaXNJZGxlKSB7XG4gICAgICAgIHNlbGYudXBkYXRlKCk7XG5cbiAgICAgICAgc2VsZi51cGRhdGVDb250cm9scygpO1xuICAgICAgfVxuXG4gICAgICBzZWxmLnRyaWdnZXIoXCJvbkFjdGl2YXRlXCIpO1xuXG4gICAgICBzZWxmLmFkZEV2ZW50cygpO1xuICAgIH0sXG5cbiAgICAvLyBTdGFydCBjbG9zaW5nIHByb2NlZHVyZVxuICAgIC8vIFRoaXMgd2lsbCBzdGFydCBcInpvb20tb3V0XCIgYW5pbWF0aW9uIGlmIG5lZWRlZCBhbmQgY2xlYW4gZXZlcnl0aGluZyB1cCBhZnRlcndhcmRzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBjbG9zZTogZnVuY3Rpb24oZSwgZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBjdXJyZW50ID0gc2VsZi5jdXJyZW50LFxuICAgICAgICBlZmZlY3QsXG4gICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAkY29udGVudCxcbiAgICAgICAgZG9tUmVjdCxcbiAgICAgICAgb3BhY2l0eSxcbiAgICAgICAgc3RhcnQsXG4gICAgICAgIGVuZDtcblxuICAgICAgdmFyIGRvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5jbGVhblVwKGUpO1xuICAgICAgfTtcblxuICAgICAgaWYgKHNlbGYuaXNDbG9zaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5pc0Nsb3NpbmcgPSB0cnVlO1xuXG4gICAgICAvLyBJZiBiZWZvcmVDbG9zZSBjYWxsYmFjayBwcmV2ZW50cyBjbG9zaW5nLCBtYWtlIHN1cmUgY29udGVudCBpcyBjZW50ZXJlZFxuICAgICAgaWYgKHNlbGYudHJpZ2dlcihcImJlZm9yZUNsb3NlXCIsIGUpID09PSBmYWxzZSkge1xuICAgICAgICBzZWxmLmlzQ2xvc2luZyA9IGZhbHNlO1xuXG4gICAgICAgIHJlcXVlc3RBRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgYWxsIGV2ZW50c1xuICAgICAgLy8gSWYgdGhlcmUgYXJlIG11bHRpcGxlIGluc3RhbmNlcywgdGhleSB3aWxsIGJlIHNldCBhZ2FpbiBieSBcImFjdGl2YXRlXCIgbWV0aG9kXG4gICAgICBzZWxmLnJlbW92ZUV2ZW50cygpO1xuXG4gICAgICBpZiAoY3VycmVudC50aW1vdXRzKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChjdXJyZW50LnRpbW91dHMpO1xuICAgICAgfVxuXG4gICAgICAkY29udGVudCA9IGN1cnJlbnQuJGNvbnRlbnQ7XG4gICAgICBlZmZlY3QgPSBjdXJyZW50Lm9wdHMuYW5pbWF0aW9uRWZmZWN0O1xuICAgICAgZHVyYXRpb24gPSAkLmlzTnVtZXJpYyhkKSA/IGQgOiBlZmZlY3QgPyBjdXJyZW50Lm9wdHMuYW5pbWF0aW9uRHVyYXRpb24gOiAwO1xuXG4gICAgICAvLyBSZW1vdmUgb3RoZXIgc2xpZGVzXG4gICAgICBjdXJyZW50LiRzbGlkZVxuICAgICAgICAub2ZmKHRyYW5zaXRpb25FbmQpXG4gICAgICAgIC5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1jb21wbGV0ZSBmYW5jeWJveC1zbGlkZS0tbmV4dCBmYW5jeWJveC1zbGlkZS0tcHJldmlvdXMgZmFuY3lib3gtYW5pbWF0ZWRcIik7XG5cbiAgICAgIGN1cnJlbnQuJHNsaWRlXG4gICAgICAgIC5zaWJsaW5ncygpXG4gICAgICAgIC50cmlnZ2VyKFwib25SZXNldFwiKVxuICAgICAgICAucmVtb3ZlKCk7XG5cbiAgICAgIC8vIFRyaWdnZXIgYW5pbWF0aW9uc1xuICAgICAgaWYgKGR1cmF0aW9uKSB7XG4gICAgICAgIHNlbGYuJHJlZnMuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtaXMtb3BlblwiKS5hZGRDbGFzcyhcImZhbmN5Ym94LWlzLWNsb3NpbmdcIik7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFuIHVwXG4gICAgICBzZWxmLmhpZGVMb2FkaW5nKGN1cnJlbnQpO1xuXG4gICAgICBzZWxmLmhpZGVDb250cm9scygpO1xuXG4gICAgICBzZWxmLnVwZGF0ZUN1cnNvcigpO1xuXG4gICAgICAvLyBDaGVjayBpZiBwb3NzaWJsZSB0byB6b29tLW91dFxuICAgICAgaWYgKFxuICAgICAgICBlZmZlY3QgPT09IFwiem9vbVwiICYmXG4gICAgICAgICEoZSAhPT0gdHJ1ZSAmJiAkY29udGVudCAmJiBkdXJhdGlvbiAmJiBjdXJyZW50LnR5cGUgPT09IFwiaW1hZ2VcIiAmJiAhY3VycmVudC5oYXNFcnJvciAmJiAoZW5kID0gc2VsZi5nZXRUaHVtYlBvcyhjdXJyZW50KSkpXG4gICAgICApIHtcbiAgICAgICAgZWZmZWN0ID0gXCJmYWRlXCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChlZmZlY3QgPT09IFwiem9vbVwiKSB7XG4gICAgICAgICQuZmFuY3lib3guc3RvcCgkY29udGVudCk7XG5cbiAgICAgICAgZG9tUmVjdCA9ICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKCRjb250ZW50KTtcblxuICAgICAgICBzdGFydCA9IHtcbiAgICAgICAgICB0b3A6IGRvbVJlY3QudG9wLFxuICAgICAgICAgIGxlZnQ6IGRvbVJlY3QubGVmdCxcbiAgICAgICAgICBzY2FsZVg6IGRvbVJlY3Qud2lkdGggLyBlbmQud2lkdGgsXG4gICAgICAgICAgc2NhbGVZOiBkb21SZWN0LmhlaWdodCAvIGVuZC5oZWlnaHQsXG4gICAgICAgICAgd2lkdGg6IGVuZC53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGVuZC5oZWlnaHRcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIGFuaW1hdGUgb3BhY2l0eVxuICAgICAgICBvcGFjaXR5ID0gY3VycmVudC5vcHRzLnpvb21PcGFjaXR5O1xuXG4gICAgICAgIGlmIChvcGFjaXR5ID09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgb3BhY2l0eSA9IE1hdGguYWJzKGN1cnJlbnQud2lkdGggLyBjdXJyZW50LmhlaWdodCAtIGVuZC53aWR0aCAvIGVuZC5oZWlnaHQpID4gMC4xO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wYWNpdHkpIHtcbiAgICAgICAgICBlbmQub3BhY2l0eSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICAkLmZhbmN5Ym94LnNldFRyYW5zbGF0ZSgkY29udGVudCwgc3RhcnQpO1xuXG4gICAgICAgIGZvcmNlUmVkcmF3KCRjb250ZW50KTtcblxuICAgICAgICAkLmZhbmN5Ym94LmFuaW1hdGUoJGNvbnRlbnQsIGVuZCwgZHVyYXRpb24sIGRvbmUpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWZmZWN0ICYmIGR1cmF0aW9uKSB7XG4gICAgICAgIC8vIElmIHNraXAgYW5pbWF0aW9uXG4gICAgICAgIGlmIChlID09PSB0cnVlKSB7XG4gICAgICAgICAgc2V0VGltZW91dChkb25lLCBkdXJhdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJC5mYW5jeWJveC5hbmltYXRlKFxuICAgICAgICAgICAgY3VycmVudC4kc2xpZGUucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tY3VycmVudFwiKSxcbiAgICAgICAgICAgIFwiZmFuY3lib3gtYW5pbWF0ZWQgZmFuY3lib3gtc2xpZGUtLXByZXZpb3VzIGZhbmN5Ym94LWZ4LVwiICsgZWZmZWN0LFxuICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICBkb25lXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLy8gRmluYWwgYWRqdXN0bWVudHMgYWZ0ZXIgcmVtb3ZpbmcgdGhlIGluc3RhbmNlXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBjbGVhblVwOiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICRib2R5ID0gJChcImJvZHlcIiksXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICBzY3JvbGxUb3A7XG5cbiAgICAgIHNlbGYuY3VycmVudC4kc2xpZGUudHJpZ2dlcihcIm9uUmVzZXRcIik7XG5cbiAgICAgIHNlbGYuJHJlZnMuY29udGFpbmVyLmVtcHR5KCkucmVtb3ZlKCk7XG5cbiAgICAgIHNlbGYudHJpZ2dlcihcImFmdGVyQ2xvc2VcIiwgZSk7XG5cbiAgICAgIC8vIFBsYWNlIGJhY2sgZm9jdXNcbiAgICAgIGlmIChzZWxmLiRsYXN0Rm9jdXMgJiYgISFzZWxmLmN1cnJlbnQub3B0cy5iYWNrRm9jdXMpIHtcbiAgICAgICAgc2VsZi4kbGFzdEZvY3VzLnRyaWdnZXIoXCJmb2N1c1wiKTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5jdXJyZW50ID0gbnVsbDtcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgYXJlIG90aGVyIGluc3RhbmNlc1xuICAgICAgaW5zdGFuY2UgPSAkLmZhbmN5Ym94LmdldEluc3RhbmNlKCk7XG5cbiAgICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICBpbnN0YW5jZS5hY3RpdmF0ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGJvZHkucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1hY3RpdmUgY29tcGVuc2F0ZS1mb3Itc2Nyb2xsYmFyXCIpO1xuXG4gICAgICAgICQoXCIjZmFuY3lib3gtc3R5bGUtbm9zY3JvbGxcIikucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIENhbGwgY2FsbGJhY2sgYW5kIHRyaWdnZXIgYW4gZXZlbnRcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICB0cmlnZ2VyOiBmdW5jdGlvbihuYW1lLCBzbGlkZSkge1xuICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLFxuICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgb2JqID0gc2xpZGUgJiYgc2xpZGUub3B0cyA/IHNsaWRlIDogc2VsZi5jdXJyZW50LFxuICAgICAgICByZXo7XG5cbiAgICAgIGlmIChvYmopIHtcbiAgICAgICAgYXJncy51bnNoaWZ0KG9iaik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmogPSBzZWxmO1xuICAgICAgfVxuXG4gICAgICBhcmdzLnVuc2hpZnQoc2VsZik7XG5cbiAgICAgIGlmICgkLmlzRnVuY3Rpb24ob2JqLm9wdHNbbmFtZV0pKSB7XG4gICAgICAgIHJleiA9IG9iai5vcHRzW25hbWVdLmFwcGx5KG9iaiwgYXJncyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXogPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiByZXo7XG4gICAgICB9XG5cbiAgICAgIGlmIChuYW1lID09PSBcImFmdGVyQ2xvc2VcIiB8fCAhc2VsZi4kcmVmcykge1xuICAgICAgICAkRC50cmlnZ2VyKG5hbWUgKyBcIi5mYlwiLCBhcmdzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuJHJlZnMuY29udGFpbmVyLnRyaWdnZXIobmFtZSArIFwiLmZiXCIsIGFyZ3MpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBVcGRhdGUgaW5mb2JhciB2YWx1ZXMsIG5hdmlnYXRpb24gYnV0dG9uIHN0YXRlcyBhbmQgcmV2ZWFsIGNhcHRpb25cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHVwZGF0ZUNvbnRyb2xzOiBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBjdXJyZW50ID0gc2VsZi5jdXJyZW50LFxuICAgICAgICBpbmRleCA9IGN1cnJlbnQuaW5kZXgsXG4gICAgICAgIGNhcHRpb24gPSBjdXJyZW50Lm9wdHMuY2FwdGlvbixcbiAgICAgICAgJGNvbnRhaW5lciA9IHNlbGYuJHJlZnMuY29udGFpbmVyLFxuICAgICAgICAkY2FwdGlvbiA9IHNlbGYuJHJlZnMuY2FwdGlvbjtcblxuICAgICAgLy8gUmVjYWxjdWxhdGUgY29udGVudCBkaW1lbnNpb25zXG4gICAgICBjdXJyZW50LiRzbGlkZS50cmlnZ2VyKFwicmVmcmVzaFwiKTtcblxuICAgICAgc2VsZi4kY2FwdGlvbiA9IGNhcHRpb24gJiYgY2FwdGlvbi5sZW5ndGggPyAkY2FwdGlvbi5odG1sKGNhcHRpb24pIDogbnVsbDtcblxuICAgICAgaWYgKCFzZWxmLmlzSGlkZGVuQ29udHJvbHMgJiYgIXNlbGYuaXNJZGxlKSB7XG4gICAgICAgIHNlbGYuc2hvd0NvbnRyb2xzKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBpbmZvIGFuZCBuYXZpZ2F0aW9uIGVsZW1lbnRzXG4gICAgICAkY29udGFpbmVyLmZpbmQoXCJbZGF0YS1mYW5jeWJveC1jb3VudF1cIikuaHRtbChzZWxmLmdyb3VwLmxlbmd0aCk7XG4gICAgICAkY29udGFpbmVyLmZpbmQoXCJbZGF0YS1mYW5jeWJveC1pbmRleF1cIikuaHRtbChpbmRleCArIDEpO1xuXG4gICAgICAkY29udGFpbmVyLmZpbmQoXCJbZGF0YS1mYW5jeWJveC1wcmV2XVwiKS50b2dnbGVDbGFzcyhcImRpc2FibGVkXCIsICFjdXJyZW50Lm9wdHMubG9vcCAmJiBpbmRleCA8PSAwKTtcbiAgICAgICRjb250YWluZXIuZmluZChcIltkYXRhLWZhbmN5Ym94LW5leHRdXCIpLnRvZ2dsZUNsYXNzKFwiZGlzYWJsZWRcIiwgIWN1cnJlbnQub3B0cy5sb29wICYmIGluZGV4ID49IHNlbGYuZ3JvdXAubGVuZ3RoIC0gMSk7XG5cbiAgICAgIGlmIChjdXJyZW50LnR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgICAgICAvLyBSZS1lbmFibGUgYnV0dG9uczsgdXBkYXRlIGRvd25sb2FkIGJ1dHRvbiBzb3VyY2VcbiAgICAgICAgJGNvbnRhaW5lclxuICAgICAgICAgIC5maW5kKFwiW2RhdGEtZmFuY3lib3gtem9vbV1cIilcbiAgICAgICAgICAuc2hvdygpXG4gICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgLmZpbmQoXCJbZGF0YS1mYW5jeWJveC1kb3dubG9hZF1cIilcbiAgICAgICAgICAuYXR0cihcImhyZWZcIiwgY3VycmVudC5vcHRzLmltYWdlLnNyYyB8fCBjdXJyZW50LnNyYylcbiAgICAgICAgICAuc2hvdygpO1xuICAgICAgfSBlbHNlIGlmIChjdXJyZW50Lm9wdHMudG9vbGJhcikge1xuICAgICAgICAkY29udGFpbmVyLmZpbmQoXCJbZGF0YS1mYW5jeWJveC1kb3dubG9hZF0sW2RhdGEtZmFuY3lib3gtem9vbV1cIikuaGlkZSgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBIaWRlIHRvb2xiYXIgYW5kIGNhcHRpb25cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGhpZGVDb250cm9sczogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmlzSGlkZGVuQ29udHJvbHMgPSB0cnVlO1xuXG4gICAgICAvLyB0aGlzLiRyZWZzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LXNob3ctaW5mb2JhciBmYW5jeWJveC1zaG93LXRvb2xiYXIgZmFuY3lib3gtc2hvdy1jYXB0aW9uIGZhbmN5Ym94LXNob3ctbmF2XCIpO1xuICAgIH0sXG5cbiAgICBzaG93Q29udHJvbHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBvcHRzID0gc2VsZi5jdXJyZW50ID8gc2VsZi5jdXJyZW50Lm9wdHMgOiBzZWxmLm9wdHMsXG4gICAgICAgICRjb250YWluZXIgPSBzZWxmLiRyZWZzLmNvbnRhaW5lcjtcblxuICAgICAgc2VsZi5pc0hpZGRlbkNvbnRyb2xzID0gZmFsc2U7XG4gICAgICBzZWxmLmlkbGVTZWNvbmRzQ291bnRlciA9IDA7XG5cbiAgICAgICRjb250YWluZXJcbiAgICAgICAgLnRvZ2dsZUNsYXNzKFwiZmFuY3lib3gtc2hvdy10b29sYmFyXCIsICEhKG9wdHMudG9vbGJhciAmJiBvcHRzLmJ1dHRvbnMpKVxuICAgICAgICAudG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1zaG93LWluZm9iYXJcIiwgISEob3B0cy5pbmZvYmFyICYmIHNlbGYuZ3JvdXAubGVuZ3RoID4gMSkpXG4gICAgICAgIC50b2dnbGVDbGFzcyhcImZhbmN5Ym94LXNob3ctbmF2XCIsICEhKG9wdHMuYXJyb3dzICYmIHNlbGYuZ3JvdXAubGVuZ3RoID4gMSkpXG4gICAgICAgIC50b2dnbGVDbGFzcyhcImZhbmN5Ym94LWlzLW1vZGFsXCIsICEhb3B0cy5tb2RhbCk7XG5cbiAgICAgIGlmIChzZWxmLiRjYXB0aW9uKSB7XG4gICAgICAgICRjb250YWluZXIuYWRkQ2xhc3MoXCJmYW5jeWJveC1zaG93LWNhcHRpb24gXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LXNob3ctY2FwdGlvblwiKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gVG9nZ2xlIHRvb2xiYXIgYW5kIGNhcHRpb25cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgdG9nZ2xlQ29udHJvbHM6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuaXNIaWRkZW5Db250cm9scykge1xuICAgICAgICB0aGlzLnNob3dDb250cm9scygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5oaWRlQ29udHJvbHMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gICQuZmFuY3lib3ggPSB7XG4gICAgdmVyc2lvbjogXCIzLjMuNVwiLFxuICAgIGRlZmF1bHRzOiBkZWZhdWx0cyxcblxuICAgIC8vIEdldCBjdXJyZW50IGluc3RhbmNlIGFuZCBleGVjdXRlIGEgY29tbWFuZC5cbiAgICAvL1xuICAgIC8vIEV4YW1wbGVzIG9mIHVzYWdlOlxuICAgIC8vXG4gICAgLy8gICAkaW5zdGFuY2UgPSAkLmZhbmN5Ym94LmdldEluc3RhbmNlKCk7XG4gICAgLy8gICAkLmZhbmN5Ym94LmdldEluc3RhbmNlKCkuanVtcFRvKCAxICk7XG4gICAgLy8gICAkLmZhbmN5Ym94LmdldEluc3RhbmNlKCAnanVtcFRvJywgMSApO1xuICAgIC8vICAgJC5mYW5jeWJveC5nZXRJbnN0YW5jZSggZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgICAgY29uc29sZS5pbmZvKCB0aGlzLmN1cnJJbmRleCApO1xuICAgIC8vICAgfSk7XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBnZXRJbnN0YW5jZTogZnVuY3Rpb24oY29tbWFuZCkge1xuICAgICAgdmFyIGluc3RhbmNlID0gJCgnLmZhbmN5Ym94LWNvbnRhaW5lcjpub3QoXCIuZmFuY3lib3gtaXMtY2xvc2luZ1wiKTpsYXN0JykuZGF0YShcIkZhbmN5Qm94XCIpLFxuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblxuICAgICAgaWYgKGluc3RhbmNlIGluc3RhbmNlb2YgRmFuY3lCb3gpIHtcbiAgICAgICAgaWYgKCQudHlwZShjb21tYW5kKSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGluc3RhbmNlW2NvbW1hbmRdLmFwcGx5KGluc3RhbmNlLCBhcmdzKTtcbiAgICAgICAgfSBlbHNlIGlmICgkLnR5cGUoY29tbWFuZCkgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIGNvbW1hbmQuYXBwbHkoaW5zdGFuY2UsIGFyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8vIENyZWF0ZSBuZXcgaW5zdGFuY2VcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09XG5cbiAgICBvcGVuOiBmdW5jdGlvbihpdGVtcywgb3B0cywgaW5kZXgpIHtcbiAgICAgIHJldHVybiBuZXcgRmFuY3lCb3goaXRlbXMsIG9wdHMsIGluZGV4KTtcbiAgICB9LFxuXG4gICAgLy8gQ2xvc2UgY3VycmVudCBvciBhbGwgaW5zdGFuY2VzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBjbG9zZTogZnVuY3Rpb24oYWxsKSB7XG4gICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmdldEluc3RhbmNlKCk7XG5cbiAgICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICBpbnN0YW5jZS5jbG9zZSgpO1xuXG4gICAgICAgIC8vIFRyeSB0byBmaW5kIGFuZCBjbG9zZSBuZXh0IGluc3RhbmNlXG5cbiAgICAgICAgaWYgKGFsbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBDbG9zZSBhbGwgaW5zdGFuY2VzIGFuZCB1bmJpbmQgYWxsIGV2ZW50c1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuY2xvc2UodHJ1ZSk7XG5cbiAgICAgICRELmFkZChcImJvZHlcIikub2ZmKFwiY2xpY2suZmItc3RhcnRcIiwgXCIqKlwiKTtcbiAgICB9LFxuXG4gICAgLy8gVHJ5IHRvIGRldGVjdCBtb2JpbGUgZGV2aWNlc1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGlzTW9iaWxlOlxuICAgICAgZG9jdW1lbnQuY3JlYXRlVG91Y2ggIT09IHVuZGVmaW5lZCAmJiAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksXG5cbiAgICAvLyBEZXRlY3QgaWYgJ3RyYW5zbGF0ZTNkJyBzdXBwb3J0IGlzIGF2YWlsYWJsZVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICB1c2UzZDogKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlICYmXG4gICAgICAgIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRpdikgJiZcbiAgICAgICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUoZGl2KS5nZXRQcm9wZXJ0eVZhbHVlKFwidHJhbnNmb3JtXCIpICYmXG4gICAgICAgICEoZG9jdW1lbnQuZG9jdW1lbnRNb2RlICYmIGRvY3VtZW50LmRvY3VtZW50TW9kZSA8IDExKVxuICAgICAgKTtcbiAgICB9KSgpLFxuXG4gICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBjdXJyZW50IHZpc3VhbCBzdGF0ZSBvZiBhbiBlbGVtZW50XG4gICAgLy8gcmV0dXJucyBhcnJheVsgdG9wLCBsZWZ0LCBob3Jpem9udGFsLXNjYWxlLCB2ZXJ0aWNhbC1zY2FsZSwgb3BhY2l0eSBdXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBnZXRUcmFuc2xhdGU6IGZ1bmN0aW9uKCRlbCkge1xuICAgICAgdmFyIGRvbVJlY3Q7XG5cbiAgICAgIGlmICghJGVsIHx8ICEkZWwubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgZG9tUmVjdCA9ICRlbFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiBkb21SZWN0LnRvcCB8fCAwLFxuICAgICAgICBsZWZ0OiBkb21SZWN0LmxlZnQgfHwgMCxcbiAgICAgICAgd2lkdGg6IGRvbVJlY3Qud2lkdGgsXG4gICAgICAgIGhlaWdodDogZG9tUmVjdC5oZWlnaHQsXG4gICAgICAgIG9wYWNpdHk6IHBhcnNlRmxvYXQoJGVsLmNzcyhcIm9wYWNpdHlcIikpXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvLyBTaG9ydGN1dCBmb3Igc2V0dGluZyBcInRyYW5zbGF0ZTNkXCIgcHJvcGVydGllcyBmb3IgZWxlbWVudFxuICAgIC8vIENhbiBzZXQgYmUgdXNlZCB0byBzZXQgb3BhY2l0eSwgdG9vXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24oJGVsLCBwcm9wcykge1xuICAgICAgdmFyIHN0ciA9IFwiXCIsXG4gICAgICAgIGNzcyA9IHt9O1xuXG4gICAgICBpZiAoISRlbCB8fCAhcHJvcHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMubGVmdCAhPT0gdW5kZWZpbmVkIHx8IHByb3BzLnRvcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN0ciA9XG4gICAgICAgICAgKHByb3BzLmxlZnQgPT09IHVuZGVmaW5lZCA/ICRlbC5wb3NpdGlvbigpLmxlZnQgOiBwcm9wcy5sZWZ0KSArXG4gICAgICAgICAgXCJweCwgXCIgK1xuICAgICAgICAgIChwcm9wcy50b3AgPT09IHVuZGVmaW5lZCA/ICRlbC5wb3NpdGlvbigpLnRvcCA6IHByb3BzLnRvcCkgK1xuICAgICAgICAgIFwicHhcIjtcblxuICAgICAgICBpZiAodGhpcy51c2UzZCkge1xuICAgICAgICAgIHN0ciA9IFwidHJhbnNsYXRlM2QoXCIgKyBzdHIgKyBcIiwgMHB4KVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9IFwidHJhbnNsYXRlKFwiICsgc3RyICsgXCIpXCI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BzLnNjYWxlWCAhPT0gdW5kZWZpbmVkICYmIHByb3BzLnNjYWxlWSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN0ciA9IChzdHIubGVuZ3RoID8gc3RyICsgXCIgXCIgOiBcIlwiKSArIFwic2NhbGUoXCIgKyBwcm9wcy5zY2FsZVggKyBcIiwgXCIgKyBwcm9wcy5zY2FsZVkgKyBcIilcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0ci5sZW5ndGgpIHtcbiAgICAgICAgY3NzLnRyYW5zZm9ybSA9IHN0cjtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BzLm9wYWNpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjc3Mub3BhY2l0eSA9IHByb3BzLm9wYWNpdHk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wcy53aWR0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNzcy53aWR0aCA9IHByb3BzLndpZHRoO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMuaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY3NzLmhlaWdodCA9IHByb3BzLmhlaWdodDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICRlbC5jc3MoY3NzKTtcbiAgICB9LFxuXG4gICAgLy8gU2ltcGxlIENTUyB0cmFuc2l0aW9uIGhhbmRsZXJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgYW5pbWF0ZTogZnVuY3Rpb24oJGVsLCB0bywgZHVyYXRpb24sIGNhbGxiYWNrLCBsZWF2ZUFuaW1hdGlvbk5hbWUpIHtcbiAgICAgIHZhciBmaW5hbCA9IGZhbHNlO1xuXG4gICAgICBpZiAoJC5pc0Z1bmN0aW9uKGR1cmF0aW9uKSkge1xuICAgICAgICBjYWxsYmFjayA9IGR1cmF0aW9uO1xuICAgICAgICBkdXJhdGlvbiA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICghJC5pc1BsYWluT2JqZWN0KHRvKSkge1xuICAgICAgICAkZWwucmVtb3ZlQXR0cihcInN0eWxlXCIpO1xuICAgICAgfVxuXG4gICAgICAkLmZhbmN5Ym94LnN0b3AoJGVsKTtcblxuICAgICAgJGVsLm9uKHRyYW5zaXRpb25FbmQsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgLy8gU2tpcCBldmVudHMgZnJvbSBjaGlsZCBlbGVtZW50cyBhbmQgei1pbmRleCBjaGFuZ2VcbiAgICAgICAgaWYgKGUgJiYgZS5vcmlnaW5hbEV2ZW50ICYmICghJGVsLmlzKGUub3JpZ2luYWxFdmVudC50YXJnZXQpIHx8IGUub3JpZ2luYWxFdmVudC5wcm9wZXJ0eU5hbWUgPT0gXCJ6LWluZGV4XCIpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJC5mYW5jeWJveC5zdG9wKCRlbCk7XG5cbiAgICAgICAgaWYgKGZpbmFsKSB7XG4gICAgICAgICAgJC5mYW5jeWJveC5zZXRUcmFuc2xhdGUoJGVsLCBmaW5hbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJC5pc1BsYWluT2JqZWN0KHRvKSkge1xuICAgICAgICAgIGlmIChsZWF2ZUFuaW1hdGlvbk5hbWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAkZWwucmVtb3ZlQXR0cihcInN0eWxlXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChsZWF2ZUFuaW1hdGlvbk5hbWUgIT09IHRydWUpIHtcbiAgICAgICAgICAkZWwucmVtb3ZlQ2xhc3ModG8pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgICAgICBjYWxsYmFjayhlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICgkLmlzTnVtZXJpYyhkdXJhdGlvbikpIHtcbiAgICAgICAgJGVsLmNzcyhcInRyYW5zaXRpb24tZHVyYXRpb25cIiwgZHVyYXRpb24gKyBcIm1zXCIpO1xuICAgICAgfVxuXG4gICAgICAvLyBTdGFydCBhbmltYXRpb24gYnkgY2hhbmdpbmcgQ1NTIHByb3BlcnRpZXMgb3IgY2xhc3MgbmFtZVxuICAgICAgaWYgKCQuaXNQbGFpbk9iamVjdCh0bykpIHtcbiAgICAgICAgaWYgKHRvLnNjYWxlWCAhPT0gdW5kZWZpbmVkICYmIHRvLnNjYWxlWSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZmluYWwgPSAkLmV4dGVuZCh7fSwgdG8sIHtcbiAgICAgICAgICAgIHdpZHRoOiAkZWwud2lkdGgoKSAqIHRvLnNjYWxlWCxcbiAgICAgICAgICAgIGhlaWdodDogJGVsLmhlaWdodCgpICogdG8uc2NhbGVZLFxuICAgICAgICAgICAgc2NhbGVYOiAxLFxuICAgICAgICAgICAgc2NhbGVZOiAxXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBkZWxldGUgdG8ud2lkdGg7XG4gICAgICAgICAgZGVsZXRlIHRvLmhlaWdodDtcblxuICAgICAgICAgIGlmICgkZWwucGFyZW50KCkuaGFzQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0taW1hZ2VcIikpIHtcbiAgICAgICAgICAgICRlbC5wYXJlbnQoKS5hZGRDbGFzcyhcImZhbmN5Ym94LWlzLXNjYWxpbmdcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJC5mYW5jeWJveC5zZXRUcmFuc2xhdGUoJGVsLCB0byk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkZWwuYWRkQ2xhc3ModG8pO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgdGhhdCBgdHJhbnNpdGlvbmVuZGAgY2FsbGJhY2sgZ2V0cyBmaXJlZFxuICAgICAgJGVsLmRhdGEoXG4gICAgICAgIFwidGltZXJcIixcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAkZWwudHJpZ2dlcihcInRyYW5zaXRpb25lbmRcIik7XG4gICAgICAgIH0sIGR1cmF0aW9uICsgMTYpXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigkZWwpIHtcbiAgICAgIGlmICgkZWwgJiYgJGVsLmxlbmd0aCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoJGVsLmRhdGEoXCJ0aW1lclwiKSk7XG5cbiAgICAgICAgJGVsLm9mZihcInRyYW5zaXRpb25lbmRcIikuY3NzKFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLCBcIlwiKTtcblxuICAgICAgICAkZWwucGFyZW50KCkucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1pcy1zY2FsaW5nXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBEZWZhdWx0IGNsaWNrIGhhbmRsZXIgZm9yIFwiZmFuY3lib3hlZFwiIGxpbmtzXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gX3J1bihlLCBvcHRzKSB7XG4gICAgdmFyIGl0ZW1zID0gW10sXG4gICAgICBpbmRleCA9IDAsXG4gICAgICAkdGFyZ2V0LFxuICAgICAgdmFsdWU7XG5cbiAgICAvLyBBdm9pZCBvcGVuaW5nIG11bHRpcGxlIHRpbWVzXG4gICAgaWYgKGUgJiYgZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIG9wdHMgPSBlICYmIGUuZGF0YSA/IGUuZGF0YS5vcHRpb25zIDogb3B0cyB8fCB7fTtcblxuICAgICR0YXJnZXQgPSBvcHRzLiR0YXJnZXQgfHwgJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHZhbHVlID0gJHRhcmdldC5hdHRyKFwiZGF0YS1mYW5jeWJveFwiKSB8fCBcIlwiO1xuXG4gICAgLy8gR2V0IGFsbCByZWxhdGVkIGl0ZW1zIGFuZCBmaW5kIGluZGV4IGZvciBjbGlja2VkIG9uZVxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgaXRlbXMgPSBvcHRzLnNlbGVjdG9yID8gJChvcHRzLnNlbGVjdG9yKSA6IGUuZGF0YSA/IGUuZGF0YS5pdGVtcyA6IFtdO1xuICAgICAgaXRlbXMgPSBpdGVtcy5sZW5ndGggPyBpdGVtcy5maWx0ZXIoJ1tkYXRhLWZhbmN5Ym94PVwiJyArIHZhbHVlICsgJ1wiXScpIDogJCgnW2RhdGEtZmFuY3lib3g9XCInICsgdmFsdWUgKyAnXCJdJyk7XG5cbiAgICAgIGluZGV4ID0gaXRlbXMuaW5kZXgoJHRhcmdldCk7XG5cbiAgICAgIC8vIFNvbWV0aW1lcyBjdXJyZW50IGl0ZW0gY2FuIG5vdCBiZSBmb3VuZCAoZm9yIGV4YW1wbGUsIGlmIHNvbWUgc2NyaXB0IGNsb25lcyBpdGVtcylcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSAwO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtcyA9IFskdGFyZ2V0XTtcbiAgICB9XG5cbiAgICAkLmZhbmN5Ym94Lm9wZW4oaXRlbXMsIG9wdHMsIGluZGV4KTtcbiAgfVxuXG4gIC8vIENyZWF0ZSBhIGpRdWVyeSBwbHVnaW5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uZmFuY3lib3ggPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIHNlbGVjdG9yO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgc2VsZWN0b3IgPSBvcHRpb25zLnNlbGVjdG9yIHx8IGZhbHNlO1xuXG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAvLyBVc2UgYm9keSBlbGVtZW50IGluc3RlYWQgb2YgZG9jdW1lbnQgc28gaXQgZXhlY3V0ZXMgZmlyc3RcbiAgICAgICQoXCJib2R5XCIpXG4gICAgICAgIC5vZmYoXCJjbGljay5mYi1zdGFydFwiLCBzZWxlY3RvcilcbiAgICAgICAgLm9uKFwiY2xpY2suZmItc3RhcnRcIiwgc2VsZWN0b3IsIHtvcHRpb25zOiBvcHRpb25zfSwgX3J1bik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub2ZmKFwiY2xpY2suZmItc3RhcnRcIikub24oXG4gICAgICAgIFwiY2xpY2suZmItc3RhcnRcIixcbiAgICAgICAge1xuICAgICAgICAgIGl0ZW1zOiB0aGlzLFxuICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgfSxcbiAgICAgICAgX3J1blxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBTZWxmIGluaXRpYWxpemluZyBwbHVnaW4gZm9yIGFsbCBlbGVtZW50cyBoYXZpbmcgYGRhdGEtZmFuY3lib3hgIGF0dHJpYnV0ZVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICRELm9uKFwiY2xpY2suZmItc3RhcnRcIiwgXCJbZGF0YS1mYW5jeWJveF1cIiwgX3J1bik7XG5cbiAgLy8gRW5hYmxlIFwidHJpZ2dlciBlbGVtZW50c1wiXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAkRC5vbihcImNsaWNrLmZiLXN0YXJ0XCIsIFwiW2RhdGEtdHJpZ2dlcl1cIiwgZnVuY3Rpb24oZSkge1xuICAgIF9ydW4oZSwge1xuICAgICAgJHRhcmdldDogJCgnW2RhdGEtZmFuY3lib3g9XCInICsgJChlLmN1cnJlbnRUYXJnZXQpLmF0dHIoXCJkYXRhLXRyaWdnZXJcIikgKyAnXCJdJykuZXEoJChlLmN1cnJlbnRUYXJnZXQpLmF0dHIoXCJkYXRhLWluZGV4XCIpIHx8IDApLFxuICAgICAgJHRyaWdnZXI6ICQodGhpcylcbiAgICB9KTtcbiAgfSk7XG59KSh3aW5kb3csIGRvY3VtZW50LCB3aW5kb3cualF1ZXJ5IHx8IGpRdWVyeSk7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vL1xuLy8gTWVkaWFcbi8vIEFkZHMgYWRkaXRpb25hbCBtZWRpYSB0eXBlIHN1cHBvcnRcbi8vXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKGZ1bmN0aW9uKCQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLy8gRm9ybWF0cyBtYXRjaGluZyB1cmwgdG8gZmluYWwgZm9ybVxuXG4gIHZhciBmb3JtYXQgPSBmdW5jdGlvbih1cmwsIHJleiwgcGFyYW1zKSB7XG4gICAgaWYgKCF1cmwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwYXJhbXMgPSBwYXJhbXMgfHwgXCJcIjtcblxuICAgIGlmICgkLnR5cGUocGFyYW1zKSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgcGFyYW1zID0gJC5wYXJhbShwYXJhbXMsIHRydWUpO1xuICAgIH1cblxuICAgICQuZWFjaChyZXosIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIHVybCA9IHVybC5yZXBsYWNlKFwiJFwiICsga2V5LCB2YWx1ZSB8fCBcIlwiKTtcbiAgICB9KTtcblxuICAgIGlmIChwYXJhbXMubGVuZ3RoKSB7XG4gICAgICB1cmwgKz0gKHVybC5pbmRleE9mKFwiP1wiKSA+IDAgPyBcIiZcIiA6IFwiP1wiKSArIHBhcmFtcztcbiAgICB9XG5cbiAgICByZXR1cm4gdXJsO1xuICB9O1xuXG4gIC8vIE9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgZm9yIGVhY2ggbWVkaWEgdHlwZVxuXG4gIHZhciBkZWZhdWx0cyA9IHtcbiAgICB5b3V0dWJlOiB7XG4gICAgICBtYXRjaGVyOiAvKHlvdXR1YmVcXC5jb218eW91dHVcXC5iZXx5b3V0dWJlXFwtbm9jb29raWVcXC5jb20pXFwvKHdhdGNoXFw/KC4qJik/dj18dlxcL3x1XFwvfGVtYmVkXFwvPyk/KHZpZGVvc2VyaWVzXFw/bGlzdD0oLiopfFtcXHctXXsxMX18XFw/bGlzdFR5cGU9KC4qKSZsaXN0PSguKikpKC4qKS9pLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGF1dG9wbGF5OiAxLFxuICAgICAgICBhdXRvaGlkZTogMSxcbiAgICAgICAgZnM6IDEsXG4gICAgICAgIHJlbDogMCxcbiAgICAgICAgaGQ6IDEsXG4gICAgICAgIHdtb2RlOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgIGVuYWJsZWpzYXBpOiAxLFxuICAgICAgICBodG1sNTogMVxuICAgICAgfSxcbiAgICAgIHBhcmFtUGxhY2U6IDgsXG4gICAgICB0eXBlOiBcImlmcmFtZVwiLFxuICAgICAgdXJsOiBcIi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyQ0XCIsXG4gICAgICB0aHVtYjogXCIvL2ltZy55b3V0dWJlLmNvbS92aS8kNC9ocWRlZmF1bHQuanBnXCJcbiAgICB9LFxuXG4gICAgdmltZW86IHtcbiAgICAgIG1hdGNoZXI6IC9eLit2aW1lby5jb21cXC8oLipcXC8pPyhbXFxkXSspKC4qKT8vLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGF1dG9wbGF5OiAxLFxuICAgICAgICBoZDogMSxcbiAgICAgICAgc2hvd190aXRsZTogMSxcbiAgICAgICAgc2hvd19ieWxpbmU6IDEsXG4gICAgICAgIHNob3dfcG9ydHJhaXQ6IDAsXG4gICAgICAgIGZ1bGxzY3JlZW46IDEsXG4gICAgICAgIGFwaTogMVxuICAgICAgfSxcbiAgICAgIHBhcmFtUGxhY2U6IDMsXG4gICAgICB0eXBlOiBcImlmcmFtZVwiLFxuICAgICAgdXJsOiBcIi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby8kMlwiXG4gICAgfSxcblxuICAgIGluc3RhZ3JhbToge1xuICAgICAgbWF0Y2hlcjogLyhpbnN0YWdyXFwuYW18aW5zdGFncmFtXFwuY29tKVxcL3BcXC8oW2EtekEtWjAtOV9cXC1dKylcXC8/L2ksXG4gICAgICB0eXBlOiBcImltYWdlXCIsXG4gICAgICB1cmw6IFwiLy8kMS9wLyQyL21lZGlhLz9zaXplPWxcIlxuICAgIH0sXG5cbiAgICAvLyBFeGFtcGxlczpcbiAgICAvLyBodHRwOi8vbWFwcy5nb29nbGUuY29tLz9sbD00OC44NTc5OTUsMi4yOTQyOTcmc3BuPTAuMDA3NjY2LDAuMDIxMTM2JnQ9bSZ6PTE2XG4gICAgLy8gaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzL0AzNy43ODUyMDA2LC0xMjIuNDE0NjM1NSwxNC42NXpcbiAgICAvLyBodHRwczovL3d3dy5nb29nbGUuY29tL21hcHMvQDUyLjIxMTExMjMsMi45MjM3NTQyLDYuNjF6P2hsPWVuXG4gICAgLy8gaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzL3BsYWNlL0dvb2dsZXBsZXgvQDM3LjQyMjAwNDEsLTEyMi4wODMzNDk0LDE3ei9kYXRhPSE0bTUhM200ITFzMHgwOjB4NmMyOTZjNjY2MTkzNjdlMCE4bTIhM2QzNy40MjE5OTk4ITRkLTEyMi4wODQwNTcyXG4gICAgZ21hcF9wbGFjZToge1xuICAgICAgbWF0Y2hlcjogLyhtYXBzXFwuKT9nb29nbGVcXC4oW2Etel17MiwzfShcXC5bYS16XXsyfSk/KVxcLygoKG1hcHNcXC8ocGxhY2VcXC8oLiopXFwvKT9cXEAoLiopLChcXGQrLj9cXGQrPyl6KSl8KFxcP2xsPSkpKC4qKT8vaSxcbiAgICAgIHR5cGU6IFwiaWZyYW1lXCIsXG4gICAgICB1cmw6IGZ1bmN0aW9uKHJleikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFwiLy9tYXBzLmdvb2dsZS5cIiArXG4gICAgICAgICAgcmV6WzJdICtcbiAgICAgICAgICBcIi8/bGw9XCIgK1xuICAgICAgICAgIChyZXpbOV0gPyByZXpbOV0gKyBcIiZ6PVwiICsgTWF0aC5mbG9vcihyZXpbMTBdKSArIChyZXpbMTJdID8gcmV6WzEyXS5yZXBsYWNlKC9eXFwvLywgXCImXCIpIDogXCJcIikgOiByZXpbMTJdICsgXCJcIikucmVwbGFjZSgvXFw/LywgXCImXCIpICtcbiAgICAgICAgICBcIiZvdXRwdXQ9XCIgK1xuICAgICAgICAgIChyZXpbMTJdICYmIHJlelsxMl0uaW5kZXhPZihcImxheWVyPWNcIikgPiAwID8gXCJzdmVtYmVkXCIgOiBcImVtYmVkXCIpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIEV4YW1wbGVzOlxuICAgIC8vIGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vbWFwcy9zZWFyY2gvRW1waXJlK1N0YXRlK0J1aWxkaW5nL1xuICAgIC8vIGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vbWFwcy9zZWFyY2gvP2FwaT0xJnF1ZXJ5PWNlbnR1cnlsaW5rK2ZpZWxkXG4gICAgLy8gaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzL3NlYXJjaC8/YXBpPTEmcXVlcnk9NDcuNTk1MTUxOCwtMTIyLjMzMTYzOTNcbiAgICBnbWFwX3NlYXJjaDoge1xuICAgICAgbWF0Y2hlcjogLyhtYXBzXFwuKT9nb29nbGVcXC4oW2Etel17MiwzfShcXC5bYS16XXsyfSk/KVxcLyhtYXBzXFwvc2VhcmNoXFwvKSguKikvaSxcbiAgICAgIHR5cGU6IFwiaWZyYW1lXCIsXG4gICAgICB1cmw6IGZ1bmN0aW9uKHJleikge1xuICAgICAgICByZXR1cm4gXCIvL21hcHMuZ29vZ2xlLlwiICsgcmV6WzJdICsgXCIvbWFwcz9xPVwiICsgcmV6WzVdLnJlcGxhY2UoXCJxdWVyeT1cIiwgXCJxPVwiKS5yZXBsYWNlKFwiYXBpPTFcIiwgXCJcIikgKyBcIiZvdXRwdXQ9ZW1iZWRcIjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgJChkb2N1bWVudCkub24oXCJvYmplY3ROZWVkc1R5cGUuZmJcIiwgZnVuY3Rpb24oZSwgaW5zdGFuY2UsIGl0ZW0pIHtcbiAgICB2YXIgdXJsID0gaXRlbS5zcmMgfHwgXCJcIixcbiAgICAgIHR5cGUgPSBmYWxzZSxcbiAgICAgIG1lZGlhLFxuICAgICAgdGh1bWIsXG4gICAgICByZXosXG4gICAgICBwYXJhbXMsXG4gICAgICB1cmxQYXJhbXMsXG4gICAgICBwYXJhbU9iaixcbiAgICAgIHByb3ZpZGVyO1xuXG4gICAgbWVkaWEgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdHMsIGl0ZW0ub3B0cy5tZWRpYSk7XG5cbiAgICAvLyBMb29rIGZvciBhbnkgbWF0Y2hpbmcgbWVkaWEgdHlwZVxuICAgICQuZWFjaChtZWRpYSwgZnVuY3Rpb24ocHJvdmlkZXJOYW1lLCBwcm92aWRlck9wdHMpIHtcbiAgICAgIHJleiA9IHVybC5tYXRjaChwcm92aWRlck9wdHMubWF0Y2hlcik7XG5cbiAgICAgIGlmICghcmV6KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdHlwZSA9IHByb3ZpZGVyT3B0cy50eXBlO1xuICAgICAgcHJvdmlkZXIgPSBwcm92aWRlck5hbWU7XG4gICAgICBwYXJhbU9iaiA9IHt9O1xuXG4gICAgICBpZiAocHJvdmlkZXJPcHRzLnBhcmFtUGxhY2UgJiYgcmV6W3Byb3ZpZGVyT3B0cy5wYXJhbVBsYWNlXSkge1xuICAgICAgICB1cmxQYXJhbXMgPSByZXpbcHJvdmlkZXJPcHRzLnBhcmFtUGxhY2VdO1xuXG4gICAgICAgIGlmICh1cmxQYXJhbXNbMF0gPT0gXCI/XCIpIHtcbiAgICAgICAgICB1cmxQYXJhbXMgPSB1cmxQYXJhbXMuc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdXJsUGFyYW1zID0gdXJsUGFyYW1zLnNwbGl0KFwiJlwiKTtcblxuICAgICAgICBmb3IgKHZhciBtID0gMDsgbSA8IHVybFBhcmFtcy5sZW5ndGg7ICsrbSkge1xuICAgICAgICAgIHZhciBwID0gdXJsUGFyYW1zW21dLnNwbGl0KFwiPVwiLCAyKTtcblxuICAgICAgICAgIGlmIChwLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICBwYXJhbU9ialtwWzBdXSA9IGRlY29kZVVSSUNvbXBvbmVudChwWzFdLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBwYXJhbXMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgcHJvdmlkZXJPcHRzLnBhcmFtcywgaXRlbS5vcHRzW3Byb3ZpZGVyTmFtZV0sIHBhcmFtT2JqKTtcblxuICAgICAgdXJsID1cbiAgICAgICAgJC50eXBlKHByb3ZpZGVyT3B0cy51cmwpID09PSBcImZ1bmN0aW9uXCIgPyBwcm92aWRlck9wdHMudXJsLmNhbGwodGhpcywgcmV6LCBwYXJhbXMsIGl0ZW0pIDogZm9ybWF0KHByb3ZpZGVyT3B0cy51cmwsIHJleiwgcGFyYW1zKTtcblxuICAgICAgdGh1bWIgPVxuICAgICAgICAkLnR5cGUocHJvdmlkZXJPcHRzLnRodW1iKSA9PT0gXCJmdW5jdGlvblwiID8gcHJvdmlkZXJPcHRzLnRodW1iLmNhbGwodGhpcywgcmV6LCBwYXJhbXMsIGl0ZW0pIDogZm9ybWF0KHByb3ZpZGVyT3B0cy50aHVtYiwgcmV6KTtcblxuICAgICAgaWYgKHByb3ZpZGVyTmFtZSA9PT0gXCJ5b3V0dWJlXCIpIHtcbiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoLyZ0PSgoXFxkKyltKT8oXFxkKylzLywgZnVuY3Rpb24obWF0Y2gsIHAxLCBtLCBzKSB7XG4gICAgICAgICAgcmV0dXJuIFwiJnN0YXJ0PVwiICsgKChtID8gcGFyc2VJbnQobSwgMTApICogNjAgOiAwKSArIHBhcnNlSW50KHMsIDEwKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm92aWRlck5hbWUgPT09IFwidmltZW9cIikge1xuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShcIiYlMjNcIiwgXCIjXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgICAvLyBJZiBpdCBpcyBmb3VuZCwgdGhlbiBjaGFuZ2UgY29udGVudCB0eXBlIGFuZCB1cGRhdGUgdGhlIHVybFxuXG4gICAgaWYgKHR5cGUpIHtcbiAgICAgIGlmICghaXRlbS5vcHRzLnRodW1iICYmICEoaXRlbS5vcHRzLiR0aHVtYiAmJiBpdGVtLm9wdHMuJHRodW1iLmxlbmd0aCkpIHtcbiAgICAgICAgaXRlbS5vcHRzLnRodW1iID0gdGh1bWI7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlID09PSBcImlmcmFtZVwiKSB7XG4gICAgICAgIGl0ZW0ub3B0cyA9ICQuZXh0ZW5kKHRydWUsIGl0ZW0ub3B0cywge1xuICAgICAgICAgIGlmcmFtZToge1xuICAgICAgICAgICAgcHJlbG9hZDogZmFsc2UsXG4gICAgICAgICAgICBhdHRyOiB7XG4gICAgICAgICAgICAgIHNjcm9sbGluZzogXCJub1wiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgJC5leHRlbmQoaXRlbSwge1xuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBzcmM6IHVybCxcbiAgICAgICAgb3JpZ1NyYzogaXRlbS5zcmMsXG4gICAgICAgIGNvbnRlbnRTb3VyY2U6IHByb3ZpZGVyLFxuICAgICAgICBjb250ZW50VHlwZTogdHlwZSA9PT0gXCJpbWFnZVwiID8gXCJpbWFnZVwiIDogcHJvdmlkZXIgPT0gXCJnbWFwX3BsYWNlXCIgfHwgcHJvdmlkZXIgPT0gXCJnbWFwX3NlYXJjaFwiID8gXCJtYXBcIiA6IFwidmlkZW9cIlxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh1cmwpIHtcbiAgICAgIGl0ZW0udHlwZSA9IGl0ZW0ub3B0cy5kZWZhdWx0VHlwZTtcbiAgICB9XG4gIH0pO1xufSkod2luZG93LmpRdWVyeSB8fCBqUXVlcnkpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy9cbi8vIEd1ZXN0dXJlc1xuLy8gQWRkcyB0b3VjaCBndWVzdHVyZXMsIGhhbmRsZXMgY2xpY2sgYW5kIHRhcCBldmVudHNcbi8vXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsICQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHJlcXVlc3RBRnJhbWUgPSAoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAvLyBpZiBhbGwgZWxzZSBmYWlscywgdXNlIHNldFRpbWVvdXRcbiAgICAgIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcbiAgICAgIH1cbiAgICApO1xuICB9KSgpO1xuXG4gIHZhciBjYW5jZWxBRnJhbWUgPSAoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fFxuICAgICAgd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICB3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHdpbmRvdy5vQ2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoaWQpO1xuICAgICAgfVxuICAgICk7XG4gIH0pKCk7XG5cbiAgdmFyIGdldFBvaW50ZXJYWSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICBlID0gZS5vcmlnaW5hbEV2ZW50IHx8IGUgfHwgd2luZG93LmU7XG4gICAgZSA9IGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID8gZS50b3VjaGVzIDogZS5jaGFuZ2VkVG91Y2hlcyAmJiBlLmNoYW5nZWRUb3VjaGVzLmxlbmd0aCA/IGUuY2hhbmdlZFRvdWNoZXMgOiBbZV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gZSkge1xuICAgICAgaWYgKGVba2V5XS5wYWdlWCkge1xuICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgeDogZVtrZXldLnBhZ2VYLFxuICAgICAgICAgIHk6IGVba2V5XS5wYWdlWVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoZVtrZXldLmNsaWVudFgpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgIHg6IGVba2V5XS5jbGllbnRYLFxuICAgICAgICAgIHk6IGVba2V5XS5jbGllbnRZXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIGRpc3RhbmNlID0gZnVuY3Rpb24ocG9pbnQyLCBwb2ludDEsIHdoYXQpIHtcbiAgICBpZiAoIXBvaW50MSB8fCAhcG9pbnQyKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBpZiAod2hhdCA9PT0gXCJ4XCIpIHtcbiAgICAgIHJldHVybiBwb2ludDIueCAtIHBvaW50MS54O1xuICAgIH0gZWxzZSBpZiAod2hhdCA9PT0gXCJ5XCIpIHtcbiAgICAgIHJldHVybiBwb2ludDIueSAtIHBvaW50MS55O1xuICAgIH1cblxuICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cocG9pbnQyLnggLSBwb2ludDEueCwgMikgKyBNYXRoLnBvdyhwb2ludDIueSAtIHBvaW50MS55LCAyKSk7XG4gIH07XG5cbiAgdmFyIGlzQ2xpY2thYmxlID0gZnVuY3Rpb24oJGVsKSB7XG4gICAgaWYgKFxuICAgICAgJGVsLmlzKCdhLGFyZWEsYnV0dG9uLFtyb2xlPVwiYnV0dG9uXCJdLGlucHV0LGxhYmVsLHNlbGVjdCxzdW1tYXJ5LHRleHRhcmVhLHZpZGVvLGF1ZGlvJykgfHxcbiAgICAgICQuaXNGdW5jdGlvbigkZWwuZ2V0KDApLm9uY2xpY2spIHx8XG4gICAgICAkZWwuZGF0YShcInNlbGVjdGFibGVcIilcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBhdHRyaWJ1dGVzIGxpa2UgZGF0YS1mYW5jeWJveC1uZXh0IG9yIGRhdGEtZmFuY3lib3gtY2xvc2VcbiAgICBmb3IgKHZhciBpID0gMCwgYXR0cyA9ICRlbFswXS5hdHRyaWJ1dGVzLCBuID0gYXR0cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIGlmIChhdHRzW2ldLm5vZGVOYW1lLnN1YnN0cigwLCAxNCkgPT09IFwiZGF0YS1mYW5jeWJveC1cIikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgdmFyIGhhc1Njcm9sbGJhcnMgPSBmdW5jdGlvbihlbCkge1xuICAgIHZhciBvdmVyZmxvd1kgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbXCJvdmVyZmxvdy15XCJdLFxuICAgICAgb3ZlcmZsb3dYID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpW1wib3ZlcmZsb3cteFwiXSxcbiAgICAgIHZlcnRpY2FsID0gKG92ZXJmbG93WSA9PT0gXCJzY3JvbGxcIiB8fCBvdmVyZmxvd1kgPT09IFwiYXV0b1wiKSAmJiBlbC5zY3JvbGxIZWlnaHQgPiBlbC5jbGllbnRIZWlnaHQsXG4gICAgICBob3Jpem9udGFsID0gKG92ZXJmbG93WCA9PT0gXCJzY3JvbGxcIiB8fCBvdmVyZmxvd1ggPT09IFwiYXV0b1wiKSAmJiBlbC5zY3JvbGxXaWR0aCA+IGVsLmNsaWVudFdpZHRoO1xuXG4gICAgcmV0dXJuIHZlcnRpY2FsIHx8IGhvcml6b250YWw7XG4gIH07XG5cbiAgdmFyIGlzU2Nyb2xsYWJsZSA9IGZ1bmN0aW9uKCRlbCkge1xuICAgIHZhciByZXogPSBmYWxzZTtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICByZXogPSBoYXNTY3JvbGxiYXJzKCRlbC5nZXQoMCkpO1xuXG4gICAgICBpZiAocmV6KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICAkZWwgPSAkZWwucGFyZW50KCk7XG5cbiAgICAgIGlmICghJGVsLmxlbmd0aCB8fCAkZWwuaGFzQ2xhc3MoXCJmYW5jeWJveC1zdGFnZVwiKSB8fCAkZWwuaXMoXCJib2R5XCIpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXo7XG4gIH07XG5cbiAgdmFyIEd1ZXN0dXJlcyA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgc2VsZi5pbnN0YW5jZSA9IGluc3RhbmNlO1xuXG4gICAgc2VsZi4kYmcgPSBpbnN0YW5jZS4kcmVmcy5iZztcbiAgICBzZWxmLiRzdGFnZSA9IGluc3RhbmNlLiRyZWZzLnN0YWdlO1xuICAgIHNlbGYuJGNvbnRhaW5lciA9IGluc3RhbmNlLiRyZWZzLmNvbnRhaW5lcjtcblxuICAgIHNlbGYuZGVzdHJveSgpO1xuXG4gICAgc2VsZi4kY29udGFpbmVyLm9uKFwidG91Y2hzdGFydC5mYi50b3VjaCBtb3VzZWRvd24uZmIudG91Y2hcIiwgJC5wcm94eShzZWxmLCBcIm9udG91Y2hzdGFydFwiKSk7XG4gIH07XG5cbiAgR3Vlc3R1cmVzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kY29udGFpbmVyLm9mZihcIi5mYi50b3VjaFwiKTtcbiAgfTtcblxuICBHdWVzdHVyZXMucHJvdG90eXBlLm9udG91Y2hzdGFydCA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAkdGFyZ2V0ID0gJChlLnRhcmdldCksXG4gICAgICBpbnN0YW5jZSA9IHNlbGYuaW5zdGFuY2UsXG4gICAgICBjdXJyZW50ID0gaW5zdGFuY2UuY3VycmVudCxcbiAgICAgICRjb250ZW50ID0gY3VycmVudC4kY29udGVudCxcbiAgICAgIGlzVG91Y2hEZXZpY2UgPSBlLnR5cGUgPT0gXCJ0b3VjaHN0YXJ0XCI7XG5cbiAgICAvLyBEbyBub3QgcmVzcG9uZCB0byBib3RoICh0b3VjaCBhbmQgbW91c2UpIGV2ZW50c1xuICAgIGlmIChpc1RvdWNoRGV2aWNlKSB7XG4gICAgICBzZWxmLiRjb250YWluZXIub2ZmKFwibW91c2Vkb3duLmZiLnRvdWNoXCIpO1xuICAgIH1cblxuICAgIC8vIElnbm9yZSByaWdodCBjbGlja1xuICAgIGlmIChlLm9yaWdpbmFsRXZlbnQgJiYgZS5vcmlnaW5hbEV2ZW50LmJ1dHRvbiA9PSAyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWdub3JlIHRhcGluZyBvbiBsaW5rcywgYnV0dG9ucywgaW5wdXQgZWxlbWVudHNcbiAgICBpZiAoISR0YXJnZXQubGVuZ3RoIHx8IGlzQ2xpY2thYmxlKCR0YXJnZXQpIHx8IGlzQ2xpY2thYmxlKCR0YXJnZXQucGFyZW50KCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWdub3JlIGNsaWNrcyBvbiB0aGUgc2Nyb2xsYmFyXG4gICAgaWYgKCEkdGFyZ2V0LmlzKFwiaW1nXCIpICYmIGUub3JpZ2luYWxFdmVudC5jbGllbnRYID4gJHRhcmdldFswXS5jbGllbnRXaWR0aCArICR0YXJnZXQub2Zmc2V0KCkubGVmdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElnbm9yZSBjbGlja3Mgd2hpbGUgem9vbWluZyBvciBjbG9zaW5nXG4gICAgaWYgKCFjdXJyZW50IHx8IGluc3RhbmNlLmlzQW5pbWF0aW5nIHx8IGluc3RhbmNlLmlzQ2xvc2luZykge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNlbGYucmVhbFBvaW50cyA9IHNlbGYuc3RhcnRQb2ludHMgPSBnZXRQb2ludGVyWFkoZSk7XG5cbiAgICBpZiAoIXNlbGYuc3RhcnRQb2ludHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIHNlbGYuc3RhcnRFdmVudCA9IGU7XG5cbiAgICBzZWxmLmNhblRhcCA9IHRydWU7XG4gICAgc2VsZi4kdGFyZ2V0ID0gJHRhcmdldDtcbiAgICBzZWxmLiRjb250ZW50ID0gJGNvbnRlbnQ7XG4gICAgc2VsZi5vcHRzID0gY3VycmVudC5vcHRzLnRvdWNoO1xuXG4gICAgc2VsZi5pc1Bhbm5pbmcgPSBmYWxzZTtcbiAgICBzZWxmLmlzU3dpcGluZyA9IGZhbHNlO1xuICAgIHNlbGYuaXNab29taW5nID0gZmFsc2U7XG4gICAgc2VsZi5pc1Njcm9sbGluZyA9IGZhbHNlO1xuXG4gICAgc2VsZi5zdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICBzZWxmLmRpc3RhbmNlWCA9IHNlbGYuZGlzdGFuY2VZID0gc2VsZi5kaXN0YW5jZSA9IDA7XG5cbiAgICBzZWxmLmNhbnZhc1dpZHRoID0gTWF0aC5yb3VuZChjdXJyZW50LiRzbGlkZVswXS5jbGllbnRXaWR0aCk7XG4gICAgc2VsZi5jYW52YXNIZWlnaHQgPSBNYXRoLnJvdW5kKGN1cnJlbnQuJHNsaWRlWzBdLmNsaWVudEhlaWdodCk7XG5cbiAgICBzZWxmLmNvbnRlbnRMYXN0UG9zID0gbnVsbDtcbiAgICBzZWxmLmNvbnRlbnRTdGFydFBvcyA9ICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKHNlbGYuJGNvbnRlbnQpIHx8IHt0b3A6IDAsIGxlZnQ6IDB9O1xuICAgIHNlbGYuc2xpZGVyU3RhcnRQb3MgPSBzZWxmLnNsaWRlckxhc3RQb3MgfHwgJC5mYW5jeWJveC5nZXRUcmFuc2xhdGUoY3VycmVudC4kc2xpZGUpO1xuXG4gICAgLy8gU2luY2UgcG9zaXRpb24gd2lsbCBiZSBhYnNvbHV0ZSwgYnV0IHdlIG5lZWQgdG8gbWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgc3RhZ2VcbiAgICBzZWxmLnN0YWdlUG9zID0gJC5mYW5jeWJveC5nZXRUcmFuc2xhdGUoaW5zdGFuY2UuJHJlZnMuc3RhZ2UpO1xuXG4gICAgc2VsZi5zbGlkZXJTdGFydFBvcy50b3AgLT0gc2VsZi5zdGFnZVBvcy50b3A7XG4gICAgc2VsZi5zbGlkZXJTdGFydFBvcy5sZWZ0IC09IHNlbGYuc3RhZ2VQb3MubGVmdDtcblxuICAgIHNlbGYuY29udGVudFN0YXJ0UG9zLnRvcCAtPSBzZWxmLnN0YWdlUG9zLnRvcDtcbiAgICBzZWxmLmNvbnRlbnRTdGFydFBvcy5sZWZ0IC09IHNlbGYuc3RhZ2VQb3MubGVmdDtcblxuICAgICQoZG9jdW1lbnQpXG4gICAgICAub2ZmKFwiLmZiLnRvdWNoXCIpXG4gICAgICAub24oaXNUb3VjaERldmljZSA/IFwidG91Y2hlbmQuZmIudG91Y2ggdG91Y2hjYW5jZWwuZmIudG91Y2hcIiA6IFwibW91c2V1cC5mYi50b3VjaCBtb3VzZWxlYXZlLmZiLnRvdWNoXCIsICQucHJveHkoc2VsZiwgXCJvbnRvdWNoZW5kXCIpKVxuICAgICAgLm9uKGlzVG91Y2hEZXZpY2UgPyBcInRvdWNobW92ZS5mYi50b3VjaFwiIDogXCJtb3VzZW1vdmUuZmIudG91Y2hcIiwgJC5wcm94eShzZWxmLCBcIm9udG91Y2htb3ZlXCIpKTtcblxuICAgIGlmICgkLmZhbmN5Ym94LmlzTW9iaWxlKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHNlbGYub25zY3JvbGwsIHRydWUpO1xuICAgIH1cblxuICAgIGlmICghKHNlbGYub3B0cyB8fCBpbnN0YW5jZS5jYW5QYW4oKSkgfHwgISgkdGFyZ2V0LmlzKHNlbGYuJHN0YWdlKSB8fCBzZWxmLiRzdGFnZS5maW5kKCR0YXJnZXQpLmxlbmd0aCkpIHtcbiAgICAgIGlmICgkdGFyZ2V0LmlzKFwiLmZhbmN5Ym94LWltYWdlXCIpKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghKCQuZmFuY3lib3guaXNNb2JpbGUgJiYgKGlzU2Nyb2xsYWJsZSgkdGFyZ2V0KSB8fCBpc1Njcm9sbGFibGUoJHRhcmdldC5wYXJlbnQoKSkpKSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGlmIChzZWxmLnN0YXJ0UG9pbnRzLmxlbmd0aCA9PT0gMSB8fCBjdXJyZW50Lmhhc0Vycm9yKSB7XG4gICAgICBpZiAoc2VsZi5pbnN0YW5jZS5jYW5QYW4oKSkge1xuICAgICAgICAkLmZhbmN5Ym94LnN0b3Aoc2VsZi4kY29udGVudCk7XG5cbiAgICAgICAgc2VsZi4kY29udGVudC5jc3MoXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCIsIFwiXCIpO1xuXG4gICAgICAgIHNlbGYuaXNQYW5uaW5nID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuaXNTd2lwaW5nID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgc2VsZi4kY29udGFpbmVyLmFkZENsYXNzKFwiZmFuY3lib3gtY29udHJvbHMtLWlzR3JhYmJpbmdcIik7XG4gICAgfVxuXG4gICAgaWYgKHNlbGYuc3RhcnRQb2ludHMubGVuZ3RoID09PSAyICYmIGN1cnJlbnQudHlwZSA9PT0gXCJpbWFnZVwiICYmIChjdXJyZW50LmlzTG9hZGVkIHx8IGN1cnJlbnQuJGdob3N0KSkge1xuICAgICAgc2VsZi5jYW5UYXAgPSBmYWxzZTtcbiAgICAgIHNlbGYuaXNTd2lwaW5nID0gZmFsc2U7XG4gICAgICBzZWxmLmlzUGFubmluZyA9IGZhbHNlO1xuXG4gICAgICBzZWxmLmlzWm9vbWluZyA9IHRydWU7XG5cbiAgICAgICQuZmFuY3lib3guc3RvcChzZWxmLiRjb250ZW50KTtcblxuICAgICAgc2VsZi4kY29udGVudC5jc3MoXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCIsIFwiXCIpO1xuXG4gICAgICBzZWxmLmNlbnRlclBvaW50U3RhcnRYID0gKHNlbGYuc3RhcnRQb2ludHNbMF0ueCArIHNlbGYuc3RhcnRQb2ludHNbMV0ueCkgKiAwLjUgLSAkKHdpbmRvdykuc2Nyb2xsTGVmdCgpO1xuICAgICAgc2VsZi5jZW50ZXJQb2ludFN0YXJ0WSA9IChzZWxmLnN0YXJ0UG9pbnRzWzBdLnkgKyBzZWxmLnN0YXJ0UG9pbnRzWzFdLnkpICogMC41IC0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuXG4gICAgICBzZWxmLnBlcmNlbnRhZ2VPZkltYWdlQXRQaW5jaFBvaW50WCA9IChzZWxmLmNlbnRlclBvaW50U3RhcnRYIC0gc2VsZi5jb250ZW50U3RhcnRQb3MubGVmdCkgLyBzZWxmLmNvbnRlbnRTdGFydFBvcy53aWR0aDtcbiAgICAgIHNlbGYucGVyY2VudGFnZU9mSW1hZ2VBdFBpbmNoUG9pbnRZID0gKHNlbGYuY2VudGVyUG9pbnRTdGFydFkgLSBzZWxmLmNvbnRlbnRTdGFydFBvcy50b3ApIC8gc2VsZi5jb250ZW50U3RhcnRQb3MuaGVpZ2h0O1xuXG4gICAgICBzZWxmLnN0YXJ0RGlzdGFuY2VCZXR3ZWVuRmluZ2VycyA9IGRpc3RhbmNlKHNlbGYuc3RhcnRQb2ludHNbMF0sIHNlbGYuc3RhcnRQb2ludHNbMV0pO1xuICAgIH1cbiAgfTtcblxuICBHdWVzdHVyZXMucHJvdG90eXBlLm9uc2Nyb2xsID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHNlbGYuaXNTY3JvbGxpbmcgPSB0cnVlO1xuXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzZWxmLm9uc2Nyb2xsLCB0cnVlKTtcbiAgfTtcblxuICBHdWVzdHVyZXMucHJvdG90eXBlLm9udG91Y2htb3ZlID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICR0YXJnZXQgPSAkKGUudGFyZ2V0KTtcblxuICAgIC8vIE1ha2Ugc3VyZSB1c2VyIGhhcyBub3QgcmVsZWFzZWQgb3ZlciBpZnJhbWUgb3IgZGlzYWJsZWQgZWxlbWVudFxuICAgIGlmIChlLm9yaWdpbmFsRXZlbnQuYnV0dG9ucyAhPT0gdW5kZWZpbmVkICYmIGUub3JpZ2luYWxFdmVudC5idXR0b25zID09PSAwKSB7XG4gICAgICBzZWxmLm9udG91Y2hlbmQoZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHNlbGYuaXNTY3JvbGxpbmcgfHwgISgkdGFyZ2V0LmlzKHNlbGYuJHN0YWdlKSB8fCBzZWxmLiRzdGFnZS5maW5kKCR0YXJnZXQpLmxlbmd0aCkpIHtcbiAgICAgIHNlbGYuY2FuVGFwID0gZmFsc2U7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLm5ld1BvaW50cyA9IGdldFBvaW50ZXJYWShlKTtcblxuICAgIGlmICghKHNlbGYub3B0cyB8fCBzZWxmLmluc3RhbmNlLmNhblBhbigpKSB8fCAhc2VsZi5uZXdQb2ludHMubGVuZ3RoIHx8ICFzZWxmLm5ld1BvaW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIShzZWxmLmlzU3dpcGluZyAmJiBzZWxmLmlzU3dpcGluZyA9PT0gdHJ1ZSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBzZWxmLmRpc3RhbmNlWCA9IGRpc3RhbmNlKHNlbGYubmV3UG9pbnRzWzBdLCBzZWxmLnN0YXJ0UG9pbnRzWzBdLCBcInhcIik7XG4gICAgc2VsZi5kaXN0YW5jZVkgPSBkaXN0YW5jZShzZWxmLm5ld1BvaW50c1swXSwgc2VsZi5zdGFydFBvaW50c1swXSwgXCJ5XCIpO1xuXG4gICAgc2VsZi5kaXN0YW5jZSA9IGRpc3RhbmNlKHNlbGYubmV3UG9pbnRzWzBdLCBzZWxmLnN0YXJ0UG9pbnRzWzBdKTtcblxuICAgIC8vIFNraXAgZmFsc2Ugb250b3VjaG1vdmUgZXZlbnRzIChDaHJvbWUpXG4gICAgaWYgKHNlbGYuZGlzdGFuY2UgPiAwKSB7XG4gICAgICBpZiAoc2VsZi5pc1N3aXBpbmcpIHtcbiAgICAgICAgc2VsZi5vblN3aXBlKGUpO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLmlzUGFubmluZykge1xuICAgICAgICBzZWxmLm9uUGFuKCk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuaXNab29taW5nKSB7XG4gICAgICAgIHNlbGYub25ab29tKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEd1ZXN0dXJlcy5wcm90b3R5cGUub25Td2lwZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBzd2lwaW5nID0gc2VsZi5pc1N3aXBpbmcsXG4gICAgICBsZWZ0ID0gc2VsZi5zbGlkZXJTdGFydFBvcy5sZWZ0IHx8IDAsXG4gICAgICBhbmdsZTtcblxuICAgIC8vIElmIGRpcmVjdGlvbiBpcyBub3QgeWV0IGRldGVybWluZWRcbiAgICBpZiAoc3dpcGluZyA9PT0gdHJ1ZSkge1xuICAgICAgLy8gV2UgbmVlZCBhdCBsZWFzdCAxMHB4IGRpc3RhbmNlIHRvIGNvcnJlY3RseSBjYWxjdWxhdGUgYW4gYW5nbGVcbiAgICAgIGlmIChNYXRoLmFicyhzZWxmLmRpc3RhbmNlKSA+IDEwKSB7XG4gICAgICAgIHNlbGYuY2FuVGFwID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHNlbGYuaW5zdGFuY2UuZ3JvdXAubGVuZ3RoIDwgMiAmJiBzZWxmLm9wdHMudmVydGljYWwpIHtcbiAgICAgICAgICBzZWxmLmlzU3dpcGluZyA9IFwieVwiO1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuaW5zdGFuY2UuaXNEcmFnZ2luZyB8fCBzZWxmLm9wdHMudmVydGljYWwgPT09IGZhbHNlIHx8IChzZWxmLm9wdHMudmVydGljYWwgPT09IFwiYXV0b1wiICYmICQod2luZG93KS53aWR0aCgpID4gODAwKSkge1xuICAgICAgICAgIHNlbGYuaXNTd2lwaW5nID0gXCJ4XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYW5nbGUgPSBNYXRoLmFicyhNYXRoLmF0YW4yKHNlbGYuZGlzdGFuY2VZLCBzZWxmLmRpc3RhbmNlWCkgKiAxODAgLyBNYXRoLlBJKTtcblxuICAgICAgICAgIHNlbGYuaXNTd2lwaW5nID0gYW5nbGUgPiA0NSAmJiBhbmdsZSA8IDEzNSA/IFwieVwiIDogXCJ4XCI7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLmNhblRhcCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChzZWxmLmlzU3dpcGluZyA9PT0gXCJ5XCIgJiYgJC5mYW5jeWJveC5pc01vYmlsZSAmJiAoaXNTY3JvbGxhYmxlKHNlbGYuJHRhcmdldCkgfHwgaXNTY3JvbGxhYmxlKHNlbGYuJHRhcmdldC5wYXJlbnQoKSkpKSB7XG4gICAgICAgICAgc2VsZi5pc1Njcm9sbGluZyA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLmluc3RhbmNlLmlzRHJhZ2dpbmcgPSBzZWxmLmlzU3dpcGluZztcblxuICAgICAgICAvLyBSZXNldCBwb2ludHMgdG8gYXZvaWQganVtcGluZywgYmVjYXVzZSB3ZSBkcm9wcGVkIGZpcnN0IHN3aXBlcyB0byBjYWxjdWxhdGUgdGhlIGFuZ2xlXG4gICAgICAgIHNlbGYuc3RhcnRQb2ludHMgPSBzZWxmLm5ld1BvaW50cztcblxuICAgICAgICAkLmVhY2goc2VsZi5pbnN0YW5jZS5zbGlkZXMsIGZ1bmN0aW9uKGluZGV4LCBzbGlkZSkge1xuICAgICAgICAgICQuZmFuY3lib3guc3RvcChzbGlkZS4kc2xpZGUpO1xuXG4gICAgICAgICAgc2xpZGUuJHNsaWRlLmNzcyhcInRyYW5zaXRpb24tZHVyYXRpb25cIiwgXCJcIik7XG5cbiAgICAgICAgICBzbGlkZS5pblRyYW5zaXRpb24gPSBmYWxzZTtcblxuICAgICAgICAgIGlmIChzbGlkZS5wb3MgPT09IHNlbGYuaW5zdGFuY2UuY3VycmVudC5wb3MpIHtcbiAgICAgICAgICAgIHNlbGYuc2xpZGVyU3RhcnRQb3MubGVmdCA9ICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKHNsaWRlLiRzbGlkZSkubGVmdCAtICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKHNlbGYuaW5zdGFuY2UuJHJlZnMuc3RhZ2UpLmxlZnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTdG9wIHNsaWRlc2hvd1xuICAgICAgICBpZiAoc2VsZi5pbnN0YW5jZS5TbGlkZVNob3cgJiYgc2VsZi5pbnN0YW5jZS5TbGlkZVNob3cuaXNBY3RpdmUpIHtcbiAgICAgICAgICBzZWxmLmluc3RhbmNlLlNsaWRlU2hvdy5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFN0aWNreSBlZGdlc1xuICAgIGlmIChzd2lwaW5nID09IFwieFwiKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHNlbGYuZGlzdGFuY2VYID4gMCAmJlxuICAgICAgICAoc2VsZi5pbnN0YW5jZS5ncm91cC5sZW5ndGggPCAyIHx8IChzZWxmLmluc3RhbmNlLmN1cnJlbnQuaW5kZXggPT09IDAgJiYgIXNlbGYuaW5zdGFuY2UuY3VycmVudC5vcHRzLmxvb3ApKVxuICAgICAgKSB7XG4gICAgICAgIGxlZnQgPSBsZWZ0ICsgTWF0aC5wb3coc2VsZi5kaXN0YW5jZVgsIDAuOCk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBzZWxmLmRpc3RhbmNlWCA8IDAgJiZcbiAgICAgICAgKHNlbGYuaW5zdGFuY2UuZ3JvdXAubGVuZ3RoIDwgMiB8fFxuICAgICAgICAgIChzZWxmLmluc3RhbmNlLmN1cnJlbnQuaW5kZXggPT09IHNlbGYuaW5zdGFuY2UuZ3JvdXAubGVuZ3RoIC0gMSAmJiAhc2VsZi5pbnN0YW5jZS5jdXJyZW50Lm9wdHMubG9vcCkpXG4gICAgICApIHtcbiAgICAgICAgbGVmdCA9IGxlZnQgLSBNYXRoLnBvdygtc2VsZi5kaXN0YW5jZVgsIDAuOCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZWZ0ID0gbGVmdCArIHNlbGYuZGlzdGFuY2VYO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNlbGYuc2xpZGVyTGFzdFBvcyA9IHtcbiAgICAgIHRvcDogc3dpcGluZyA9PSBcInhcIiA/IDAgOiBzZWxmLnNsaWRlclN0YXJ0UG9zLnRvcCArIHNlbGYuZGlzdGFuY2VZLFxuICAgICAgbGVmdDogbGVmdFxuICAgIH07XG5cbiAgICBpZiAoc2VsZi5yZXF1ZXN0SWQpIHtcbiAgICAgIGNhbmNlbEFGcmFtZShzZWxmLnJlcXVlc3RJZCk7XG5cbiAgICAgIHNlbGYucmVxdWVzdElkID0gbnVsbDtcbiAgICB9XG5cbiAgICBzZWxmLnJlcXVlc3RJZCA9IHJlcXVlc3RBRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoc2VsZi5zbGlkZXJMYXN0UG9zKSB7XG4gICAgICAgICQuZWFjaChzZWxmLmluc3RhbmNlLnNsaWRlcywgZnVuY3Rpb24oaW5kZXgsIHNsaWRlKSB7XG4gICAgICAgICAgdmFyIHBvcyA9IHNsaWRlLnBvcyAtIHNlbGYuaW5zdGFuY2UuY3VyclBvcztcblxuICAgICAgICAgICQuZmFuY3lib3guc2V0VHJhbnNsYXRlKHNsaWRlLiRzbGlkZSwge1xuICAgICAgICAgICAgdG9wOiBzZWxmLnNsaWRlckxhc3RQb3MudG9wLFxuICAgICAgICAgICAgbGVmdDogc2VsZi5zbGlkZXJMYXN0UG9zLmxlZnQgKyBwb3MgKiBzZWxmLmNhbnZhc1dpZHRoICsgcG9zICogc2xpZGUub3B0cy5ndXR0ZXJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2VsZi4kY29udGFpbmVyLmFkZENsYXNzKFwiZmFuY3lib3gtaXMtc2xpZGluZ1wiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBHdWVzdHVyZXMucHJvdG90eXBlLm9uUGFuID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gUHJldmVudCBhY2NpZGVudGFsIG1vdmVtZW50IChzb21ldGltZXMsIHdoZW4gdGFwcGluZyBjYXN1YWxseSwgZmluZ2VyIGNhbiBtb3ZlIGEgYml0KVxuICAgIGlmIChkaXN0YW5jZShzZWxmLm5ld1BvaW50c1swXSwgc2VsZi5yZWFsUG9pbnRzWzBdKSA8ICgkLmZhbmN5Ym94LmlzTW9iaWxlID8gMTAgOiA1KSkge1xuICAgICAgc2VsZi5zdGFydFBvaW50cyA9IHNlbGYubmV3UG9pbnRzO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNlbGYuY2FuVGFwID0gZmFsc2U7XG5cbiAgICBzZWxmLmNvbnRlbnRMYXN0UG9zID0gc2VsZi5saW1pdE1vdmVtZW50KCk7XG5cbiAgICBpZiAoc2VsZi5yZXF1ZXN0SWQpIHtcbiAgICAgIGNhbmNlbEFGcmFtZShzZWxmLnJlcXVlc3RJZCk7XG5cbiAgICAgIHNlbGYucmVxdWVzdElkID0gbnVsbDtcbiAgICB9XG5cbiAgICBzZWxmLnJlcXVlc3RJZCA9IHJlcXVlc3RBRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAkLmZhbmN5Ym94LnNldFRyYW5zbGF0ZShzZWxmLiRjb250ZW50LCBzZWxmLmNvbnRlbnRMYXN0UG9zKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBNYWtlIHBhbm5pbmcgc3RpY2t5IHRvIHRoZSBlZGdlc1xuICBHdWVzdHVyZXMucHJvdG90eXBlLmxpbWl0TW92ZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgY2FudmFzV2lkdGggPSBzZWxmLmNhbnZhc1dpZHRoO1xuICAgIHZhciBjYW52YXNIZWlnaHQgPSBzZWxmLmNhbnZhc0hlaWdodDtcblxuICAgIHZhciBkaXN0YW5jZVggPSBzZWxmLmRpc3RhbmNlWDtcbiAgICB2YXIgZGlzdGFuY2VZID0gc2VsZi5kaXN0YW5jZVk7XG5cbiAgICB2YXIgY29udGVudFN0YXJ0UG9zID0gc2VsZi5jb250ZW50U3RhcnRQb3M7XG5cbiAgICB2YXIgY3VycmVudE9mZnNldFggPSBjb250ZW50U3RhcnRQb3MubGVmdDtcbiAgICB2YXIgY3VycmVudE9mZnNldFkgPSBjb250ZW50U3RhcnRQb3MudG9wO1xuXG4gICAgdmFyIGN1cnJlbnRXaWR0aCA9IGNvbnRlbnRTdGFydFBvcy53aWR0aDtcbiAgICB2YXIgY3VycmVudEhlaWdodCA9IGNvbnRlbnRTdGFydFBvcy5oZWlnaHQ7XG5cbiAgICB2YXIgbWluVHJhbnNsYXRlWCwgbWluVHJhbnNsYXRlWSwgbWF4VHJhbnNsYXRlWCwgbWF4VHJhbnNsYXRlWSwgbmV3T2Zmc2V0WCwgbmV3T2Zmc2V0WTtcblxuICAgIGlmIChjdXJyZW50V2lkdGggPiBjYW52YXNXaWR0aCkge1xuICAgICAgbmV3T2Zmc2V0WCA9IGN1cnJlbnRPZmZzZXRYICsgZGlzdGFuY2VYO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdPZmZzZXRYID0gY3VycmVudE9mZnNldFg7XG4gICAgfVxuXG4gICAgbmV3T2Zmc2V0WSA9IGN1cnJlbnRPZmZzZXRZICsgZGlzdGFuY2VZO1xuXG4gICAgLy8gU2xvdyBkb3duIHByb3BvcnRpb25hbGx5IHRvIHRyYXZlbGVkIGRpc3RhbmNlXG4gICAgbWluVHJhbnNsYXRlWCA9IE1hdGgubWF4KDAsIGNhbnZhc1dpZHRoICogMC41IC0gY3VycmVudFdpZHRoICogMC41KTtcbiAgICBtaW5UcmFuc2xhdGVZID0gTWF0aC5tYXgoMCwgY2FudmFzSGVpZ2h0ICogMC41IC0gY3VycmVudEhlaWdodCAqIDAuNSk7XG5cbiAgICBtYXhUcmFuc2xhdGVYID0gTWF0aC5taW4oY2FudmFzV2lkdGggLSBjdXJyZW50V2lkdGgsIGNhbnZhc1dpZHRoICogMC41IC0gY3VycmVudFdpZHRoICogMC41KTtcbiAgICBtYXhUcmFuc2xhdGVZID0gTWF0aC5taW4oY2FudmFzSGVpZ2h0IC0gY3VycmVudEhlaWdodCwgY2FudmFzSGVpZ2h0ICogMC41IC0gY3VycmVudEhlaWdodCAqIDAuNSk7XG5cbiAgICAvLyAgIC0+XG4gICAgaWYgKGRpc3RhbmNlWCA+IDAgJiYgbmV3T2Zmc2V0WCA+IG1pblRyYW5zbGF0ZVgpIHtcbiAgICAgIG5ld09mZnNldFggPSBtaW5UcmFuc2xhdGVYIC0gMSArIE1hdGgucG93KC1taW5UcmFuc2xhdGVYICsgY3VycmVudE9mZnNldFggKyBkaXN0YW5jZVgsIDAuOCkgfHwgMDtcbiAgICB9XG5cbiAgICAvLyAgICA8LVxuICAgIGlmIChkaXN0YW5jZVggPCAwICYmIG5ld09mZnNldFggPCBtYXhUcmFuc2xhdGVYKSB7XG4gICAgICBuZXdPZmZzZXRYID0gbWF4VHJhbnNsYXRlWCArIDEgLSBNYXRoLnBvdyhtYXhUcmFuc2xhdGVYIC0gY3VycmVudE9mZnNldFggLSBkaXN0YW5jZVgsIDAuOCkgfHwgMDtcbiAgICB9XG5cbiAgICAvLyAgIFxcL1xuICAgIGlmIChkaXN0YW5jZVkgPiAwICYmIG5ld09mZnNldFkgPiBtaW5UcmFuc2xhdGVZKSB7XG4gICAgICBuZXdPZmZzZXRZID0gbWluVHJhbnNsYXRlWSAtIDEgKyBNYXRoLnBvdygtbWluVHJhbnNsYXRlWSArIGN1cnJlbnRPZmZzZXRZICsgZGlzdGFuY2VZLCAwLjgpIHx8IDA7XG4gICAgfVxuXG4gICAgLy8gICAvXFxcbiAgICBpZiAoZGlzdGFuY2VZIDwgMCAmJiBuZXdPZmZzZXRZIDwgbWF4VHJhbnNsYXRlWSkge1xuICAgICAgbmV3T2Zmc2V0WSA9IG1heFRyYW5zbGF0ZVkgKyAxIC0gTWF0aC5wb3cobWF4VHJhbnNsYXRlWSAtIGN1cnJlbnRPZmZzZXRZIC0gZGlzdGFuY2VZLCAwLjgpIHx8IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogbmV3T2Zmc2V0WSxcbiAgICAgIGxlZnQ6IG5ld09mZnNldFhcbiAgICB9O1xuICB9O1xuXG4gIEd1ZXN0dXJlcy5wcm90b3R5cGUubGltaXRQb3NpdGlvbiA9IGZ1bmN0aW9uKG5ld09mZnNldFgsIG5ld09mZnNldFksIG5ld1dpZHRoLCBuZXdIZWlnaHQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgY2FudmFzV2lkdGggPSBzZWxmLmNhbnZhc1dpZHRoO1xuICAgIHZhciBjYW52YXNIZWlnaHQgPSBzZWxmLmNhbnZhc0hlaWdodDtcblxuICAgIGlmIChuZXdXaWR0aCA+IGNhbnZhc1dpZHRoKSB7XG4gICAgICBuZXdPZmZzZXRYID0gbmV3T2Zmc2V0WCA+IDAgPyAwIDogbmV3T2Zmc2V0WDtcbiAgICAgIG5ld09mZnNldFggPSBuZXdPZmZzZXRYIDwgY2FudmFzV2lkdGggLSBuZXdXaWR0aCA/IGNhbnZhc1dpZHRoIC0gbmV3V2lkdGggOiBuZXdPZmZzZXRYO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDZW50ZXIgaG9yaXpvbnRhbGx5XG4gICAgICBuZXdPZmZzZXRYID0gTWF0aC5tYXgoMCwgY2FudmFzV2lkdGggLyAyIC0gbmV3V2lkdGggLyAyKTtcbiAgICB9XG5cbiAgICBpZiAobmV3SGVpZ2h0ID4gY2FudmFzSGVpZ2h0KSB7XG4gICAgICBuZXdPZmZzZXRZID0gbmV3T2Zmc2V0WSA+IDAgPyAwIDogbmV3T2Zmc2V0WTtcbiAgICAgIG5ld09mZnNldFkgPSBuZXdPZmZzZXRZIDwgY2FudmFzSGVpZ2h0IC0gbmV3SGVpZ2h0ID8gY2FudmFzSGVpZ2h0IC0gbmV3SGVpZ2h0IDogbmV3T2Zmc2V0WTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2VudGVyIHZlcnRpY2FsbHlcbiAgICAgIG5ld09mZnNldFkgPSBNYXRoLm1heCgwLCBjYW52YXNIZWlnaHQgLyAyIC0gbmV3SGVpZ2h0IC8gMik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogbmV3T2Zmc2V0WSxcbiAgICAgIGxlZnQ6IG5ld09mZnNldFhcbiAgICB9O1xuICB9O1xuXG4gIEd1ZXN0dXJlcy5wcm90b3R5cGUub25ab29tID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGN1cnJlbnQgZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgdG8gZ2V0IHBpbmNoIHJhdGlvIGFuZCBuZXcgd2lkdGggYW5kIGhlaWdodFxuICAgIHZhciBjb250ZW50U3RhcnRQb3MgPSBzZWxmLmNvbnRlbnRTdGFydFBvcztcblxuICAgIHZhciBjdXJyZW50V2lkdGggPSBjb250ZW50U3RhcnRQb3Mud2lkdGg7XG4gICAgdmFyIGN1cnJlbnRIZWlnaHQgPSBjb250ZW50U3RhcnRQb3MuaGVpZ2h0O1xuXG4gICAgdmFyIGN1cnJlbnRPZmZzZXRYID0gY29udGVudFN0YXJ0UG9zLmxlZnQ7XG4gICAgdmFyIGN1cnJlbnRPZmZzZXRZID0gY29udGVudFN0YXJ0UG9zLnRvcDtcblxuICAgIHZhciBlbmREaXN0YW5jZUJldHdlZW5GaW5nZXJzID0gZGlzdGFuY2Uoc2VsZi5uZXdQb2ludHNbMF0sIHNlbGYubmV3UG9pbnRzWzFdKTtcblxuICAgIHZhciBwaW5jaFJhdGlvID0gZW5kRGlzdGFuY2VCZXR3ZWVuRmluZ2VycyAvIHNlbGYuc3RhcnREaXN0YW5jZUJldHdlZW5GaW5nZXJzO1xuXG4gICAgdmFyIG5ld1dpZHRoID0gTWF0aC5mbG9vcihjdXJyZW50V2lkdGggKiBwaW5jaFJhdGlvKTtcbiAgICB2YXIgbmV3SGVpZ2h0ID0gTWF0aC5mbG9vcihjdXJyZW50SGVpZ2h0ICogcGluY2hSYXRpbyk7XG5cbiAgICAvLyBUaGlzIGlzIHRoZSB0cmFuc2xhdGlvbiBkdWUgdG8gcGluY2gtem9vbWluZ1xuICAgIHZhciB0cmFuc2xhdGVGcm9tWm9vbWluZ1ggPSAoY3VycmVudFdpZHRoIC0gbmV3V2lkdGgpICogc2VsZi5wZXJjZW50YWdlT2ZJbWFnZUF0UGluY2hQb2ludFg7XG4gICAgdmFyIHRyYW5zbGF0ZUZyb21ab29taW5nWSA9IChjdXJyZW50SGVpZ2h0IC0gbmV3SGVpZ2h0KSAqIHNlbGYucGVyY2VudGFnZU9mSW1hZ2VBdFBpbmNoUG9pbnRZO1xuXG4gICAgLy8gUG9pbnQgYmV0d2VlbiB0aGUgdHdvIHRvdWNoZXNcbiAgICB2YXIgY2VudGVyUG9pbnRFbmRYID0gKHNlbGYubmV3UG9pbnRzWzBdLnggKyBzZWxmLm5ld1BvaW50c1sxXS54KSAvIDIgLSAkKHdpbmRvdykuc2Nyb2xsTGVmdCgpO1xuICAgIHZhciBjZW50ZXJQb2ludEVuZFkgPSAoc2VsZi5uZXdQb2ludHNbMF0ueSArIHNlbGYubmV3UG9pbnRzWzFdLnkpIC8gMiAtICQod2luZG93KS5zY3JvbGxUb3AoKTtcblxuICAgIC8vIEFuZCB0aGlzIGlzIHRoZSB0cmFuc2xhdGlvbiBkdWUgdG8gdHJhbnNsYXRpb24gb2YgdGhlIGNlbnRlcnBvaW50XG4gICAgLy8gYmV0d2VlbiB0aGUgdHdvIGZpbmdlcnNcbiAgICB2YXIgdHJhbnNsYXRlRnJvbVRyYW5zbGF0aW5nWCA9IGNlbnRlclBvaW50RW5kWCAtIHNlbGYuY2VudGVyUG9pbnRTdGFydFg7XG4gICAgdmFyIHRyYW5zbGF0ZUZyb21UcmFuc2xhdGluZ1kgPSBjZW50ZXJQb2ludEVuZFkgLSBzZWxmLmNlbnRlclBvaW50U3RhcnRZO1xuXG4gICAgLy8gVGhlIG5ldyBvZmZzZXQgaXMgdGhlIG9sZC9jdXJyZW50IG9uZSBwbHVzIHRoZSB0b3RhbCB0cmFuc2xhdGlvblxuICAgIHZhciBuZXdPZmZzZXRYID0gY3VycmVudE9mZnNldFggKyAodHJhbnNsYXRlRnJvbVpvb21pbmdYICsgdHJhbnNsYXRlRnJvbVRyYW5zbGF0aW5nWCk7XG4gICAgdmFyIG5ld09mZnNldFkgPSBjdXJyZW50T2Zmc2V0WSArICh0cmFuc2xhdGVGcm9tWm9vbWluZ1kgKyB0cmFuc2xhdGVGcm9tVHJhbnNsYXRpbmdZKTtcblxuICAgIHZhciBuZXdQb3MgPSB7XG4gICAgICB0b3A6IG5ld09mZnNldFksXG4gICAgICBsZWZ0OiBuZXdPZmZzZXRYLFxuICAgICAgc2NhbGVYOiBwaW5jaFJhdGlvLFxuICAgICAgc2NhbGVZOiBwaW5jaFJhdGlvXG4gICAgfTtcblxuICAgIHNlbGYuY2FuVGFwID0gZmFsc2U7XG5cbiAgICBzZWxmLm5ld1dpZHRoID0gbmV3V2lkdGg7XG4gICAgc2VsZi5uZXdIZWlnaHQgPSBuZXdIZWlnaHQ7XG5cbiAgICBzZWxmLmNvbnRlbnRMYXN0UG9zID0gbmV3UG9zO1xuXG4gICAgaWYgKHNlbGYucmVxdWVzdElkKSB7XG4gICAgICBjYW5jZWxBRnJhbWUoc2VsZi5yZXF1ZXN0SWQpO1xuXG4gICAgICBzZWxmLnJlcXVlc3RJZCA9IG51bGw7XG4gICAgfVxuXG4gICAgc2VsZi5yZXF1ZXN0SWQgPSByZXF1ZXN0QUZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgJC5mYW5jeWJveC5zZXRUcmFuc2xhdGUoc2VsZi4kY29udGVudCwgc2VsZi5jb250ZW50TGFzdFBvcyk7XG4gICAgfSk7XG4gIH07XG5cbiAgR3Vlc3R1cmVzLnByb3RvdHlwZS5vbnRvdWNoZW5kID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgZE1zID0gTWF0aC5tYXgobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzZWxmLnN0YXJ0VGltZSwgMSk7XG5cbiAgICB2YXIgc3dpcGluZyA9IHNlbGYuaXNTd2lwaW5nO1xuICAgIHZhciBwYW5uaW5nID0gc2VsZi5pc1Bhbm5pbmc7XG4gICAgdmFyIHpvb21pbmcgPSBzZWxmLmlzWm9vbWluZztcbiAgICB2YXIgc2Nyb2xsaW5nID0gc2VsZi5pc1Njcm9sbGluZztcblxuICAgIHNlbGYuZW5kUG9pbnRzID0gZ2V0UG9pbnRlclhZKGUpO1xuXG4gICAgc2VsZi4kY29udGFpbmVyLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtY29udHJvbHMtLWlzR3JhYmJpbmdcIik7XG5cbiAgICAkKGRvY3VtZW50KS5vZmYoXCIuZmIudG91Y2hcIik7XG5cbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHNlbGYub25zY3JvbGwsIHRydWUpO1xuXG4gICAgaWYgKHNlbGYucmVxdWVzdElkKSB7XG4gICAgICBjYW5jZWxBRnJhbWUoc2VsZi5yZXF1ZXN0SWQpO1xuXG4gICAgICBzZWxmLnJlcXVlc3RJZCA9IG51bGw7XG4gICAgfVxuXG4gICAgc2VsZi5pc1N3aXBpbmcgPSBmYWxzZTtcbiAgICBzZWxmLmlzUGFubmluZyA9IGZhbHNlO1xuICAgIHNlbGYuaXNab29taW5nID0gZmFsc2U7XG4gICAgc2VsZi5pc1Njcm9sbGluZyA9IGZhbHNlO1xuXG4gICAgc2VsZi5pbnN0YW5jZS5pc0RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICBpZiAoc2VsZi5jYW5UYXApIHtcbiAgICAgIHJldHVybiBzZWxmLm9uVGFwKGUpO1xuICAgIH1cblxuICAgIHNlbGYuc3BlZWQgPSAzNjY7XG5cbiAgICAvLyBTcGVlZCBpbiBweC9tc1xuICAgIHNlbGYudmVsb2NpdHlYID0gc2VsZi5kaXN0YW5jZVggLyBkTXMgKiAwLjU7XG4gICAgc2VsZi52ZWxvY2l0eVkgPSBzZWxmLmRpc3RhbmNlWSAvIGRNcyAqIDAuNTtcblxuICAgIHNlbGYuc3BlZWRYID0gTWF0aC5tYXgoc2VsZi5zcGVlZCAqIDAuNSwgTWF0aC5taW4oc2VsZi5zcGVlZCAqIDEuNSwgMSAvIE1hdGguYWJzKHNlbGYudmVsb2NpdHlYKSAqIHNlbGYuc3BlZWQpKTtcblxuICAgIGlmIChwYW5uaW5nKSB7XG4gICAgICBzZWxmLmVuZFBhbm5pbmcoKTtcbiAgICB9IGVsc2UgaWYgKHpvb21pbmcpIHtcbiAgICAgIHNlbGYuZW5kWm9vbWluZygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmVuZFN3aXBpbmcoc3dpcGluZywgc2Nyb2xsaW5nKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH07XG5cbiAgR3Vlc3R1cmVzLnByb3RvdHlwZS5lbmRTd2lwaW5nID0gZnVuY3Rpb24oc3dpcGluZywgc2Nyb2xsaW5nKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgcmV0ID0gZmFsc2UsXG4gICAgICBsZW4gPSBzZWxmLmluc3RhbmNlLmdyb3VwLmxlbmd0aDtcblxuICAgIHNlbGYuc2xpZGVyTGFzdFBvcyA9IG51bGw7XG5cbiAgICAvLyBDbG9zZSBpZiBzd2lwZWQgdmVydGljYWxseSAvIG5hdmlnYXRlIGlmIGhvcml6b250YWxseVxuICAgIGlmIChzd2lwaW5nID09IFwieVwiICYmICFzY3JvbGxpbmcgJiYgTWF0aC5hYnMoc2VsZi5kaXN0YW5jZVkpID4gNTApIHtcbiAgICAgIC8vIENvbnRpbnVlIHZlcnRpY2FsIG1vdmVtZW50XG4gICAgICAkLmZhbmN5Ym94LmFuaW1hdGUoXG4gICAgICAgIHNlbGYuaW5zdGFuY2UuY3VycmVudC4kc2xpZGUsXG4gICAgICAgIHtcbiAgICAgICAgICB0b3A6IHNlbGYuc2xpZGVyU3RhcnRQb3MudG9wICsgc2VsZi5kaXN0YW5jZVkgKyBzZWxmLnZlbG9jaXR5WSAqIDE1MCxcbiAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgIH0sXG4gICAgICAgIDIwMFxuICAgICAgKTtcblxuICAgICAgcmV0ID0gc2VsZi5pbnN0YW5jZS5jbG9zZSh0cnVlLCAyMDApO1xuICAgIH0gZWxzZSBpZiAoc3dpcGluZyA9PSBcInhcIiAmJiBzZWxmLmRpc3RhbmNlWCA+IDUwICYmIGxlbiA+IDEpIHtcbiAgICAgIHJldCA9IHNlbGYuaW5zdGFuY2UucHJldmlvdXMoc2VsZi5zcGVlZFgpO1xuICAgIH0gZWxzZSBpZiAoc3dpcGluZyA9PSBcInhcIiAmJiBzZWxmLmRpc3RhbmNlWCA8IC01MCAmJiBsZW4gPiAxKSB7XG4gICAgICByZXQgPSBzZWxmLmluc3RhbmNlLm5leHQoc2VsZi5zcGVlZFgpO1xuICAgIH1cblxuICAgIGlmIChyZXQgPT09IGZhbHNlICYmIChzd2lwaW5nID09IFwieFwiIHx8IHN3aXBpbmcgPT0gXCJ5XCIpKSB7XG4gICAgICBpZiAoc2Nyb2xsaW5nIHx8IGxlbiA8IDIpIHtcbiAgICAgICAgc2VsZi5pbnN0YW5jZS5jZW50ZXJTbGlkZShzZWxmLmluc3RhbmNlLmN1cnJlbnQsIDE1MCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLmluc3RhbmNlLmp1bXBUbyhzZWxmLmluc3RhbmNlLmN1cnJlbnQuaW5kZXgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNlbGYuJGNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWlzLXNsaWRpbmdcIik7XG4gIH07XG5cbiAgLy8gTGltaXQgcGFubmluZyBmcm9tIGVkZ2VzXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PVxuICBHdWVzdHVyZXMucHJvdG90eXBlLmVuZFBhbm5pbmcgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIG5ld09mZnNldFgsIG5ld09mZnNldFksIG5ld1BvcztcblxuICAgIGlmICghc2VsZi5jb250ZW50TGFzdFBvcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzZWxmLm9wdHMubW9tZW50dW0gPT09IGZhbHNlKSB7XG4gICAgICBuZXdPZmZzZXRYID0gc2VsZi5jb250ZW50TGFzdFBvcy5sZWZ0O1xuICAgICAgbmV3T2Zmc2V0WSA9IHNlbGYuY29udGVudExhc3RQb3MudG9wO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDb250aW51ZSBtb3ZlbWVudFxuICAgICAgbmV3T2Zmc2V0WCA9IHNlbGYuY29udGVudExhc3RQb3MubGVmdCArIHNlbGYudmVsb2NpdHlYICogc2VsZi5zcGVlZDtcbiAgICAgIG5ld09mZnNldFkgPSBzZWxmLmNvbnRlbnRMYXN0UG9zLnRvcCArIHNlbGYudmVsb2NpdHlZICogc2VsZi5zcGVlZDtcbiAgICB9XG5cbiAgICBuZXdQb3MgPSBzZWxmLmxpbWl0UG9zaXRpb24obmV3T2Zmc2V0WCwgbmV3T2Zmc2V0WSwgc2VsZi5jb250ZW50U3RhcnRQb3Mud2lkdGgsIHNlbGYuY29udGVudFN0YXJ0UG9zLmhlaWdodCk7XG5cbiAgICBuZXdQb3Mud2lkdGggPSBzZWxmLmNvbnRlbnRTdGFydFBvcy53aWR0aDtcbiAgICBuZXdQb3MuaGVpZ2h0ID0gc2VsZi5jb250ZW50U3RhcnRQb3MuaGVpZ2h0O1xuXG4gICAgJC5mYW5jeWJveC5hbmltYXRlKHNlbGYuJGNvbnRlbnQsIG5ld1BvcywgMzMwKTtcbiAgfTtcblxuICBHdWVzdHVyZXMucHJvdG90eXBlLmVuZFpvb21pbmcgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgY3VycmVudCA9IHNlbGYuaW5zdGFuY2UuY3VycmVudDtcblxuICAgIHZhciBuZXdPZmZzZXRYLCBuZXdPZmZzZXRZLCBuZXdQb3MsIHJlc2V0O1xuXG4gICAgdmFyIG5ld1dpZHRoID0gc2VsZi5uZXdXaWR0aDtcbiAgICB2YXIgbmV3SGVpZ2h0ID0gc2VsZi5uZXdIZWlnaHQ7XG5cbiAgICBpZiAoIXNlbGYuY29udGVudExhc3RQb3MpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBuZXdPZmZzZXRYID0gc2VsZi5jb250ZW50TGFzdFBvcy5sZWZ0O1xuICAgIG5ld09mZnNldFkgPSBzZWxmLmNvbnRlbnRMYXN0UG9zLnRvcDtcblxuICAgIHJlc2V0ID0ge1xuICAgICAgdG9wOiBuZXdPZmZzZXRZLFxuICAgICAgbGVmdDogbmV3T2Zmc2V0WCxcbiAgICAgIHdpZHRoOiBuZXdXaWR0aCxcbiAgICAgIGhlaWdodDogbmV3SGVpZ2h0LFxuICAgICAgc2NhbGVYOiAxLFxuICAgICAgc2NhbGVZOiAxXG4gICAgfTtcblxuICAgIC8vIFJlc2V0IHNjYWxleC9zY2FsZVkgdmFsdWVzOyB0aGlzIGhlbHBzIGZvciBwZXJmb21hbmNlIGFuZCBkb2VzIG5vdCBicmVhayBhbmltYXRpb25cbiAgICAkLmZhbmN5Ym94LnNldFRyYW5zbGF0ZShzZWxmLiRjb250ZW50LCByZXNldCk7XG5cbiAgICBpZiAobmV3V2lkdGggPCBzZWxmLmNhbnZhc1dpZHRoICYmIG5ld0hlaWdodCA8IHNlbGYuY2FudmFzSGVpZ2h0KSB7XG4gICAgICBzZWxmLmluc3RhbmNlLnNjYWxlVG9GaXQoMTUwKTtcbiAgICB9IGVsc2UgaWYgKG5ld1dpZHRoID4gY3VycmVudC53aWR0aCB8fCBuZXdIZWlnaHQgPiBjdXJyZW50LmhlaWdodCkge1xuICAgICAgc2VsZi5pbnN0YW5jZS5zY2FsZVRvQWN0dWFsKHNlbGYuY2VudGVyUG9pbnRTdGFydFgsIHNlbGYuY2VudGVyUG9pbnRTdGFydFksIDE1MCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1BvcyA9IHNlbGYubGltaXRQb3NpdGlvbihuZXdPZmZzZXRYLCBuZXdPZmZzZXRZLCBuZXdXaWR0aCwgbmV3SGVpZ2h0KTtcblxuICAgICAgLy8gU3dpdGNoIGZyb20gc2NhbGUoKSB0byB3aWR0aC9oZWlnaHQgb3IgYW5pbWF0aW9uIHdpbGwgbm90IHdvcmsgY29ycmVjdGx5XG4gICAgICAkLmZhbmN5Ym94LnNldFRyYW5zbGF0ZShzZWxmLiRjb250ZW50LCAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShzZWxmLiRjb250ZW50KSk7XG5cbiAgICAgICQuZmFuY3lib3guYW5pbWF0ZShzZWxmLiRjb250ZW50LCBuZXdQb3MsIDE1MCk7XG4gICAgfVxuICB9O1xuXG4gIEd1ZXN0dXJlcy5wcm90b3R5cGUub25UYXAgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciAkdGFyZ2V0ID0gJChlLnRhcmdldCk7XG5cbiAgICB2YXIgaW5zdGFuY2UgPSBzZWxmLmluc3RhbmNlO1xuICAgIHZhciBjdXJyZW50ID0gaW5zdGFuY2UuY3VycmVudDtcblxuICAgIHZhciBlbmRQb2ludHMgPSAoZSAmJiBnZXRQb2ludGVyWFkoZSkpIHx8IHNlbGYuc3RhcnRQb2ludHM7XG5cbiAgICB2YXIgdGFwWCA9IGVuZFBvaW50c1swXSA/IGVuZFBvaW50c1swXS54IC0gJCh3aW5kb3cpLnNjcm9sbExlZnQoKSAtIHNlbGYuc3RhZ2VQb3MubGVmdCA6IDA7XG4gICAgdmFyIHRhcFkgPSBlbmRQb2ludHNbMF0gPyBlbmRQb2ludHNbMF0ueSAtICQod2luZG93KS5zY3JvbGxUb3AoKSAtIHNlbGYuc3RhZ2VQb3MudG9wIDogMDtcblxuICAgIHZhciB3aGVyZTtcblxuICAgIHZhciBwcm9jZXNzID0gZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgICB2YXIgYWN0aW9uID0gY3VycmVudC5vcHRzW3ByZWZpeF07XG5cbiAgICAgIGlmICgkLmlzRnVuY3Rpb24oYWN0aW9uKSkge1xuICAgICAgICBhY3Rpb24gPSBhY3Rpb24uYXBwbHkoaW5zdGFuY2UsIFtjdXJyZW50LCBlXSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghYWN0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgICAgY2FzZSBcImNsb3NlXCI6XG4gICAgICAgICAgaW5zdGFuY2UuY2xvc2Uoc2VsZi5zdGFydEV2ZW50KTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJ0b2dnbGVDb250cm9sc1wiOlxuICAgICAgICAgIGluc3RhbmNlLnRvZ2dsZUNvbnRyb2xzKHRydWUpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIm5leHRcIjpcbiAgICAgICAgICBpbnN0YW5jZS5uZXh0KCk7XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwibmV4dE9yQ2xvc2VcIjpcbiAgICAgICAgICBpZiAoaW5zdGFuY2UuZ3JvdXAubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgaW5zdGFuY2UubmV4dCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5jbG9zZShzZWxmLnN0YXJ0RXZlbnQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJ6b29tXCI6XG4gICAgICAgICAgaWYgKGN1cnJlbnQudHlwZSA9PSBcImltYWdlXCIgJiYgKGN1cnJlbnQuaXNMb2FkZWQgfHwgY3VycmVudC4kZ2hvc3QpKSB7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuY2FuUGFuKCkpIHtcbiAgICAgICAgICAgICAgaW5zdGFuY2Uuc2NhbGVUb0ZpdCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnN0YW5jZS5pc1NjYWxlZERvd24oKSkge1xuICAgICAgICAgICAgICBpbnN0YW5jZS5zY2FsZVRvQWN0dWFsKHRhcFgsIHRhcFkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnN0YW5jZS5ncm91cC5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgIGluc3RhbmNlLmNsb3NlKHNlbGYuc3RhcnRFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIElnbm9yZSByaWdodCBjbGlja1xuICAgIGlmIChlLm9yaWdpbmFsRXZlbnQgJiYgZS5vcmlnaW5hbEV2ZW50LmJ1dHRvbiA9PSAyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU2tpcCBpZiBjbGlja2VkIG9uIHRoZSBzY3JvbGxiYXJcbiAgICBpZiAoISR0YXJnZXQuaXMoXCJpbWdcIikgJiYgdGFwWCA+ICR0YXJnZXRbMF0uY2xpZW50V2lkdGggKyAkdGFyZ2V0Lm9mZnNldCgpLmxlZnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayB3aGVyZSBpcyBjbGlja2VkXG4gICAgaWYgKCR0YXJnZXQuaXMoXCIuZmFuY3lib3gtYmcsLmZhbmN5Ym94LWlubmVyLC5mYW5jeWJveC1vdXRlciwuZmFuY3lib3gtY29udGFpbmVyXCIpKSB7XG4gICAgICB3aGVyZSA9IFwiT3V0c2lkZVwiO1xuICAgIH0gZWxzZSBpZiAoJHRhcmdldC5pcyhcIi5mYW5jeWJveC1zbGlkZVwiKSkge1xuICAgICAgd2hlcmUgPSBcIlNsaWRlXCI7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGluc3RhbmNlLmN1cnJlbnQuJGNvbnRlbnQgJiZcbiAgICAgIGluc3RhbmNlLmN1cnJlbnQuJGNvbnRlbnRcbiAgICAgICAgLmZpbmQoJHRhcmdldClcbiAgICAgICAgLmFkZEJhY2soKVxuICAgICAgICAuZmlsdGVyKCR0YXJnZXQpLmxlbmd0aFxuICAgICkge1xuICAgICAgd2hlcmUgPSBcIkNvbnRlbnRcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBkb3VibGUgdGFwXG4gICAgaWYgKHNlbGYudGFwcGVkKSB7XG4gICAgICAvLyBTdG9wIHByZXZpb3VzbHkgY3JlYXRlZCBzaW5nbGUgdGFwXG4gICAgICBjbGVhclRpbWVvdXQoc2VsZi50YXBwZWQpO1xuICAgICAgc2VsZi50YXBwZWQgPSBudWxsO1xuXG4gICAgICAvLyBTa2lwIGlmIGRpc3RhbmNlIGJldHdlZW4gdGFwcyBpcyB0b28gYmlnXG4gICAgICBpZiAoTWF0aC5hYnModGFwWCAtIHNlbGYudGFwWCkgPiA1MCB8fCBNYXRoLmFicyh0YXBZIC0gc2VsZi50YXBZKSA+IDUwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBPSywgbm93IHdlIGFzc3VtZSB0aGF0IHRoaXMgaXMgYSBkb3VibGUtdGFwXG4gICAgICBwcm9jZXNzKFwiZGJsY2xpY2tcIiArIHdoZXJlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2luZ2xlIHRhcCB3aWxsIGJlIHByb2Nlc3NlZCBpZiB1c2VyIGhhcyBub3QgY2xpY2tlZCBzZWNvbmQgdGltZSB3aXRoaW4gMzAwbXNcbiAgICAgIC8vIG9yIHRoZXJlIGlzIG5vIG5lZWQgdG8gd2FpdCBmb3IgZG91YmxlLXRhcFxuICAgICAgc2VsZi50YXBYID0gdGFwWDtcbiAgICAgIHNlbGYudGFwWSA9IHRhcFk7XG5cbiAgICAgIGlmIChjdXJyZW50Lm9wdHNbXCJkYmxjbGlja1wiICsgd2hlcmVdICYmIGN1cnJlbnQub3B0c1tcImRibGNsaWNrXCIgKyB3aGVyZV0gIT09IGN1cnJlbnQub3B0c1tcImNsaWNrXCIgKyB3aGVyZV0pIHtcbiAgICAgICAgc2VsZi50YXBwZWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYudGFwcGVkID0gbnVsbDtcblxuICAgICAgICAgIHByb2Nlc3MoXCJjbGlja1wiICsgd2hlcmUpO1xuICAgICAgICB9LCA1MDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2VzcyhcImNsaWNrXCIgKyB3aGVyZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgJChkb2N1bWVudCkub24oXCJvbkFjdGl2YXRlLmZiXCIsIGZ1bmN0aW9uKGUsIGluc3RhbmNlKSB7XG4gICAgaWYgKGluc3RhbmNlICYmICFpbnN0YW5jZS5HdWVzdHVyZXMpIHtcbiAgICAgIGluc3RhbmNlLkd1ZXN0dXJlcyA9IG5ldyBHdWVzdHVyZXMoaW5zdGFuY2UpO1xuICAgIH1cbiAgfSk7XG59KSh3aW5kb3csIGRvY3VtZW50LCB3aW5kb3cualF1ZXJ5IHx8IGpRdWVyeSk7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vL1xuLy8gU2xpZGVTaG93XG4vLyBFbmFibGVzIHNsaWRlc2hvdyBmdW5jdGlvbmFsaXR5XG4vL1xuLy8gRXhhbXBsZSBvZiB1c2FnZTpcbi8vICQuZmFuY3lib3guZ2V0SW5zdGFuY2UoKS5TbGlkZVNob3cuc3RhcnQoKVxuLy9cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4oZnVuY3Rpb24oZG9jdW1lbnQsICQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgJC5leHRlbmQodHJ1ZSwgJC5mYW5jeWJveC5kZWZhdWx0cywge1xuICAgIGJ0blRwbDoge1xuICAgICAgc2xpZGVTaG93OlxuICAgICAgICAnPGJ1dHRvbiBkYXRhLWZhbmN5Ym94LXBsYXkgY2xhc3M9XCJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS1wbGF5XCIgdGl0bGU9XCJ7e1BMQVlfU1RBUlR9fVwiPicgK1xuICAgICAgICAnPHN2ZyB2aWV3Qm94PVwiMCAwIDQwIDQwXCI+JyArXG4gICAgICAgICc8cGF0aCBkPVwiTTEzLDEyIEwyNywyMCBMMTMsMjcgWlwiIC8+JyArXG4gICAgICAgICc8cGF0aCBkPVwiTTE1LDEwIHYxOSBNMjMsMTAgdjE5XCIgLz4nICtcbiAgICAgICAgXCI8L3N2Zz5cIiArXG4gICAgICAgIFwiPC9idXR0b24+XCJcbiAgICB9LFxuICAgIHNsaWRlU2hvdzoge1xuICAgICAgYXV0b1N0YXJ0OiBmYWxzZSxcbiAgICAgIHNwZWVkOiAzMDAwXG4gICAgfVxuICB9KTtcblxuICB2YXIgU2xpZGVTaG93ID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgdGhpcy5pbml0KCk7XG4gIH07XG5cbiAgJC5leHRlbmQoU2xpZGVTaG93LnByb3RvdHlwZSwge1xuICAgIHRpbWVyOiBudWxsLFxuICAgIGlzQWN0aXZlOiBmYWxzZSxcbiAgICAkYnV0dG9uOiBudWxsLFxuXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHNlbGYuJGJ1dHRvbiA9IHNlbGYuaW5zdGFuY2UuJHJlZnMudG9vbGJhci5maW5kKFwiW2RhdGEtZmFuY3lib3gtcGxheV1cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi50b2dnbGUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoc2VsZi5pbnN0YW5jZS5ncm91cC5sZW5ndGggPCAyIHx8ICFzZWxmLmluc3RhbmNlLmdyb3VwW3NlbGYuaW5zdGFuY2UuY3VyckluZGV4XS5vcHRzLnNsaWRlU2hvdykge1xuICAgICAgICBzZWxmLiRidXR0b24uaGlkZSgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzZXQ6IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIENoZWNrIGlmIHJlYWNoZWQgbGFzdCBlbGVtZW50XG4gICAgICBpZiAoXG4gICAgICAgIHNlbGYuaW5zdGFuY2UgJiZcbiAgICAgICAgc2VsZi5pbnN0YW5jZS5jdXJyZW50ICYmXG4gICAgICAgIChmb3JjZSA9PT0gdHJ1ZSB8fCBzZWxmLmluc3RhbmNlLmN1cnJlbnQub3B0cy5sb29wIHx8IHNlbGYuaW5zdGFuY2UuY3VyckluZGV4IDwgc2VsZi5pbnN0YW5jZS5ncm91cC5sZW5ndGggLSAxKVxuICAgICAgKSB7XG4gICAgICAgIHNlbGYudGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChzZWxmLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICBzZWxmLmluc3RhbmNlLmp1bXBUbygoc2VsZi5pbnN0YW5jZS5jdXJySW5kZXggKyAxKSAlIHNlbGYuaW5zdGFuY2UuZ3JvdXAubGVuZ3RoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHNlbGYuaW5zdGFuY2UuY3VycmVudC5vcHRzLnNsaWRlU2hvdy5zcGVlZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLnN0b3AoKTtcbiAgICAgICAgc2VsZi5pbnN0YW5jZS5pZGxlU2Vjb25kc0NvdW50ZXIgPSAwO1xuICAgICAgICBzZWxmLmluc3RhbmNlLnNob3dDb250cm9scygpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBjbGVhcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGNsZWFyVGltZW91dChzZWxmLnRpbWVyKTtcblxuICAgICAgc2VsZi50aW1lciA9IG51bGw7XG4gICAgfSxcblxuICAgIHN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBjdXJyZW50ID0gc2VsZi5pbnN0YW5jZS5jdXJyZW50O1xuXG4gICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICBzZWxmLmlzQWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICBzZWxmLiRidXR0b25cbiAgICAgICAgICAuYXR0cihcInRpdGxlXCIsIGN1cnJlbnQub3B0cy5pMThuW2N1cnJlbnQub3B0cy5sYW5nXS5QTEFZX1NUT1ApXG4gICAgICAgICAgLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtYnV0dG9uLS1wbGF5XCIpXG4gICAgICAgICAgLmFkZENsYXNzKFwiZmFuY3lib3gtYnV0dG9uLS1wYXVzZVwiKTtcblxuICAgICAgICBzZWxmLnNldCh0cnVlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgY3VycmVudCA9IHNlbGYuaW5zdGFuY2UuY3VycmVudDtcblxuICAgICAgc2VsZi5jbGVhcigpO1xuXG4gICAgICBzZWxmLiRidXR0b25cbiAgICAgICAgLmF0dHIoXCJ0aXRsZVwiLCBjdXJyZW50Lm9wdHMuaTE4bltjdXJyZW50Lm9wdHMubGFuZ10uUExBWV9TVEFSVClcbiAgICAgICAgLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtYnV0dG9uLS1wYXVzZVwiKVxuICAgICAgICAuYWRkQ2xhc3MoXCJmYW5jeWJveC1idXR0b24tLXBsYXlcIik7XG5cbiAgICAgIHNlbGYuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgdG9nZ2xlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKHNlbGYuaXNBY3RpdmUpIHtcbiAgICAgICAgc2VsZi5zdG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLnN0YXJ0KCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAkKGRvY3VtZW50KS5vbih7XG4gICAgXCJvbkluaXQuZmJcIjogZnVuY3Rpb24oZSwgaW5zdGFuY2UpIHtcbiAgICAgIGlmIChpbnN0YW5jZSAmJiAhaW5zdGFuY2UuU2xpZGVTaG93KSB7XG4gICAgICAgIGluc3RhbmNlLlNsaWRlU2hvdyA9IG5ldyBTbGlkZVNob3coaW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImJlZm9yZVNob3cuZmJcIjogZnVuY3Rpb24oZSwgaW5zdGFuY2UsIGN1cnJlbnQsIGZpcnN0UnVuKSB7XG4gICAgICB2YXIgU2xpZGVTaG93ID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuU2xpZGVTaG93O1xuXG4gICAgICBpZiAoZmlyc3RSdW4pIHtcbiAgICAgICAgaWYgKFNsaWRlU2hvdyAmJiBjdXJyZW50Lm9wdHMuc2xpZGVTaG93LmF1dG9TdGFydCkge1xuICAgICAgICAgIFNsaWRlU2hvdy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKFNsaWRlU2hvdyAmJiBTbGlkZVNob3cuaXNBY3RpdmUpIHtcbiAgICAgICAgU2xpZGVTaG93LmNsZWFyKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiYWZ0ZXJTaG93LmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlLCBjdXJyZW50KSB7XG4gICAgICB2YXIgU2xpZGVTaG93ID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuU2xpZGVTaG93O1xuXG4gICAgICBpZiAoU2xpZGVTaG93ICYmIFNsaWRlU2hvdy5pc0FjdGl2ZSkge1xuICAgICAgICBTbGlkZVNob3cuc2V0KCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiYWZ0ZXJLZXlkb3duLmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlLCBjdXJyZW50LCBrZXlwcmVzcywga2V5Y29kZSkge1xuICAgICAgdmFyIFNsaWRlU2hvdyA9IGluc3RhbmNlICYmIGluc3RhbmNlLlNsaWRlU2hvdztcblxuICAgICAgLy8gXCJQXCIgb3IgU3BhY2ViYXJcbiAgICAgIGlmIChTbGlkZVNob3cgJiYgY3VycmVudC5vcHRzLnNsaWRlU2hvdyAmJiAoa2V5Y29kZSA9PT0gODAgfHwga2V5Y29kZSA9PT0gMzIpICYmICEkKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLmlzKFwiYnV0dG9uLGEsaW5wdXRcIikpIHtcbiAgICAgICAga2V5cHJlc3MucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBTbGlkZVNob3cudG9nZ2xlKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiYmVmb3JlQ2xvc2UuZmIgb25EZWFjdGl2YXRlLmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlKSB7XG4gICAgICB2YXIgU2xpZGVTaG93ID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuU2xpZGVTaG93O1xuXG4gICAgICBpZiAoU2xpZGVTaG93KSB7XG4gICAgICAgIFNsaWRlU2hvdy5zdG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvLyBQYWdlIFZpc2liaWxpdHkgQVBJIHRvIHBhdXNlIHNsaWRlc2hvdyB3aGVuIHdpbmRvdyBpcyBub3QgYWN0aXZlXG4gICQoZG9jdW1lbnQpLm9uKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSAkLmZhbmN5Ym94LmdldEluc3RhbmNlKCk7XG4gICAgdmFyIFNsaWRlU2hvdyA9IGluc3RhbmNlICYmIGluc3RhbmNlLlNsaWRlU2hvdztcblxuICAgIGlmIChTbGlkZVNob3cgJiYgU2xpZGVTaG93LmlzQWN0aXZlKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgIFNsaWRlU2hvdy5jbGVhcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgU2xpZGVTaG93LnNldCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59KShkb2N1bWVudCwgd2luZG93LmpRdWVyeSB8fCBqUXVlcnkpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy9cbi8vIEZ1bGxTY3JlZW5cbi8vIEFkZHMgZnVsbHNjcmVlbiBmdW5jdGlvbmFsaXR5XG4vL1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbihmdW5jdGlvbihkb2N1bWVudCwgJCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAvLyBDb2xsZWN0aW9uIG9mIG1ldGhvZHMgc3VwcG9ydGVkIGJ5IHVzZXIgYnJvd3NlclxuICB2YXIgZm4gPSAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZuTWFwID0gW1xuICAgICAgW1wicmVxdWVzdEZ1bGxzY3JlZW5cIiwgXCJleGl0RnVsbHNjcmVlblwiLCBcImZ1bGxzY3JlZW5FbGVtZW50XCIsIFwiZnVsbHNjcmVlbkVuYWJsZWRcIiwgXCJmdWxsc2NyZWVuY2hhbmdlXCIsIFwiZnVsbHNjcmVlbmVycm9yXCJdLFxuICAgICAgLy8gbmV3IFdlYktpdFxuICAgICAgW1xuICAgICAgICBcIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuXCIsXG4gICAgICAgIFwid2Via2l0RXhpdEZ1bGxzY3JlZW5cIixcbiAgICAgICAgXCJ3ZWJraXRGdWxsc2NyZWVuRWxlbWVudFwiLFxuICAgICAgICBcIndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkXCIsXG4gICAgICAgIFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLFxuICAgICAgICBcIndlYmtpdGZ1bGxzY3JlZW5lcnJvclwiXG4gICAgICBdLFxuICAgICAgLy8gb2xkIFdlYktpdCAoU2FmYXJpIDUuMSlcbiAgICAgIFtcbiAgICAgICAgXCJ3ZWJraXRSZXF1ZXN0RnVsbFNjcmVlblwiLFxuICAgICAgICBcIndlYmtpdENhbmNlbEZ1bGxTY3JlZW5cIixcbiAgICAgICAgXCJ3ZWJraXRDdXJyZW50RnVsbFNjcmVlbkVsZW1lbnRcIixcbiAgICAgICAgXCJ3ZWJraXRDYW5jZWxGdWxsU2NyZWVuXCIsXG4gICAgICAgIFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLFxuICAgICAgICBcIndlYmtpdGZ1bGxzY3JlZW5lcnJvclwiXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICBcIm1velJlcXVlc3RGdWxsU2NyZWVuXCIsXG4gICAgICAgIFwibW96Q2FuY2VsRnVsbFNjcmVlblwiLFxuICAgICAgICBcIm1vekZ1bGxTY3JlZW5FbGVtZW50XCIsXG4gICAgICAgIFwibW96RnVsbFNjcmVlbkVuYWJsZWRcIixcbiAgICAgICAgXCJtb3pmdWxsc2NyZWVuY2hhbmdlXCIsXG4gICAgICAgIFwibW96ZnVsbHNjcmVlbmVycm9yXCJcbiAgICAgIF0sXG4gICAgICBbXCJtc1JlcXVlc3RGdWxsc2NyZWVuXCIsIFwibXNFeGl0RnVsbHNjcmVlblwiLCBcIm1zRnVsbHNjcmVlbkVsZW1lbnRcIiwgXCJtc0Z1bGxzY3JlZW5FbmFibGVkXCIsIFwiTVNGdWxsc2NyZWVuQ2hhbmdlXCIsIFwiTVNGdWxsc2NyZWVuRXJyb3JcIl1cbiAgICBdO1xuXG4gICAgdmFyIHJldCA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmbk1hcC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbCA9IGZuTWFwW2ldO1xuXG4gICAgICBpZiAodmFsICYmIHZhbFsxXSBpbiBkb2N1bWVudCkge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbC5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHJldFtmbk1hcFswXVtqXV0gPSB2YWxbal07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSkoKTtcblxuICAvLyBJZiBicm93c2VyIGRvZXMgbm90IGhhdmUgRnVsbCBTY3JlZW4gQVBJLCB0aGVuIHNpbXBseSB1bnNldCBkZWZhdWx0IGJ1dHRvbiB0ZW1wbGF0ZSBhbmQgc3RvcFxuICBpZiAoIWZuKSB7XG4gICAgaWYgKCQgJiYgJC5mYW5jeWJveCkge1xuICAgICAgJC5mYW5jeWJveC5kZWZhdWx0cy5idG5UcGwuZnVsbFNjcmVlbiA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBGdWxsU2NyZWVuID0ge1xuICAgIHJlcXVlc3Q6IGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgIGVsZW0gPSBlbGVtIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuICAgICAgZWxlbVtmbi5yZXF1ZXN0RnVsbHNjcmVlbl0oZWxlbS5BTExPV19LRVlCT0FSRF9JTlBVVCk7XG4gICAgfSxcbiAgICBleGl0OiBmdW5jdGlvbigpIHtcbiAgICAgIGRvY3VtZW50W2ZuLmV4aXRGdWxsc2NyZWVuXSgpO1xuICAgIH0sXG4gICAgdG9nZ2xlOiBmdW5jdGlvbihlbGVtKSB7XG4gICAgICBlbGVtID0gZWxlbSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgICAgIGlmICh0aGlzLmlzRnVsbHNjcmVlbigpKSB7XG4gICAgICAgIHRoaXMuZXhpdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0KGVsZW0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgaXNGdWxsc2NyZWVuOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKGRvY3VtZW50W2ZuLmZ1bGxzY3JlZW5FbGVtZW50XSk7XG4gICAgfSxcbiAgICBlbmFibGVkOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKGRvY3VtZW50W2ZuLmZ1bGxzY3JlZW5FbmFibGVkXSk7XG4gICAgfVxuICB9O1xuXG4gICQuZXh0ZW5kKHRydWUsICQuZmFuY3lib3guZGVmYXVsdHMsIHtcbiAgICBidG5UcGw6IHtcbiAgICAgIGZ1bGxTY3JlZW46XG4gICAgICAgICc8YnV0dG9uIGRhdGEtZmFuY3lib3gtZnVsbHNjcmVlbiBjbGFzcz1cImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLWZ1bGxzY3JlZW5cIiB0aXRsZT1cInt7RlVMTF9TQ1JFRU59fVwiPicgK1xuICAgICAgICAnPHN2ZyB2aWV3Qm94PVwiMCAwIDQwIDQwXCI+JyArXG4gICAgICAgICc8cGF0aCBkPVwiTTksMTIgdjE2IGgyMiB2LTE2IGgtMjIgdjhcIiAvPicgK1xuICAgICAgICBcIjwvc3ZnPlwiICtcbiAgICAgICAgXCI8L2J1dHRvbj5cIlxuICAgIH0sXG4gICAgZnVsbFNjcmVlbjoge1xuICAgICAgYXV0b1N0YXJ0OiBmYWxzZVxuICAgIH1cbiAgfSk7XG5cbiAgJChkb2N1bWVudCkub24oe1xuICAgIFwib25Jbml0LmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlKSB7XG4gICAgICB2YXIgJGNvbnRhaW5lcjtcblxuICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLmdyb3VwW2luc3RhbmNlLmN1cnJJbmRleF0ub3B0cy5mdWxsU2NyZWVuKSB7XG4gICAgICAgICRjb250YWluZXIgPSBpbnN0YW5jZS4kcmVmcy5jb250YWluZXI7XG5cbiAgICAgICAgJGNvbnRhaW5lci5vbihcImNsaWNrLmZiLWZ1bGxzY3JlZW5cIiwgXCJbZGF0YS1mYW5jeWJveC1mdWxsc2NyZWVuXVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICBGdWxsU2NyZWVuLnRvZ2dsZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaW5zdGFuY2Uub3B0cy5mdWxsU2NyZWVuICYmIGluc3RhbmNlLm9wdHMuZnVsbFNjcmVlbi5hdXRvU3RhcnQgPT09IHRydWUpIHtcbiAgICAgICAgICBGdWxsU2NyZWVuLnJlcXVlc3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEV4cG9zZSBBUElcbiAgICAgICAgaW5zdGFuY2UuRnVsbFNjcmVlbiA9IEZ1bGxTY3JlZW47XG4gICAgICB9IGVsc2UgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgIGluc3RhbmNlLiRyZWZzLnRvb2xiYXIuZmluZChcIltkYXRhLWZhbmN5Ym94LWZ1bGxzY3JlZW5dXCIpLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJhZnRlcktleWRvd24uZmJcIjogZnVuY3Rpb24oZSwgaW5zdGFuY2UsIGN1cnJlbnQsIGtleXByZXNzLCBrZXljb2RlKSB7XG4gICAgICAvLyBcIkZcIlxuICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLkZ1bGxTY3JlZW4gJiYga2V5Y29kZSA9PT0gNzApIHtcbiAgICAgICAga2V5cHJlc3MucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpbnN0YW5jZS5GdWxsU2NyZWVuLnRvZ2dsZSgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImJlZm9yZUNsb3NlLmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlKSB7XG4gICAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuRnVsbFNjcmVlbiAmJiBpbnN0YW5jZS4kcmVmcy5jb250YWluZXIuaGFzQ2xhc3MoXCJmYW5jeWJveC1pcy1mdWxsc2NyZWVuXCIpKSB7XG4gICAgICAgIEZ1bGxTY3JlZW4uZXhpdCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgJChkb2N1bWVudCkub24oZm4uZnVsbHNjcmVlbmNoYW5nZSwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlzRnVsbHNjcmVlbiA9IEZ1bGxTY3JlZW4uaXNGdWxsc2NyZWVuKCksXG4gICAgICBpbnN0YW5jZSA9ICQuZmFuY3lib3guZ2V0SW5zdGFuY2UoKTtcblxuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgLy8gSWYgaW1hZ2UgaXMgem9vbWluZywgdGhlbiBmb3JjZSB0byBzdG9wIGFuZCByZXBvc2l0aW9uIHByb3Blcmx5XG4gICAgICBpZiAoaW5zdGFuY2UuY3VycmVudCAmJiBpbnN0YW5jZS5jdXJyZW50LnR5cGUgPT09IFwiaW1hZ2VcIiAmJiBpbnN0YW5jZS5pc0FuaW1hdGluZykge1xuICAgICAgICBpbnN0YW5jZS5jdXJyZW50LiRjb250ZW50LmNzcyhcInRyYW5zaXRpb25cIiwgXCJub25lXCIpO1xuXG4gICAgICAgIGluc3RhbmNlLmlzQW5pbWF0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgaW5zdGFuY2UudXBkYXRlKHRydWUsIHRydWUsIDApO1xuICAgICAgfVxuXG4gICAgICBpbnN0YW5jZS50cmlnZ2VyKFwib25GdWxsc2NyZWVuQ2hhbmdlXCIsIGlzRnVsbHNjcmVlbik7XG5cbiAgICAgIGluc3RhbmNlLiRyZWZzLmNvbnRhaW5lci50b2dnbGVDbGFzcyhcImZhbmN5Ym94LWlzLWZ1bGxzY3JlZW5cIiwgaXNGdWxsc2NyZWVuKTtcbiAgICB9XG4gIH0pO1xufSkoZG9jdW1lbnQsIHdpbmRvdy5qUXVlcnkgfHwgalF1ZXJ5KTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vXG4vLyBUaHVtYnNcbi8vIERpc3BsYXlzIHRodW1ibmFpbHMgaW4gYSBncmlkXG4vL1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbihmdW5jdGlvbihkb2N1bWVudCwgJCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgQ0xBU1MgPSBcImZhbmN5Ym94LXRodW1ic1wiLFxuICAgIENMQVNTX0FDVElWRSA9IENMQVNTICsgXCItYWN0aXZlXCIsXG4gICAgQ0xBU1NfTE9BRCA9IENMQVNTICsgXCItbG9hZGluZ1wiO1xuXG4gIC8vIE1ha2Ugc3VyZSB0aGVyZSBhcmUgZGVmYXVsdCB2YWx1ZXNcbiAgJC5mYW5jeWJveC5kZWZhdWx0cyA9ICQuZXh0ZW5kKFxuICAgIHRydWUsXG4gICAge1xuICAgICAgYnRuVHBsOiB7XG4gICAgICAgIHRodW1iczpcbiAgICAgICAgICAnPGJ1dHRvbiBkYXRhLWZhbmN5Ym94LXRodW1icyBjbGFzcz1cImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLXRodW1ic1wiIHRpdGxlPVwie3tUSFVNQlN9fVwiPicgK1xuICAgICAgICAgICc8c3ZnIHZpZXdCb3g9XCIwIDAgMTIwIDEyMFwiPicgK1xuICAgICAgICAgICc8cGF0aCBkPVwiTTMwLDMwIGgxNCB2MTQgaC0xNCBaIE01MCwzMCBoMTQgdjE0IGgtMTQgWiBNNzAsMzAgaDE0IHYxNCBoLTE0IFogTTMwLDUwIGgxNCB2MTQgaC0xNCBaIE01MCw1MCBoMTQgdjE0IGgtMTQgWiBNNzAsNTAgaDE0IHYxNCBoLTE0IFogTTMwLDcwIGgxNCB2MTQgaC0xNCBaIE01MCw3MCBoMTQgdjE0IGgtMTQgWiBNNzAsNzAgaDE0IHYxNCBoLTE0IFpcIiAvPicgK1xuICAgICAgICAgIFwiPC9zdmc+XCIgK1xuICAgICAgICAgIFwiPC9idXR0b24+XCJcbiAgICAgIH0sXG4gICAgICB0aHVtYnM6IHtcbiAgICAgICAgYXV0b1N0YXJ0OiBmYWxzZSwgLy8gRGlzcGxheSB0aHVtYm5haWxzIG9uIG9wZW5pbmdcbiAgICAgICAgaGlkZU9uQ2xvc2U6IHRydWUsIC8vIEhpZGUgdGh1bWJuYWlsIGdyaWQgd2hlbiBjbG9zaW5nIGFuaW1hdGlvbiBzdGFydHNcbiAgICAgICAgcGFyZW50RWw6IFwiLmZhbmN5Ym94LWNvbnRhaW5lclwiLCAvLyBDb250YWluZXIgaXMgaW5qZWN0ZWQgaW50byB0aGlzIGVsZW1lbnRcbiAgICAgICAgYXhpczogXCJ5XCIgLy8gVmVydGljYWwgKHkpIG9yIGhvcml6b250YWwgKHgpIHNjcm9sbGluZ1xuICAgICAgfVxuICAgIH0sXG4gICAgJC5mYW5jeWJveC5kZWZhdWx0c1xuICApO1xuXG4gIHZhciBGYW5jeVRodW1icyA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdGhpcy5pbml0KGluc3RhbmNlKTtcbiAgfTtcblxuICAkLmV4dGVuZChGYW5jeVRodW1icy5wcm90b3R5cGUsIHtcbiAgICAkYnV0dG9uOiBudWxsLFxuICAgICRncmlkOiBudWxsLFxuICAgICRsaXN0OiBudWxsLFxuICAgIGlzVmlzaWJsZTogZmFsc2UsXG4gICAgaXNBY3RpdmU6IGZhbHNlLFxuXG4gICAgaW5pdDogZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgZmlyc3QsXG4gICAgICAgIHNlY29uZDtcblxuICAgICAgc2VsZi5pbnN0YW5jZSA9IGluc3RhbmNlO1xuXG4gICAgICBpbnN0YW5jZS5UaHVtYnMgPSBzZWxmO1xuXG4gICAgICBzZWxmLm9wdHMgPSBpbnN0YW5jZS5ncm91cFtpbnN0YW5jZS5jdXJySW5kZXhdLm9wdHMudGh1bWJzO1xuXG4gICAgICAvLyBFbmFibGUgdGh1bWJzIGlmIGF0IGxlYXN0IHR3byBncm91cCBpdGVtcyBoYXZlIHRodW1ibmFpbHNcbiAgICAgIGZpcnN0ID0gaW5zdGFuY2UuZ3JvdXBbMF07XG4gICAgICBmaXJzdCA9IGZpcnN0Lm9wdHMudGh1bWIgfHwgKGZpcnN0Lm9wdHMuJHRodW1iICYmIGZpcnN0Lm9wdHMuJHRodW1iLmxlbmd0aCA/IGZpcnN0Lm9wdHMuJHRodW1iLmF0dHIoXCJzcmNcIikgOiBmYWxzZSk7XG5cbiAgICAgIGlmIChpbnN0YW5jZS5ncm91cC5sZW5ndGggPiAxKSB7XG4gICAgICAgIHNlY29uZCA9IGluc3RhbmNlLmdyb3VwWzFdO1xuICAgICAgICBzZWNvbmQgPSBzZWNvbmQub3B0cy50aHVtYiB8fCAoc2Vjb25kLm9wdHMuJHRodW1iICYmIHNlY29uZC5vcHRzLiR0aHVtYi5sZW5ndGggPyBzZWNvbmQub3B0cy4kdGh1bWIuYXR0cihcInNyY1wiKSA6IGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgc2VsZi4kYnV0dG9uID0gaW5zdGFuY2UuJHJlZnMudG9vbGJhci5maW5kKFwiW2RhdGEtZmFuY3lib3gtdGh1bWJzXVwiKTtcblxuICAgICAgaWYgKHNlbGYub3B0cyAmJiBmaXJzdCAmJiBzZWNvbmQgJiYgZmlyc3QgJiYgc2Vjb25kKSB7XG4gICAgICAgIHNlbGYuJGJ1dHRvbi5zaG93KCkub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnRvZ2dsZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZWxmLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuJGJ1dHRvbi5oaWRlKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGNyZWF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGluc3RhbmNlID0gc2VsZi5pbnN0YW5jZSxcbiAgICAgICAgcGFyZW50RWwgPSBzZWxmLm9wdHMucGFyZW50RWwsXG4gICAgICAgIGxpc3QgPSBbXSxcbiAgICAgICAgc3JjO1xuXG4gICAgICBpZiAoIXNlbGYuJGdyaWQpIHtcbiAgICAgICAgLy8gQ3JlYXRlIG1haW4gZWxlbWVudFxuICAgICAgICBzZWxmLiRncmlkID0gJCgnPGRpdiBjbGFzcz1cIicgKyBDTEFTUyArIFwiIFwiICsgQ0xBU1MgKyBcIi1cIiArIHNlbGYub3B0cy5heGlzICsgJ1wiPjwvZGl2PicpLmFwcGVuZFRvKFxuICAgICAgICAgIGluc3RhbmNlLiRyZWZzLmNvbnRhaW5lclxuICAgICAgICAgICAgLmZpbmQocGFyZW50RWwpXG4gICAgICAgICAgICAuYWRkQmFjaygpXG4gICAgICAgICAgICAuZmlsdGVyKHBhcmVudEVsKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIEFkZCBcImNsaWNrXCIgZXZlbnQgdGhhdCBwZXJmb3JtcyBnYWxsZXJ5IG5hdmlnYXRpb25cbiAgICAgICAgc2VsZi4kZ3JpZC5vbihcImNsaWNrXCIsIFwibGlcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaW5zdGFuY2UuanVtcFRvKCQodGhpcykuYXR0cihcImRhdGEtaW5kZXhcIikpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gQnVpbGQgdGhlIGxpc3RcbiAgICAgIGlmICghc2VsZi4kbGlzdCkge1xuICAgICAgICBzZWxmLiRsaXN0ID0gJChcIjx1bD5cIikuYXBwZW5kVG8oc2VsZi4kZ3JpZCk7XG4gICAgICB9XG5cbiAgICAgICQuZWFjaChpbnN0YW5jZS5ncm91cCwgZnVuY3Rpb24oaSwgaXRlbSkge1xuICAgICAgICBzcmMgPSBpdGVtLm9wdHMudGh1bWIgfHwgKGl0ZW0ub3B0cy4kdGh1bWIgPyBpdGVtLm9wdHMuJHRodW1iLmF0dHIoXCJzcmNcIikgOiBudWxsKTtcblxuICAgICAgICBpZiAoIXNyYyAmJiBpdGVtLnR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgICAgICAgIHNyYyA9IGl0ZW0uc3JjO1xuICAgICAgICB9XG5cbiAgICAgICAgbGlzdC5wdXNoKFxuICAgICAgICAgICc8bGkgZGF0YS1pbmRleD1cIicgK1xuICAgICAgICAgICAgaSArXG4gICAgICAgICAgICAnXCIgdGFiaW5kZXg9XCIwXCIgY2xhc3M9XCInICtcbiAgICAgICAgICAgIENMQVNTX0xPQUQgK1xuICAgICAgICAgICAgJ1wiJyArXG4gICAgICAgICAgICAoc3JjICYmIHNyYy5sZW5ndGggPyAnIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTp1cmwoJyArIHNyYyArICcpXCIgLz4nIDogXCJcIikgK1xuICAgICAgICAgICAgXCI+PC9saT5cIlxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIHNlbGYuJGxpc3RbMF0uaW5uZXJIVE1MID0gbGlzdC5qb2luKFwiXCIpO1xuXG4gICAgICBpZiAoc2VsZi5vcHRzLmF4aXMgPT09IFwieFwiKSB7XG4gICAgICAgIC8vIFNldCBmaXhlZCB3aWR0aCBmb3IgbGlzdCBlbGVtZW50IHRvIGVuYWJsZSBob3Jpem9udGFsIHNjcm9sbGluZ1xuICAgICAgICBzZWxmLiRsaXN0LndpZHRoKFxuICAgICAgICAgIHBhcnNlSW50KHNlbGYuJGdyaWQuY3NzKFwicGFkZGluZy1yaWdodFwiKSwgMTApICtcbiAgICAgICAgICAgIGluc3RhbmNlLmdyb3VwLmxlbmd0aCAqXG4gICAgICAgICAgICAgIHNlbGYuJGxpc3RcbiAgICAgICAgICAgICAgICAuY2hpbGRyZW4oKVxuICAgICAgICAgICAgICAgIC5lcSgwKVxuICAgICAgICAgICAgICAgIC5vdXRlcldpZHRoKHRydWUpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGZvY3VzOiBmdW5jdGlvbihkdXJhdGlvbikge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAkbGlzdCA9IHNlbGYuJGxpc3QsXG4gICAgICAgICRncmlkID0gc2VsZi4kZ3JpZCxcbiAgICAgICAgdGh1bWIsXG4gICAgICAgIHRodW1iUG9zO1xuXG4gICAgICBpZiAoIXNlbGYuaW5zdGFuY2UuY3VycmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRodW1iID0gJGxpc3RcbiAgICAgICAgLmNoaWxkcmVuKClcbiAgICAgICAgLnJlbW92ZUNsYXNzKENMQVNTX0FDVElWRSlcbiAgICAgICAgLmZpbHRlcignW2RhdGEtaW5kZXg9XCInICsgc2VsZi5pbnN0YW5jZS5jdXJyZW50LmluZGV4ICsgJ1wiXScpXG4gICAgICAgIC5hZGRDbGFzcyhDTEFTU19BQ1RJVkUpO1xuXG4gICAgICB0aHVtYlBvcyA9IHRodW1iLnBvc2l0aW9uKCk7XG5cbiAgICAgIC8vIENoZWNrIGlmIG5lZWQgdG8gc2Nyb2xsIHRvIG1ha2UgY3VycmVudCB0aHVtYiB2aXNpYmxlXG4gICAgICBpZiAoc2VsZi5vcHRzLmF4aXMgPT09IFwieVwiICYmICh0aHVtYlBvcy50b3AgPCAwIHx8IHRodW1iUG9zLnRvcCA+ICRsaXN0LmhlaWdodCgpIC0gdGh1bWIub3V0ZXJIZWlnaHQoKSkpIHtcbiAgICAgICAgJGxpc3Quc3RvcCgpLmFuaW1hdGUoXG4gICAgICAgICAge1xuICAgICAgICAgICAgc2Nyb2xsVG9wOiAkbGlzdC5zY3JvbGxUb3AoKSArIHRodW1iUG9zLnRvcFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZHVyYXRpb25cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHNlbGYub3B0cy5heGlzID09PSBcInhcIiAmJlxuICAgICAgICAodGh1bWJQb3MubGVmdCA8ICRncmlkLnNjcm9sbExlZnQoKSB8fCB0aHVtYlBvcy5sZWZ0ID4gJGdyaWQuc2Nyb2xsTGVmdCgpICsgKCRncmlkLndpZHRoKCkgLSB0aHVtYi5vdXRlcldpZHRoKCkpKVxuICAgICAgKSB7XG4gICAgICAgICRsaXN0XG4gICAgICAgICAgLnBhcmVudCgpXG4gICAgICAgICAgLnN0b3AoKVxuICAgICAgICAgIC5hbmltYXRlKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzY3JvbGxMZWZ0OiB0aHVtYlBvcy5sZWZ0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZHVyYXRpb25cbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgdGhhdC5pbnN0YW5jZS4kcmVmcy5jb250YWluZXIudG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1zaG93LXRodW1ic1wiLCB0aGlzLmlzVmlzaWJsZSk7XG5cbiAgICAgIGlmICh0aGF0LmlzVmlzaWJsZSkge1xuICAgICAgICBpZiAoIXRoYXQuJGdyaWQpIHtcbiAgICAgICAgICB0aGF0LmNyZWF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhhdC5pbnN0YW5jZS50cmlnZ2VyKFwib25UaHVtYnNTaG93XCIpO1xuXG4gICAgICAgIHRoYXQuZm9jdXMoMCk7XG4gICAgICB9IGVsc2UgaWYgKHRoYXQuJGdyaWQpIHtcbiAgICAgICAgdGhhdC5pbnN0YW5jZS50cmlnZ2VyKFwib25UaHVtYnNIaWRlXCIpO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgY29udGVudCBwb3NpdGlvblxuICAgICAgdGhhdC5pbnN0YW5jZS51cGRhdGUoKTtcbiAgICB9LFxuXG4gICAgaGlkZTogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9LFxuXG4gICAgc2hvdzogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH0sXG5cbiAgICB0b2dnbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5pc1Zpc2libGUgPSAhdGhpcy5pc1Zpc2libGU7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgJChkb2N1bWVudCkub24oe1xuICAgIFwib25Jbml0LmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlKSB7XG4gICAgICB2YXIgVGh1bWJzO1xuXG4gICAgICBpZiAoaW5zdGFuY2UgJiYgIWluc3RhbmNlLlRodW1icykge1xuICAgICAgICBUaHVtYnMgPSBuZXcgRmFuY3lUaHVtYnMoaW5zdGFuY2UpO1xuXG4gICAgICAgIGlmIChUaHVtYnMuaXNBY3RpdmUgJiYgVGh1bWJzLm9wdHMuYXV0b1N0YXJ0ID09PSB0cnVlKSB7XG4gICAgICAgICAgVGh1bWJzLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImJlZm9yZVNob3cuZmJcIjogZnVuY3Rpb24oZSwgaW5zdGFuY2UsIGl0ZW0sIGZpcnN0UnVuKSB7XG4gICAgICB2YXIgVGh1bWJzID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuVGh1bWJzO1xuXG4gICAgICBpZiAoVGh1bWJzICYmIFRodW1icy5pc1Zpc2libGUpIHtcbiAgICAgICAgVGh1bWJzLmZvY3VzKGZpcnN0UnVuID8gMCA6IDI1MCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiYWZ0ZXJLZXlkb3duLmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlLCBjdXJyZW50LCBrZXlwcmVzcywga2V5Y29kZSkge1xuICAgICAgdmFyIFRodW1icyA9IGluc3RhbmNlICYmIGluc3RhbmNlLlRodW1icztcblxuICAgICAgLy8gXCJHXCJcbiAgICAgIGlmIChUaHVtYnMgJiYgVGh1bWJzLmlzQWN0aXZlICYmIGtleWNvZGUgPT09IDcxKSB7XG4gICAgICAgIGtleXByZXNzLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgVGh1bWJzLnRvZ2dsZSgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImJlZm9yZUNsb3NlLmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlKSB7XG4gICAgICB2YXIgVGh1bWJzID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuVGh1bWJzO1xuXG4gICAgICBpZiAoVGh1bWJzICYmIFRodW1icy5pc1Zpc2libGUgJiYgVGh1bWJzLm9wdHMuaGlkZU9uQ2xvc2UgIT09IGZhbHNlKSB7XG4gICAgICAgIFRodW1icy4kZ3JpZC5oaWRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0pKGRvY3VtZW50LCB3aW5kb3cualF1ZXJ5IHx8IGpRdWVyeSk7XG5cbi8vLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vXG4vLyBTaGFyZVxuLy8gRGlzcGxheXMgc2ltcGxlIGZvcm0gZm9yIHNoYXJpbmcgY3VycmVudCB1cmxcbi8vXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKGZ1bmN0aW9uKGRvY3VtZW50LCAkKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gICQuZXh0ZW5kKHRydWUsICQuZmFuY3lib3guZGVmYXVsdHMsIHtcbiAgICBidG5UcGw6IHtcbiAgICAgIHNoYXJlOlxuICAgICAgICAnPGJ1dHRvbiBkYXRhLWZhbmN5Ym94LXNoYXJlIGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tc2hhcmVcIiB0aXRsZT1cInt7U0hBUkV9fVwiPicgK1xuICAgICAgICAnPHN2ZyB2aWV3Qm94PVwiMCAwIDQwIDQwXCI+JyArXG4gICAgICAgICc8cGF0aCBkPVwiTTYsMzAgQzgsMTggMTksMTYgMjMsMTYgTDIzLDE2IEwyMywxMCBMMzMsMjAgTDIzLDI5IEwyMywyNCBDMTksMjQgOCwyNyA2LDMwIFpcIj4nICtcbiAgICAgICAgXCI8L3N2Zz5cIiArXG4gICAgICAgIFwiPC9idXR0b24+XCJcbiAgICB9LFxuICAgIHNoYXJlOiB7XG4gICAgICB1cmw6IGZ1bmN0aW9uKGluc3RhbmNlLCBpdGVtKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKCFpbnN0YW5jZS5jdXJyZW50SGFzaCAmJiAhKGl0ZW0udHlwZSA9PT0gXCJpbmxpbmVcIiB8fCBpdGVtLnR5cGUgPT09IFwiaHRtbFwiKSA/IGl0ZW0ub3JpZ1NyYyB8fCBpdGVtLnNyYyA6IGZhbHNlKSB8fCB3aW5kb3cubG9jYXRpb25cbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB0cGw6XG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtc2hhcmVcIj4nICtcbiAgICAgICAgXCI8aDE+e3tTSEFSRX19PC9oMT5cIiArXG4gICAgICAgIFwiPHA+XCIgK1xuICAgICAgICAnPGEgY2xhc3M9XCJmYW5jeWJveC1zaGFyZV9fYnV0dG9uIGZhbmN5Ym94LXNoYXJlX19idXR0b24tLWZiXCIgaHJlZj1cImh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9zaGFyZXIvc2hhcmVyLnBocD91PXt7dXJsfX1cIj4nICtcbiAgICAgICAgJzxzdmcgdmlld0JveD1cIjAgMCA1MTIgNTEyXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJtMjg3IDQ1NnYtMjk5YzAtMjEgNi0zNSAzNS0zNWgzOHYtNjNjLTctMS0yOS0zLTU1LTMtNTQgMC05MSAzMy05MSA5NHYzMDZtMTQzLTI1NGgtMjA1djcyaDE5NlwiIC8+PC9zdmc+JyArXG4gICAgICAgIFwiPHNwYW4+RmFjZWJvb2s8L3NwYW4+XCIgK1xuICAgICAgICBcIjwvYT5cIiArXG4gICAgICAgICc8YSBjbGFzcz1cImZhbmN5Ym94LXNoYXJlX19idXR0b24gZmFuY3lib3gtc2hhcmVfX2J1dHRvbi0tdHdcIiBocmVmPVwiaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/dXJsPXt7dXJsfX0mdGV4dD17e2Rlc2NyfX1cIj4nICtcbiAgICAgICAgJzxzdmcgdmlld0JveD1cIjAgMCA1MTIgNTEyXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJtNDU2IDEzM2MtMTQgNy0zMSAxMS00NyAxMyAxNy0xMCAzMC0yNyAzNy00Ni0xNSAxMC0zNCAxNi01MiAyMC02MS02Mi0xNTctNy0xNDEgNzUtNjgtMy0xMjktMzUtMTY5LTg1LTIyIDM3LTExIDg2IDI2IDEwOS0xMyAwLTI2LTQtMzctOSAwIDM5IDI4IDcyIDY1IDgwLTEyIDMtMjUgNC0zNyAyIDEwIDMzIDQxIDU3IDc3IDU3LTQyIDMwLTc3IDM4LTEyMiAzNCAxNzAgMTExIDM3OC0zMiAzNTktMjA4IDE2LTExIDMwLTI1IDQxLTQyelwiIC8+PC9zdmc+JyArXG4gICAgICAgIFwiPHNwYW4+VHdpdHRlcjwvc3Bhbj5cIiArXG4gICAgICAgIFwiPC9hPlwiICtcbiAgICAgICAgJzxhIGNsYXNzPVwiZmFuY3lib3gtc2hhcmVfX2J1dHRvbiBmYW5jeWJveC1zaGFyZV9fYnV0dG9uLS1wdFwiIGhyZWY9XCJodHRwczovL3d3dy5waW50ZXJlc3QuY29tL3Bpbi9jcmVhdGUvYnV0dG9uLz91cmw9e3t1cmx9fSZkZXNjcmlwdGlvbj17e2Rlc2NyfX0mbWVkaWE9e3ttZWRpYX19XCI+JyArXG4gICAgICAgICc8c3ZnIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwibTI2NSA1NmMtMTA5IDAtMTY0IDc4LTE2NCAxNDQgMCAzOSAxNSA3NCA0NyA4NyA1IDIgMTAgMCAxMi01bDQtMTljMi02IDEtOC0zLTEzLTktMTEtMTUtMjUtMTUtNDUgMC01OCA0My0xMTAgMTEzLTExMCA2MiAwIDk2IDM4IDk2IDg4IDAgNjctMzAgMTIyLTczIDEyMi0yNCAwLTQyLTE5LTM2LTQ0IDYtMjkgMjAtNjAgMjAtODEgMC0xOS0xMC0zNS0zMS0zNS0yNSAwLTQ0IDI2LTQ0IDYwIDAgMjEgNyAzNiA3IDM2bC0zMCAxMjVjLTggMzctMSA4MyAwIDg3IDAgMyA0IDQgNSAyIDItMyAzMi0zOSA0Mi03NWwxNi02NGM4IDE2IDMxIDI5IDU2IDI5IDc0IDAgMTI0LTY3IDEyNC0xNTcgMC02OS01OC0xMzItMTQ2LTEzMnpcIiBmaWxsPVwiI2ZmZlwiLz48L3N2Zz4nICtcbiAgICAgICAgXCI8c3Bhbj5QaW50ZXJlc3Q8L3NwYW4+XCIgK1xuICAgICAgICBcIjwvYT5cIiArXG4gICAgICAgIFwiPC9wPlwiICtcbiAgICAgICAgJzxwPjxpbnB1dCBjbGFzcz1cImZhbmN5Ym94LXNoYXJlX19pbnB1dFwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCJ7e3VybF9yYXd9fVwiIC8+PC9wPicgK1xuICAgICAgICBcIjwvZGl2PlwiXG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBlc2NhcGVIdG1sKHN0cmluZykge1xuICAgIHZhciBlbnRpdHlNYXAgPSB7XG4gICAgICBcIiZcIjogXCImYW1wO1wiLFxuICAgICAgXCI8XCI6IFwiJmx0O1wiLFxuICAgICAgXCI+XCI6IFwiJmd0O1wiLFxuICAgICAgJ1wiJzogXCImcXVvdDtcIixcbiAgICAgIFwiJ1wiOiBcIiYjMzk7XCIsXG4gICAgICBcIi9cIjogXCImI3gyRjtcIixcbiAgICAgIFwiYFwiOiBcIiYjeDYwO1wiLFxuICAgICAgXCI9XCI6IFwiJiN4M0Q7XCJcbiAgICB9O1xuXG4gICAgcmV0dXJuIFN0cmluZyhzdHJpbmcpLnJlcGxhY2UoL1smPD5cIidgPVxcL10vZywgZnVuY3Rpb24ocykge1xuICAgICAgcmV0dXJuIGVudGl0eU1hcFtzXTtcbiAgICB9KTtcbiAgfVxuXG4gICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCJbZGF0YS1mYW5jeWJveC1zaGFyZV1cIiwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluc3RhbmNlID0gJC5mYW5jeWJveC5nZXRJbnN0YW5jZSgpLFxuICAgICAgY3VycmVudCA9IGluc3RhbmNlLmN1cnJlbnQgfHwgbnVsbCxcbiAgICAgIHVybCxcbiAgICAgIHRwbDtcblxuICAgIGlmICghY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICgkLnR5cGUoY3VycmVudC5vcHRzLnNoYXJlLnVybCkgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdXJsID0gY3VycmVudC5vcHRzLnNoYXJlLnVybC5hcHBseShjdXJyZW50LCBbaW5zdGFuY2UsIGN1cnJlbnRdKTtcbiAgICB9XG5cbiAgICB0cGwgPSBjdXJyZW50Lm9wdHMuc2hhcmUudHBsXG4gICAgICAucmVwbGFjZSgvXFx7XFx7bWVkaWFcXH1cXH0vZywgY3VycmVudC50eXBlID09PSBcImltYWdlXCIgPyBlbmNvZGVVUklDb21wb25lbnQoY3VycmVudC5zcmMpIDogXCJcIilcbiAgICAgIC5yZXBsYWNlKC9cXHtcXHt1cmxcXH1cXH0vZywgZW5jb2RlVVJJQ29tcG9uZW50KHVybCkpXG4gICAgICAucmVwbGFjZSgvXFx7XFx7dXJsX3Jhd1xcfVxcfS9nLCBlc2NhcGVIdG1sKHVybCkpXG4gICAgICAucmVwbGFjZSgvXFx7XFx7ZGVzY3JcXH1cXH0vZywgaW5zdGFuY2UuJGNhcHRpb24gPyBlbmNvZGVVUklDb21wb25lbnQoaW5zdGFuY2UuJGNhcHRpb24udGV4dCgpKSA6IFwiXCIpO1xuXG4gICAgJC5mYW5jeWJveC5vcGVuKHtcbiAgICAgIHNyYzogaW5zdGFuY2UudHJhbnNsYXRlKGluc3RhbmNlLCB0cGwpLFxuICAgICAgdHlwZTogXCJodG1sXCIsXG4gICAgICBvcHRzOiB7XG4gICAgICAgIGFuaW1hdGlvbkVmZmVjdDogZmFsc2UsXG4gICAgICAgIGFmdGVyTG9hZDogZnVuY3Rpb24oc2hhcmVJbnN0YW5jZSwgc2hhcmVDdXJyZW50KSB7XG4gICAgICAgICAgLy8gQ2xvc2Ugc2VsZiBpZiBwYXJlbnQgaW5zdGFuY2UgaXMgY2xvc2luZ1xuICAgICAgICAgIGluc3RhbmNlLiRyZWZzLmNvbnRhaW5lci5vbmUoXCJiZWZvcmVDbG9zZS5mYlwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNoYXJlSW5zdGFuY2UuY2xvc2UobnVsbCwgMCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBPcGVuaW5nIGxpbmtzIGluIGEgcG9wdXAgd2luZG93XG4gICAgICAgICAgc2hhcmVDdXJyZW50LiRjb250ZW50LmZpbmQoXCIuZmFuY3lib3gtc2hhcmVfX2xpbmtzIGFcIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3aW5kb3cub3Blbih0aGlzLmhyZWYsIFwiU2hhcmVcIiwgXCJ3aWR0aD01NTAsIGhlaWdodD00NTBcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59KShkb2N1bWVudCwgd2luZG93LmpRdWVyeSB8fCBqUXVlcnkpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy9cbi8vIEhhc2hcbi8vIEVuYWJsZXMgbGlua2luZyB0byBlYWNoIG1vZGFsXG4vL1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbihmdW5jdGlvbihkb2N1bWVudCwgd2luZG93LCAkKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIC8vIFNpbXBsZSAkLmVzY2FwZVNlbGVjdG9yIHBvbHlmaWxsIChmb3IgalF1ZXJ5IHByaW9yIHYzKVxuICBpZiAoISQuZXNjYXBlU2VsZWN0b3IpIHtcbiAgICAkLmVzY2FwZVNlbGVjdG9yID0gZnVuY3Rpb24oc2VsKSB7XG4gICAgICB2YXIgcmNzc2VzY2FwZSA9IC8oW1xcMC1cXHgxZlxceDdmXXxeLT9cXGQpfF4tJHxbXlxceDgwLVxcdUZGRkZcXHctXS9nO1xuICAgICAgdmFyIGZjc3Nlc2NhcGUgPSBmdW5jdGlvbihjaCwgYXNDb2RlUG9pbnQpIHtcbiAgICAgICAgaWYgKGFzQ29kZVBvaW50KSB7XG4gICAgICAgICAgLy8gVSswMDAwIE5VTEwgYmVjb21lcyBVK0ZGRkQgUkVQTEFDRU1FTlQgQ0hBUkFDVEVSXG4gICAgICAgICAgaWYgKGNoID09PSBcIlxcMFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcXHVGRkZEXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ29udHJvbCBjaGFyYWN0ZXJzIGFuZCAoZGVwZW5kZW50IHVwb24gcG9zaXRpb24pIG51bWJlcnMgZ2V0IGVzY2FwZWQgYXMgY29kZSBwb2ludHNcbiAgICAgICAgICByZXR1cm4gY2guc2xpY2UoMCwgLTEpICsgXCJcXFxcXCIgKyBjaC5jaGFyQ29kZUF0KGNoLmxlbmd0aCAtIDEpLnRvU3RyaW5nKDE2KSArIFwiIFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT3RoZXIgcG90ZW50aWFsbHktc3BlY2lhbCBBU0NJSSBjaGFyYWN0ZXJzIGdldCBiYWNrc2xhc2gtZXNjYXBlZFxuICAgICAgICByZXR1cm4gXCJcXFxcXCIgKyBjaDtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiAoc2VsICsgXCJcIikucmVwbGFjZShyY3NzZXNjYXBlLCBmY3NzZXNjYXBlKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gR2V0IGluZm8gYWJvdXQgZ2FsbGVyeSBuYW1lIGFuZCBjdXJyZW50IGluZGV4IGZyb20gdXJsXG4gIGZ1bmN0aW9uIHBhcnNlVXJsKCkge1xuICAgIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpLFxuICAgICAgcmV6ID0gaGFzaC5zcGxpdChcIi1cIiksXG4gICAgICBpbmRleCA9IHJlei5sZW5ndGggPiAxICYmIC9eXFwrP1xcZCskLy50ZXN0KHJleltyZXoubGVuZ3RoIC0gMV0pID8gcGFyc2VJbnQocmV6LnBvcCgtMSksIDEwKSB8fCAxIDogMSxcbiAgICAgIGdhbGxlcnkgPSByZXouam9pbihcIi1cIik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaGFzaDogaGFzaCxcbiAgICAgIC8qIEluZGV4IGlzIHN0YXJ0aW5nIGZyb20gMSAqL1xuICAgICAgaW5kZXg6IGluZGV4IDwgMSA/IDEgOiBpbmRleCxcbiAgICAgIGdhbGxlcnk6IGdhbGxlcnlcbiAgICB9O1xuICB9XG5cbiAgLy8gVHJpZ2dlciBjbGljayBldm50IG9uIGxpbmtzIHRvIG9wZW4gbmV3IGZhbmN5Qm94IGluc3RhbmNlXG4gIGZ1bmN0aW9uIHRyaWdnZXJGcm9tVXJsKHVybCkge1xuICAgIHZhciAkZWw7XG5cbiAgICBpZiAodXJsLmdhbGxlcnkgIT09IFwiXCIpIHtcbiAgICAgIC8vIElmIHdlIGNhbiBmaW5kIGVsZW1lbnQgbWF0Y2hpbmcgJ2RhdGEtZmFuY3lib3gnIGF0cmlidXRlLCB0aGVuIHRyaWdnZXIgY2xpY2sgZXZlbnQgZm9yIHRoYXQuXG4gICAgICAvLyBJdCBzaG91bGQgc3RhcnQgZmFuY3lCb3hcbiAgICAgICRlbCA9ICQoXCJbZGF0YS1mYW5jeWJveD0nXCIgKyAkLmVzY2FwZVNlbGVjdG9yKHVybC5nYWxsZXJ5KSArIFwiJ11cIilcbiAgICAgICAgLmVxKHVybC5pbmRleCAtIDEpXG4gICAgICAgIC50cmlnZ2VyKFwiY2xpY2suZmItc3RhcnRcIik7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IGdhbGxlcnkgbmFtZSBmcm9tIGN1cnJlbnQgaW5zdGFuY2VcbiAgZnVuY3Rpb24gZ2V0R2FsbGVyeUlEKGluc3RhbmNlKSB7XG4gICAgdmFyIG9wdHMsIHJldDtcblxuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBvcHRzID0gaW5zdGFuY2UuY3VycmVudCA/IGluc3RhbmNlLmN1cnJlbnQub3B0cyA6IGluc3RhbmNlLm9wdHM7XG4gICAgcmV0ID0gb3B0cy5oYXNoIHx8IChvcHRzLiRvcmlnID8gb3B0cy4kb3JpZy5kYXRhKFwiZmFuY3lib3hcIikgOiBcIlwiKTtcblxuICAgIHJldHVybiByZXQgPT09IFwiXCIgPyBmYWxzZSA6IHJldDtcbiAgfVxuXG4gIC8vIFN0YXJ0IHdoZW4gRE9NIGJlY29tZXMgcmVhZHlcbiAgJChmdW5jdGlvbigpIHtcbiAgICAvLyBDaGVjayBpZiB1c2VyIGhhcyBkaXNhYmxlZCB0aGlzIG1vZHVsZVxuICAgIGlmICgkLmZhbmN5Ym94LmRlZmF1bHRzLmhhc2ggPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGhhc2ggd2hlbiBvcGVuaW5nL2Nsb3NpbmcgZmFuY3lCb3hcbiAgICAkKGRvY3VtZW50KS5vbih7XG4gICAgICBcIm9uSW5pdC5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSkge1xuICAgICAgICB2YXIgdXJsLCBnYWxsZXJ5O1xuXG4gICAgICAgIGlmIChpbnN0YW5jZS5ncm91cFtpbnN0YW5jZS5jdXJySW5kZXhdLm9wdHMuaGFzaCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB1cmwgPSBwYXJzZVVybCgpO1xuICAgICAgICBnYWxsZXJ5ID0gZ2V0R2FsbGVyeUlEKGluc3RhbmNlKTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgZ2FsbGVyeSBzdGFydCBpbmRleCBtYXRjaGVzIGluZGV4IGZyb20gaGFzaFxuICAgICAgICBpZiAoZ2FsbGVyeSAmJiB1cmwuZ2FsbGVyeSAmJiBnYWxsZXJ5ID09IHVybC5nYWxsZXJ5KSB7XG4gICAgICAgICAgaW5zdGFuY2UuY3VyckluZGV4ID0gdXJsLmluZGV4IC0gMTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgXCJiZWZvcmVTaG93LmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlLCBjdXJyZW50LCBmaXJzdFJ1bikge1xuICAgICAgICB2YXIgZ2FsbGVyeTtcblxuICAgICAgICBpZiAoIWN1cnJlbnQgfHwgY3VycmVudC5vcHRzLmhhc2ggPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgbmVlZCB0byB1cGRhdGUgd2luZG93IGhhc2hcbiAgICAgICAgZ2FsbGVyeSA9IGdldEdhbGxlcnlJRChpbnN0YW5jZSk7XG5cbiAgICAgICAgaWYgKCFnYWxsZXJ5KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmFyaWFibGUgY29udGFpbmluZyBsYXN0IGhhc2ggdmFsdWUgc2V0IGJ5IGZhbmN5Qm94XG4gICAgICAgIC8vIEl0IHdpbGwgYmUgdXNlZCB0byBkZXRlcm1pbmUgaWYgZmFuY3lCb3ggbmVlZHMgdG8gY2xvc2UgYWZ0ZXIgaGFzaCBjaGFuZ2UgaXMgZGV0ZWN0ZWRcbiAgICAgICAgaW5zdGFuY2UuY3VycmVudEhhc2ggPSBnYWxsZXJ5ICsgKGluc3RhbmNlLmdyb3VwLmxlbmd0aCA+IDEgPyBcIi1cIiArIChjdXJyZW50LmluZGV4ICsgMSkgOiBcIlwiKTtcblxuICAgICAgICAvLyBJZiBjdXJyZW50IGhhc2ggaXMgdGhlIHNhbWUgKHRoaXMgaW5zdGFuY2UgbW9zdCBsaWtlbHkgaXMgb3BlbmVkIGJ5IGhhc2hjaGFuZ2UpLCB0aGVuIGRvIG5vdGhpbmdcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoID09PSBcIiNcIiArIGluc3RhbmNlLmN1cnJlbnRIYXNoKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpbnN0YW5jZS5vcmlnSGFzaCkge1xuICAgICAgICAgIGluc3RhbmNlLm9yaWdIYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5zdGFuY2UuaGFzaFRpbWVyKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KGluc3RhbmNlLmhhc2hUaW1lcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgaGFzaFxuICAgICAgICBpbnN0YW5jZS5oYXNoVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChcInJlcGxhY2VTdGF0ZVwiIGluIHdpbmRvdy5oaXN0b3J5KSB7XG4gICAgICAgICAgICB3aW5kb3cuaGlzdG9yeVtmaXJzdFJ1biA/IFwicHVzaFN0YXRlXCIgOiBcInJlcGxhY2VTdGF0ZVwiXShcbiAgICAgICAgICAgICAge30sXG4gICAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlLFxuICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICsgXCIjXCIgKyBpbnN0YW5jZS5jdXJyZW50SGFzaFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKGZpcnN0UnVuKSB7XG4gICAgICAgICAgICAgIGluc3RhbmNlLmhhc0NyZWF0ZWRIaXN0b3J5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBpbnN0YW5jZS5jdXJyZW50SGFzaDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpbnN0YW5jZS5oYXNoVGltZXIgPSBudWxsO1xuICAgICAgICB9LCAzMDApO1xuICAgICAgfSxcblxuICAgICAgXCJiZWZvcmVDbG9zZS5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSwgY3VycmVudCkge1xuICAgICAgICB2YXIgZ2FsbGVyeTtcblxuICAgICAgICBpZiAoY3VycmVudC5vcHRzLmhhc2ggPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2FsbGVyeSA9IGdldEdhbGxlcnlJRChpbnN0YW5jZSk7XG5cbiAgICAgICAgLy8gR290byBwcmV2aW91cyBoaXN0b3J5IGVudHJ5XG4gICAgICAgIGlmIChpbnN0YW5jZS5jdXJyZW50SGFzaCAmJiBpbnN0YW5jZS5oYXNDcmVhdGVkSGlzdG9yeSkge1xuICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnN0YW5jZS5jdXJyZW50SGFzaCkge1xuICAgICAgICAgIGlmIChcInJlcGxhY2VTdGF0ZVwiIGluIHdpbmRvdy5oaXN0b3J5KSB7XG4gICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sIGRvY3VtZW50LnRpdGxlLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICsgKGluc3RhbmNlLm9yaWdIYXNoIHx8IFwiXCIpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBpbnN0YW5jZS5vcmlnSGFzaDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpbnN0YW5jZS5jdXJyZW50SGFzaCA9IG51bGw7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KGluc3RhbmNlLmhhc2hUaW1lcik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDaGVjayBpZiBuZWVkIHRvIHN0YXJ0L2Nsb3NlIGFmdGVyIHVybCBoYXMgY2hhbmdlZFxuICAgICQod2luZG93KS5vbihcImhhc2hjaGFuZ2UuZmJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdXJsID0gcGFyc2VVcmwoKSxcbiAgICAgICAgZmI7XG5cbiAgICAgIC8vIEZpbmQgbGFzdCBmYW5jeUJveCBpbnN0YW5jZSB0aGF0IGhhcyBcImhhc2hcIlxuICAgICAgJC5lYWNoKFxuICAgICAgICAkKFwiLmZhbmN5Ym94LWNvbnRhaW5lclwiKVxuICAgICAgICAgIC5nZXQoKVxuICAgICAgICAgIC5yZXZlcnNlKCksXG4gICAgICAgIGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICAgIHZhciB0bXAgPSAkKHZhbHVlKS5kYXRhKFwiRmFuY3lCb3hcIik7XG4gICAgICAgICAgLy9pc0Nsb3NpbmdcbiAgICAgICAgICBpZiAodG1wLmN1cnJlbnRIYXNoKSB7XG4gICAgICAgICAgICBmYiA9IHRtcDtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIGlmIChmYikge1xuICAgICAgICAvLyBOb3csIGNvbXBhcmUgaGFzaCB2YWx1ZXNcbiAgICAgICAgaWYgKGZiLmN1cnJlbnRIYXNoICYmIGZiLmN1cnJlbnRIYXNoICE9PSB1cmwuZ2FsbGVyeSArIFwiLVwiICsgdXJsLmluZGV4ICYmICEodXJsLmluZGV4ID09PSAxICYmIGZiLmN1cnJlbnRIYXNoID09IHVybC5nYWxsZXJ5KSkge1xuICAgICAgICAgIGZiLmN1cnJlbnRIYXNoID0gbnVsbDtcblxuICAgICAgICAgIGZiLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodXJsLmdhbGxlcnkgIT09IFwiXCIpIHtcbiAgICAgICAgdHJpZ2dlckZyb21VcmwodXJsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIENoZWNrIGN1cnJlbnQgaGFzaCBhbmQgdHJpZ2dlciBjbGljayBldmVudCBvbiBtYXRjaGluZyBlbGVtZW50IHRvIHN0YXJ0IGZhbmN5Qm94LCBpZiBuZWVkZWRcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCEkLmZhbmN5Ym94LmdldEluc3RhbmNlKCkpIHtcbiAgICAgICAgdHJpZ2dlckZyb21VcmwocGFyc2VVcmwoKSk7XG4gICAgICB9XG4gICAgfSwgNTApO1xuICB9KTtcbn0pKGRvY3VtZW50LCB3aW5kb3csIHdpbmRvdy5qUXVlcnkgfHwgalF1ZXJ5KTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vXG4vLyBXaGVlbFxuLy8gQmFzaWMgbW91c2Ugd2VoZWVsIHN1cHBvcnQgZm9yIGdhbGxlcnkgbmF2aWdhdGlvblxuLy9cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4oZnVuY3Rpb24oZG9jdW1lbnQsICQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHByZXZUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgJChkb2N1bWVudCkub24oe1xuICAgIFwib25Jbml0LmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlLCBjdXJyZW50KSB7XG4gICAgICBpbnN0YW5jZS4kcmVmcy5zdGFnZS5vbihcIm1vdXNld2hlZWwgRE9NTW91c2VTY3JvbGwgd2hlZWwgTW96TW91c2VQaXhlbFNjcm9sbFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBjdXJyZW50ID0gaW5zdGFuY2UuY3VycmVudCxcbiAgICAgICAgICBjdXJyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgICAgIGlmIChpbnN0YW5jZS5ncm91cC5sZW5ndGggPCAyIHx8IGN1cnJlbnQub3B0cy53aGVlbCA9PT0gZmFsc2UgfHwgKGN1cnJlbnQub3B0cy53aGVlbCA9PT0gXCJhdXRvXCIgJiYgY3VycmVudC50eXBlICE9PSBcImltYWdlXCIpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGlmIChjdXJyZW50LiRzbGlkZS5oYXNDbGFzcyhcImZhbmN5Ym94LWFuaW1hdGVkXCIpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZSA9IGUub3JpZ2luYWxFdmVudCB8fCBlO1xuXG4gICAgICAgIGlmIChjdXJyVGltZSAtIHByZXZUaW1lIDwgMjUwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJldlRpbWUgPSBjdXJyVGltZTtcblxuICAgICAgICBpbnN0YW5jZVsoLWUuZGVsdGFZIHx8IC1lLmRlbHRhWCB8fCBlLndoZWVsRGVsdGEgfHwgLWUuZGV0YWlsKSA8IDAgPyBcIm5leHRcIiA6IFwicHJldmlvdXNcIl0oKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59KShkb2N1bWVudCwgd2luZG93LmpRdWVyeSB8fCBqUXVlcnkpO1xuIl19
