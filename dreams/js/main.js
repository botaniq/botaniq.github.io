function onScroll(){var e=$(document).scrollTop();$(menu_selector+" a").each(function(){var t=$(this).attr("href"),a=$(t);a.position().top<=e&&a.position().top+a.outerHeight()>e?($(menu_selector+" a.active-link").removeClass("active-link"),$(this).addClass("active-link")):$(this).removeClass("active-link")})}var navMain=document.querySelector(".menu"),navToggle=document.querySelector(".menu__toggle");navMain.classList.remove("menu_nojs"),navToggle.addEventListener("click",function(){navMain.classList.contains("menu_closed")?(navMain.classList.remove("menu_closed"),navMain.classList.add("menu_opened")):(navMain.classList.add("menu_closed"),navMain.classList.remove("menu_opened"))}),$(window).scroll(function(){var e=$(document).scrollTop();e>100?($(".fix-menu").addClass("fix-menu_fixed"),$(".chief").addClass("chief_indent"),$("#first").removeClass("active-link_home")):($(".fix-menu").removeClass("fix-menu_fixed"),$(".chief").removeClass("chief_indent"),$("#first").removeClass("active-link"),$("#first").addClass("active-link_home"))});var menu_selector=".menu";$(document).ready(function(){$(document).on("scroll",onScroll),$("a[href^=\\#]").click(function(e){e.preventDefault(),$(document).off("scroll"),$(menu_selector+" a.active-link").removeClass("active-link"),$(this).addClass("active-link");var t=$(this).attr("href"),a=$(t);$("html, body").animate({scrollTop:a.offset().top},500,function(){window.location.hash=t,$(document).on("scroll",onScroll)})})}),$(document).ready(function(){function e(e){e.validate({rules:{Email:{required:!0,email:!0},"Имя":{required:!0},"Сообщение":{required:!0}},messages:{Email:{required:"Поле обязательно для заполнения",email:"Неверный формат E-mail"},"Имя":{required:"Поле обязательно для заполнения"},"Сообщение":{required:"Поле обязательно для заполнения"}},submitHandler:function(e){var t=$(e),a=$(e).attr("id");switch(a){case"goToNewPage":$.ajax({type:"POST",url:t.attr("action"),data:t.serialize()}).always(function(e){ga("send","event","masterklass7","register"),yaCounter27714603.reachGoal("lm17lead")});break;case"popupResult":$.ajax({type:"POST",url:t.attr("action"),data:t.serialize()}).always(function(e){setTimeout(function(){$("#overlay").fadeIn(),$("#popup").fadeIn(),t.trigger("reset")},1100),$("#overlay, #close").on("click",function(e){$("#overlay").fadeOut(),$("#popup").fadeOut()})})}return!1}})}$("[data-submit]").on("click",function(e){e.preventDefault(),$(this).parent("form").submit()}),$.validator.addMethod("regex",function(e,t,a){var n=new RegExp(a);return this.optional(t)||n.test(e)},"Пожалуйста, проверьте свои данные"),$(".invite").each(function(){e($(this))}),$("[data-scroll]").on("click",function(){$("html, body").animate({scrollTop:$($.attr(this,"data-scroll")).offset().top},2e3),event.preventDefault()})}),$(document).ready(function(){$(document).click(function(e){setTimeout(function(){$("label").fadeOut(),e.stopPropagation()},4100)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsib25TY3JvbGwiLCJzY3JvbGxfdG9wIiwiJCIsImRvY3VtZW50Iiwic2Nyb2xsVG9wIiwibWVudV9zZWxlY3RvciIsImVhY2giLCJoYXNoIiwidGhpcyIsImF0dHIiLCJ0YXJnZXQiLCJwb3NpdGlvbiIsInRvcCIsIm91dGVySGVpZ2h0IiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsIm5hdk1haW4iLCJxdWVyeVNlbGVjdG9yIiwibmF2VG9nZ2xlIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnRhaW5zIiwiYWRkIiwid2luZG93Iiwic2Nyb2xsIiwidGhlX3RvcCIsInJlYWR5Iiwib24iLCJjbGljayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIm9mZiIsImFuaW1hdGUiLCJvZmZzZXQiLCJsb2NhdGlvbiIsInZhbEVsIiwiZWwiLCJ2YWxpZGF0ZSIsInJ1bGVzIiwiRW1haWwiLCJyZXF1aXJlZCIsImVtYWlsIiwi0JjQvNGPIiwi0KHQvtC+0LHRidC10L3QuNC1IiwibWVzc2FnZXMiLCJzdWJtaXRIYW5kbGVyIiwiZm9ybSIsIiRmb3JtIiwiJGZvcm1JZCIsImFqYXgiLCJ0eXBlIiwidXJsIiwiZGF0YSIsInNlcmlhbGl6ZSIsImFsd2F5cyIsInJlc3BvbnNlIiwiZ2EiLCJ5YUNvdW50ZXIyNzcxNDYwMyIsInJlYWNoR29hbCIsInNldFRpbWVvdXQiLCJmYWRlSW4iLCJ0cmlnZ2VyIiwiZmFkZU91dCIsInBhcmVudCIsInN1Ym1pdCIsInZhbGlkYXRvciIsImFkZE1ldGhvZCIsInZhbHVlIiwiZWxlbWVudCIsInJlZ2V4cCIsInJlIiwiUmVnRXhwIiwib3B0aW9uYWwiLCJ0ZXN0IiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iXSwibWFwcGluZ3MiOiJBQWtHQSxRQUFTQSxZQUNMLEdBQUlDLEdBQWFDLEVBQUVDLFVBQVVDLFdBQzdCRixHQUFFRyxjQUFnQixNQUFNQyxLQUFLLFdBQ3pC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V0FFM0IvRCxFQUFFZ0UsVUFBVUMsVUFDUixRQUNBLFNBQVNDLEVBQU9DLEVBQVNDLEdBQ3JCLEdBQUlDLEdBQUssR0FBSUMsUUFBT0YsRUFDcEIsT0FBTzlELE1BQUtpRSxTQUFTSixJQUFZRSxFQUFHRyxLQUFLTixJQUU3QyxxQ0FvRUpsRSxFQUFFLFdBQVdJLEtBQUssV0FDZDhCLEVBQU1sQyxFQUFFTSxTQUVaTixFQUFFLGlCQUFpQjBCLEdBQUcsUUFBUyxXQUMzQjFCLEVBQUUsY0FBYytCLFNBQ1o3QixVQUFXRixFQUFHQSxFQUFFTyxLQUFLRCxLQUFNLGdCQUFpQjBCLFNBQVN0QixLQUN0RCxLQUNIK0QsTUFBTTVDLHFCQUlkN0IsRUFBRUMsVUFBVXdCLE1BQU0sV0FDZHpCLEVBQUVDLFVBQVUwQixNQUFPLFNBQVM4QyxHQUN4QmYsV0FBVyxXQUNQMUQsRUFBRSxTQUFTNkQsVUFDWFksRUFBTUMsbUJBQ1IiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBuYXZNYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUnKTtcclxudmFyIG5hdlRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51X190b2dnbGUnKTtcclxuXHJcbm5hdk1haW4uY2xhc3NMaXN0LnJlbW92ZSgnbWVudV9ub2pzJyk7XHJcblxyXG5uYXZUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgIGlmIChuYXZNYWluLmNsYXNzTGlzdC5jb250YWlucygnbWVudV9jbG9zZWQnKSkge1xyXG4gICAgICAgIG5hdk1haW4uY2xhc3NMaXN0LnJlbW92ZSgnbWVudV9jbG9zZWQnKTtcclxuICAgICAgICBuYXZNYWluLmNsYXNzTGlzdC5hZGQoJ21lbnVfb3BlbmVkJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5hdk1haW4uY2xhc3NMaXN0LmFkZCgnbWVudV9jbG9zZWQnKTtcclxuICAgICAgICBuYXZNYWluLmNsYXNzTGlzdC5yZW1vdmUoJ21lbnVfb3BlbmVkJyk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbi8vICAkKCdhW2hyZWYqPSNdJykuYmluZCgnY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbi8vICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiBcclxuLy8gIHZhciB0YXJnZXQgPSAkKHRoaXMpLmF0dHIoXCJocmVmXCIpO1xyXG4gXHJcbi8vICAkKCdodG1sLCBib2R5Jykuc3RvcCgpLmFuaW1hdGUoeyBzY3JvbGxUb3A6ICQodGFyZ2V0KS5vZmZzZXQoKS50b3B9LCAxMDAwLCBmdW5jdGlvbigpIHtcclxuLy8gIGxvY2F0aW9uLmhhc2ggPSB0YXJnZXQ7XHJcbi8vICB9KTtcclxuIFxyXG4vLyAgcmV0dXJuIGZhbHNlO1xyXG4vLyAgfSk7XHJcbi8vIH0pO1xyXG5cclxuXHJcbi8vICQoJy5tZW51X19saW5rJykub24oICdjbGljaycsIGZ1bmN0aW9uKCl7IFxyXG5cclxuLy8gICAgIC8vICQoJyNob21lJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkLWhvbWUnKTtcclxuLy8gICAgIC8vICQoJyNzZXJ2aWNlcycpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4vLyAgICAgLy8gJCgnI3BvcnRmb2xpbycpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4vLyAgICAgLy8gJCgnI2Fib3V0JykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbi8vICAgICAvLyAkKCcjdGVhbScpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4vLyAgICAgLy8gJCgnI2NvbnRhY3QnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuXHJcbi8vICAgICB2YXIgZWwgPSAkKHRoaXMpO1xyXG4vLyAgICAgdmFyIGRlc3QgPSBlbC5hdHRyKCdocmVmJyk7IC8vINC/0L7Qu9GD0YfQsNC10Lwg0L3QsNC/0YDQsNCy0LvQtdC90LjQtVxyXG4vLyAgICAgaWYoZGVzdCAhPT0gdW5kZWZpbmVkICYmIGRlc3QgIT09ICcnKSB7IC8vINC/0YDQvtCy0LXRgNGP0LXQvCDRgdGD0YnQtdGB0YLQstC+0LLQsNC90LjQtVxyXG4vLyAgICAgICAgICQoJ2h0bWwnKS5hbmltYXRlKHsgXHJcbi8vICAgICAgICAgICAgIHNjcm9sbFRvcDogJChkZXN0KS5vZmZzZXQoKS50b3AgLy8g0L/RgNC+0LrRgNGD0YfQuNCy0LDQtdC8INGB0YLRgNCw0L3QuNGG0YMg0Log0YLRgNC10LHRg9C10LzQvtC80YMg0Y3Qu9C10LzQtdC90YLRg1xyXG4vLyAgICAgICAgIH0sIDUwMCAvLyDRgdC60L7RgNC+0YHRgtGMINC/0YDQvtC60YDRg9GC0LrQuFxyXG4vLyAgICAgICAgICk7XHJcblxyXG4vLyAgICAgICAgIC8vIGlmIChkZXN0ICE9PSAnI2hvbWUnKSB7XHJcbi8vICAgICAgICAgLy8gICAgICQodGhpcykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbi8vICAgICAgICAgLy8gfSBlbHNlIHtcclxuLy8gICAgICAgICAvLyAgICAgJCh0aGlzKS5hZGRDbGFzcygnZGlzYWJsZWQtaG9tZScpO1xyXG4vLyAgICAgICAgIC8vICAgICAkKCcjY29udGFjdCcpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4vLyAgICAgICAgIC8vIH1cclxuLy8gICAgIH1cclxuLy8gICAgIHJldHVybiBmYWxzZTtcclxuLy8gfSlcclxuXHJcblxyXG5cclxuJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHsgXHJcbiAgICB2YXIgdGhlX3RvcCA9ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpO1xyXG4gICAgaWYgKHRoZV90b3AgPiAxMDApIHtcclxuICAgICAgICAkKCcuZml4LW1lbnUnKS5hZGRDbGFzcygnZml4LW1lbnVfZml4ZWQnKTtcclxuICAgICAgICAkKCcuY2hpZWYnKS5hZGRDbGFzcygnY2hpZWZfaW5kZW50Jyk7XHJcbiAgICAgICAgJCgnI2ZpcnN0JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1saW5rX2hvbWUnKTtcclxuXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAkKCcuZml4LW1lbnUnKS5yZW1vdmVDbGFzcygnZml4LW1lbnVfZml4ZWQnKTtcclxuICAgICAgICAkKCcuY2hpZWYnKS5yZW1vdmVDbGFzcygnY2hpZWZfaW5kZW50Jyk7XHJcbiAgICAgICAgJCgnI2ZpcnN0JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1saW5rJyk7XHJcbiAgICAgICAgJCgnI2ZpcnN0JykuYWRkQ2xhc3MoJ2FjdGl2ZS1saW5rX2hvbWUnKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuXHJcbi8vICQoZnVuY3Rpb24oKSB7XHJcbi8vICAgJChcIi5tZW51IGxpIGFcIikuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4vLyAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4vLyAgICAgJChcIi5tZW51IGxpIGFcIikucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbi8vICAgICAkKFwiLm1lbnUgbGk6Zmlyc3QtY2hpbGQgYVwiKS5hZGRDbGFzcygnZGlzYWJsZWQtaG9tZScpO1xyXG4gICAgXHJcbi8vICAgICAkKHRoaXMpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG4vLyAgIH0pXHJcbi8vIH0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbnZhciBtZW51X3NlbGVjdG9yID0gXCIubWVudVwiOyAvLyDQn9C10YDQtdC80LXQvdC90LDRjyDQtNC+0LvQttC90LAg0YHQvtC00LXRgNC20LDRgtGMINC90LDQt9Cy0LDQvdC40LUg0LrQu9Cw0YHRgdCwINC40LvQuCDQuNC00LXQvdGC0LjRhNC40LrQsNGC0L7RgNCwLCDQvtCx0LXRgNGC0LrQuCDQvdCw0YjQtdCz0L4g0LzQtdC90Y4uIFxyXG5mdW5jdGlvbiBvblNjcm9sbCgpe1xyXG4gICAgdmFyIHNjcm9sbF90b3AgPSAkKGRvY3VtZW50KS5zY3JvbGxUb3AoKTtcclxuICAgICQobWVudV9zZWxlY3RvciArIFwiIGFcIikuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBoYXNoID0gJCh0aGlzKS5hdHRyKFwiaHJlZlwiKTtcclxuICAgICAgICB2YXIgdGFyZ2V0ID0gJChoYXNoKTtcclxuICAgICAgICBpZiAodGFyZ2V0LnBvc2l0aW9uKCkudG9wIDw9IHNjcm9sbF90b3AgJiYgdGFyZ2V0LnBvc2l0aW9uKCkudG9wICsgdGFyZ2V0Lm91dGVySGVpZ2h0KCkgPiBzY3JvbGxfdG9wKSB7XHJcbiAgICAgICAgICAgICQobWVudV9zZWxlY3RvciArIFwiIGEuYWN0aXZlLWxpbmtcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmUtbGlua1wiKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZS1saW5rXCIpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiYWN0aXZlLWxpbmtcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgJChkb2N1bWVudCkub24oXCJzY3JvbGxcIiwgb25TY3JvbGwpO1xyXG4gICAgJChcImFbaHJlZl49XFxcXCNdXCIpLmNsaWNrKGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAkKGRvY3VtZW50KS5vZmYoXCJzY3JvbGxcIik7XHJcbiAgICAgICAgJChtZW51X3NlbGVjdG9yICsgXCIgYS5hY3RpdmUtbGlua1wiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZS1saW5rXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmUtbGlua1wiKTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdmFyIGhhc2ggPSAkKHRoaXMpLmF0dHIoXCJocmVmXCIpO1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSAkKGhhc2gpO1xyXG5cclxuXHJcbiAgICAgICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvcDogdGFyZ2V0Lm9mZnNldCgpLnRvcFxyXG4gICAgICAgIH0sIDUwMCwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBoYXNoO1xyXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbihcInNjcm9sbFwiLCBvblNjcm9sbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsgXHJcbiAgICAkKCdbZGF0YS1zdWJtaXRdJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICQodGhpcykucGFyZW50KCdmb3JtJykuc3VibWl0KCk7XHJcbiAgICB9KVxyXG4gICAgJC52YWxpZGF0b3IuYWRkTWV0aG9kKFxyXG4gICAgICAgIFwicmVnZXhcIixcclxuICAgICAgICBmdW5jdGlvbih2YWx1ZSwgZWxlbWVudCwgcmVnZXhwKSB7XHJcbiAgICAgICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAocmVnZXhwKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uYWwoZWxlbWVudCkgfHwgcmUudGVzdCh2YWx1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcItCf0L7QttCw0LvRg9C50YHRgtCwLCDQv9GA0L7QstC10YDRjNGC0LUg0YHQstC+0Lgg0LTQsNC90L3Ri9C1XCJcclxuICAgICk7XHJcbiAgICBmdW5jdGlvbiB2YWxFbChlbCl7XHJcblxyXG4gICAgICAgIGVsLnZhbGlkYXRlKHtcclxuICAgICAgICAgICAgcnVsZXM6e1xyXG4gICAgICAgICAgICAgICAgRW1haWw6e1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOnRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6dHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgINCY0LzRjzp7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6dHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgINCh0L7QvtCx0YnQtdC90LjQtTp7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6dHJ1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtZXNzYWdlczp7XHJcbiAgICAgICAgICAgICAgICBFbWFpbDp7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6J9Cf0L7Qu9C1INC+0LHRj9C30LDRgtC10LvRjNC90L4g0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPJyxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDon0J3QtdCy0LXRgNC90YvQuSDRhNC+0YDQvNCw0YIgRS1tYWlsJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgINCY0LzRjzp7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6J9Cf0L7Qu9C1INC+0LHRj9C30LDRgtC10LvRjNC90L4g0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgINCh0L7QvtCx0YnQtdC90LjQtTp7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6J9Cf0L7Qu9C1INC+0LHRj9C30LDRgtC10LvRjNC90L4g0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWJtaXRIYW5kbGVyOiBmdW5jdGlvbiAoZm9ybSkge1xyXG4gICAgICAgICAgICAgICAgdmFyICRmb3JtID0gJChmb3JtKTtcclxuICAgICAgICAgICAgICAgIHZhciAkZm9ybUlkID0gJChmb3JtKS5hdHRyKCdpZCcpO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKCRmb3JtSWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UnZ29Ub05ld1BhZ2UnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkZm9ybS5hdHRyKCdhY3Rpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6ICRmb3JtLnNlcmlhbGl6ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFsd2F5cyhmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYSgnc2VuZCcsICdldmVudCcsICdtYXN0ZXJrbGFzczcnLCAncmVnaXN0ZXInKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YUNvdW50ZXIyNzcxNDYwMy5yZWFjaEdvYWwoJ2xtMTdsZWFkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSdwb3B1cFJlc3VsdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICRmb3JtLmF0dHIoJ2FjdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogJGZvcm0uc2VyaWFsaXplKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWx3YXlzKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNvdmVybGF5JykuZmFkZUluKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNwb3B1cCcpLmZhZGVJbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZm9ybS50cmlnZ2VyKCdyZXNldCcpOyAvL9C+0YfQuNGB0YLQutCwINC00LDQvdC90YvRhSDRhNC+0YDQvNGLXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwxMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjb3ZlcmxheSwgI2Nsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjb3ZlcmxheScpLmZhZGVPdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3BvcHVwJykuZmFkZU91dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH07XHJcblxyXG4gICAgJCgnLmludml0ZScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFsRWwoJCh0aGlzKSk7XHJcbiAgICB9KTtcclxuICAgICQoJ1tkYXRhLXNjcm9sbF0nKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgc2Nyb2xsVG9wOiAkKCAkLmF0dHIodGhpcywgJ2RhdGEtc2Nyb2xsJykgKS5vZmZzZXQoKS50b3BcclxuICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbn0pOyBcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgICAkKGRvY3VtZW50KS5jbGljayggZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCl7XHJcbiAgICAgICAgICAgICQoXCJsYWJlbFwiKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0sNDEwMCk7XHJcbiAgICB9KTtcclxufSk7Il19
