(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),s=a(1),i=a(2),l=a(4),m=a(3),u=a(5),p=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.city,a=e.handleInput,n=e.submitAction;return r.a.createElement("form",{onSubmit:n},r.a.createElement("h1",{className:"alert alert-success"},"Weather in ",t," \u263a"),r.a.createElement("div",{className:"form-group row justify-content-center align-items-center search"},r.a.createElement("label",{htmlFor:"city",className:"col-form-label label"},"City:"),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("input",{type:"text",className:"form-control input",id:"city",placeholder:"City",onChange:a,value:t,onBlur:n})),r.a.createElement("button",{className:"btn btn-primary"},"Fetch")))}}]),t}(r.a.Component),h=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"period"},r.a.createElement("h3",{className:"text-center"},"Please select period of weather"),r.a.createElement("div",{className:"period__list"},r.a.createElement("div",{className:"custom-control custom-radio period__item"},r.a.createElement("input",{type:"radio",id:"period1",name:"period",value:"1",className:"custom-control-input",onChange:this.props.handleRadio,checked:"1"===this.props.period}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"period1"},"Now")),r.a.createElement("div",{className:"custom-control custom-radio period__item"},r.a.createElement("input",{type:"radio",id:"period2",name:"period",value:"3",className:"custom-control-input",onChange:this.props.handleRadio}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"period2"},"3 days")),r.a.createElement("div",{className:"custom-control custom-radio period__item"},r.a.createElement("input",{type:"radio",id:"period3",name:"period",value:"7",className:"custom-control-input",onChange:this.props.handleRadio}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"period3"},"7 days"))))}}]),t}(r.a.Component),d=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=new Date,t=new Date,a=e.getDate(),n=e.getMonth()+1,c=e.getFullYear();switch(this.props.period){case"1":return r.a.createElement("div",{className:"dates"},r.a.createElement("div",{className:"text-center alert alert-warning"},"".concat(a>9?a:"0"+a,".").concat(n>9?n:"0"+n,".").concat(c)));case"3":t.setDate(t.getDate()+3);break;case"7":t.setDate(t.getDate()+7)}var o=t.getDate(),s=t.getMonth()+1,i=t.getFullYear();return r.a.createElement("div",{className:"dates"},r.a.createElement("div",{className:"text-center alert alert-warning"},"".concat(a>9?a:"0"+a,".").concat(n>9?n:"0"+n,".").concat(c," "),"-"," ".concat(o>9?o:"0"+o,".").concat(s>9?s:"0"+s,".").concat(i)))}}]),t}(r.a.Component),v="3c3674a3c13a0084561b70150037e575",f={getWeather:function(e,t){return"1"===t?"http://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat(v):"http://api.openweathermap.org/data/2.5/forecast/daily?q=".concat(e,"&mode=json&cnt=").concat(t,"&appid=").concat(v)},getImg:function(e){return"http://openweathermap.org/img/w/".concat(e,".png")}};var b=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"renderEmptyMessage",value:function(){return r.a.createElement("div",null,"The search did not give results")}},{key:"renderWeather",value:function(){var e=this.props,t=e.weather,a=void 0===t?[]:t,n=e.temperature;return r.a.createElement("ul",{className:"list"},a.map(function(e,t){return r.a.createElement("div",{key:t+1,className:"list__item"},r.a.createElement("span",{className:"temperature"},(n[t]-273.15).toFixed(1)),r.a.createElement("span",{className:"celsius"},r.a.createElement("sup",null," 0"),"C"),r.a.createElement("img",{src:f.getImg(e.icon),alt:"",className:"list__img"}),r.a.createElement("span",null,e.description))}))}},{key:"render",value:function(){var e=this.props.weather,t=void 0===e?[]:e;return r.a.createElement("div",{className:"list"},t.length>0?this.renderWeather():this.renderEmptyMessage())}}]),t}(r.a.Component),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).searchHandler=function(e){var t=e.target.value;a.setState({city:t})},a.periodHandler=function(e){var t=e.target.value;a.setState({period:t},function(){a.fetchWeather()})},a.fetchWeather=function(e){e&&e.preventDefault(),""!==a.state.city?(a.setState({successFetch:!1}),fetch(f.getWeather(a.state.city,a.state.period)).then(function(e){return e.ok?e:Promise.reject("Not found weather")}).then(function(e){return e.json()}).then(function(e){var t=e.list,a=e.weather,n=e.main;return t?{weather:t.map(function(e){return e.weather[0]}),temperature:t.map(function(e){return e.temp.day})}:a?{weather:a,temperature:[n.temp]}:void 0}).then(function(e){var t=e.weather,n=e.temperature;return a.setState({weather:t,temperature:n,successFetch:!0})}).catch(function(e){a.setState({weather:[],successFetch:!0}),console.log(e)})):a.setState({weather:[],successFetch:!0})},a.state={weather:[],temperature:[],successFetch:!1,city:"Kyiv",period:"1"},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchWeather()}},{key:"render",value:function(){var e=this.state,t=e.weather,a=e.successFetch,n=e.city,c=e.temperature,o=e.period;return r.a.createElement("div",{className:"weather-app"},r.a.createElement(p,{city:n,submitAction:this.fetchWeather,handleInput:this.searchHandler}),r.a.createElement("div",{className:"weather-app__content"},r.a.createElement(h,{handleRadio:this.periodHandler,period:o}),a?r.a.createElement("div",null,r.a.createElement(d,{period:o}),r.a.createElement(b,{weather:t,temperature:c})):r.a.createElement("div",{className:"text-center"},"Loading...")))}}]),t}(r.a.Component);a(14),a(15);o.a.render(r.a.createElement(E,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.77953f04.chunk.js.map